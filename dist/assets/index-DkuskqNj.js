function pp(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();function mp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var nd={exports:{}},Wi={},sd={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bs=Symbol.for("react.element"),gp=Symbol.for("react.portal"),xp=Symbol.for("react.fragment"),yp=Symbol.for("react.strict_mode"),vp=Symbol.for("react.profiler"),wp=Symbol.for("react.provider"),bp=Symbol.for("react.context"),_p=Symbol.for("react.forward_ref"),jp=Symbol.for("react.suspense"),kp=Symbol.for("react.memo"),Np=Symbol.for("react.lazy"),dc=Symbol.iterator;function Sp(e){return e===null||typeof e!="object"?null:(e=dc&&e[dc]||e["@@iterator"],typeof e=="function"?e:null)}var id={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ad=Object.assign,od={};function xn(e,t,r){this.props=e,this.context=t,this.refs=od,this.updater=r||id}xn.prototype.isReactComponent={};xn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ld(){}ld.prototype=xn.prototype;function ll(e,t,r){this.props=e,this.context=t,this.refs=od,this.updater=r||id}var cl=ll.prototype=new ld;cl.constructor=ll;ad(cl,xn.prototype);cl.isPureReactComponent=!0;var hc=Array.isArray,cd=Object.prototype.hasOwnProperty,ul={current:null},ud={key:!0,ref:!0,__self:!0,__source:!0};function dd(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)cd.call(t,n)&&!ud.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:bs,type:e,key:a,ref:o,props:s,_owner:ul.current}}function Ep(e,t){return{$$typeof:bs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function dl(e){return typeof e=="object"&&e!==null&&e.$$typeof===bs}function Cp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var fc=/\/+/g;function ma(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Cp(""+e.key):t.toString(36)}function ti(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case bs:case gp:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+ma(o,0):n,hc(s)?(r="",e!=null&&(r=e.replace(fc,"$&/")+"/"),ti(s,t,r,"",function(u){return u})):s!=null&&(dl(s)&&(s=Ep(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(fc,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",hc(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+ma(a,l);o+=ti(a,t,r,c,s)}else if(c=Sp(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+ma(a,l++),o+=ti(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ts(e,t,r){if(e==null)return e;var n=[],s=0;return ti(e,n,"","",function(a){return t.call(r,a,s++)}),n}function Pp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},ri={transition:null},Ap={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:ri,ReactCurrentOwner:ul};function hd(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:Ts,forEach:function(e,t,r){Ts(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ts(e,function(){t++}),t},toArray:function(e){return Ts(e,function(t){return t})||[]},only:function(e){if(!dl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=xn;W.Fragment=xp;W.Profiler=vp;W.PureComponent=ll;W.StrictMode=yp;W.Suspense=jp;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ap;W.act=hd;W.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=ad({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=ul.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)cd.call(t,c)&&!ud.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:bs,type:e.type,key:s,ref:a,props:n,_owner:o}};W.createContext=function(e){return e={$$typeof:bp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:wp,_context:e},e.Consumer=e};W.createElement=dd;W.createFactory=function(e){var t=dd.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:_p,render:e}};W.isValidElement=dl;W.lazy=function(e){return{$$typeof:Np,_payload:{_status:-1,_result:e},_init:Pp}};W.memo=function(e,t){return{$$typeof:kp,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=ri.transition;ri.transition={};try{e()}finally{ri.transition=t}};W.unstable_act=hd;W.useCallback=function(e,t){return Oe.current.useCallback(e,t)};W.useContext=function(e){return Oe.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};W.useEffect=function(e,t){return Oe.current.useEffect(e,t)};W.useId=function(){return Oe.current.useId()};W.useImperativeHandle=function(e,t,r){return Oe.current.useImperativeHandle(e,t,r)};W.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Oe.current.useMemo(e,t)};W.useReducer=function(e,t,r){return Oe.current.useReducer(e,t,r)};W.useRef=function(e){return Oe.current.useRef(e)};W.useState=function(e){return Oe.current.useState(e)};W.useSyncExternalStore=function(e,t,r){return Oe.current.useSyncExternalStore(e,t,r)};W.useTransition=function(){return Oe.current.useTransition()};W.version="18.3.1";sd.exports=W;var _=sd.exports;const Tp=mp(_),Fp=pp({__proto__:null,default:Tp},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp=_,Op=Symbol.for("react.element"),Ip=Symbol.for("react.fragment"),Dp=Object.prototype.hasOwnProperty,Lp=Rp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$p={key:!0,ref:!0,__self:!0,__source:!0};function fd(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Dp.call(t,n)&&!$p.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Op,type:e,key:a,ref:o,props:s,_owner:Lp.current}}Wi.Fragment=Ip;Wi.jsx=fd;Wi.jsxs=fd;nd.exports=Wi;var i=nd.exports,pd={exports:{}},He={},md={exports:{}},gd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,U){var M=R.length;R.push(U);e:for(;0<M;){var te=M-1>>>1,de=R[te];if(0<s(de,U))R[te]=U,R[M]=de,M=te;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var U=R[0],M=R.pop();if(M!==U){R[0]=M;e:for(var te=0,de=R.length,E=de>>>1;te<E;){var V=2*(te+1)-1,Q=R[V],re=V+1,Te=R[re];if(0>s(Q,M))re<de&&0>s(Te,Q)?(R[te]=Te,R[re]=M,te=re):(R[te]=Q,R[V]=M,te=V);else if(re<de&&0>s(Te,M))R[te]=Te,R[re]=M,te=re;else break e}}return U}function s(R,U){var M=R.sortIndex-U.sortIndex;return M!==0?M:R.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,m=null,f=3,y=!1,v=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(R){for(var U=r(u);U!==null;){if(U.callback===null)n(u);else if(U.startTime<=R)n(u),U.sortIndex=U.expirationTime,t(c,U);else break;U=r(u)}}function b(R){if(g=!1,x(R),!v)if(r(c)!==null)v=!0,Nr(S);else{var U=r(u);U!==null&&Sr(b,U.startTime-R)}}function S(R,U){v=!1,g&&(g=!1,p(N),N=-1),y=!0;var M=f;try{for(x(U),m=r(c);m!==null&&(!(m.expirationTime>U)||R&&!F());){var te=m.callback;if(typeof te=="function"){m.callback=null,f=m.priorityLevel;var de=te(m.expirationTime<=U);U=e.unstable_now(),typeof de=="function"?m.callback=de:m===r(c)&&n(c),x(U)}else n(c);m=r(c)}if(m!==null)var E=!0;else{var V=r(u);V!==null&&Sr(b,V.startTime-U),E=!1}return E}finally{m=null,f=M,y=!1}}var k=!1,j=null,N=-1,P=5,C=-1;function F(){return!(e.unstable_now()-C<P)}function I(){if(j!==null){var R=e.unstable_now();C=R;var U=!0;try{U=j(!0,R)}finally{U?H():(k=!1,j=null)}}else k=!1}var H;if(typeof h=="function")H=function(){h(I)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,G=B.port2;B.port1.onmessage=I,H=function(){G.postMessage(null)}}else H=function(){w(I,0)};function Nr(R){j=R,k||(k=!0,H())}function Sr(R,U){N=w(function(){R(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,Nr(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var M=f;f=U;try{return R()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,U){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var M=f;f=R;try{return U()}finally{f=M}},e.unstable_scheduleCallback=function(R,U,M){var te=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?te+M:te):M=te,R){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=M+de,R={id:d++,callback:U,priorityLevel:R,startTime:M,expirationTime:de,sortIndex:-1},M>te?(R.sortIndex=M,t(u,R),r(c)===null&&R===r(u)&&(g?(p(N),N=-1):g=!0,Sr(b,M-te))):(R.sortIndex=de,t(c,R),v||y||(v=!0,Nr(S))),R},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(R){var U=f;return function(){var M=f;f=U;try{return R.apply(this,arguments)}finally{f=M}}}})(gd);md.exports=gd;var zp=md.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Up=_,qe=zp;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xd=new Set,Jn={};function jr(e,t){on(e,t),on(e+"Capture",t)}function on(e,t){for(Jn[e]=t,e=0;e<t.length;e++)xd.add(t[e])}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qa=Object.prototype.hasOwnProperty,Mp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pc={},mc={};function Bp(e){return Qa.call(mc,e)?!0:Qa.call(pc,e)?!1:Mp.test(e)?mc[e]=!0:(pc[e]=!0,!1)}function Wp(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Vp(e,t,r,n){if(t===null||typeof t>"u"||Wp(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ie(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new Ie(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new Ie(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new Ie(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new Ie(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new Ie(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new Ie(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new Ie(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new Ie(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new Ie(e,5,!1,e.toLowerCase(),null,!1,!1)});var hl=/[\-:]([a-z])/g;function fl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hl,fl);Se[t]=new Ie(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hl,fl);Se[t]=new Ie(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hl,fl);Se[t]=new Ie(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new Ie(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new Ie("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new Ie(e,1,!1,e.toLowerCase(),null,!0,!0)});function pl(e,t,r,n){var s=Se.hasOwnProperty(t)?Se[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Vp(t,r,s,n)&&(r=null),n||s===null?Bp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Et=Up.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fs=Symbol.for("react.element"),zr=Symbol.for("react.portal"),Ur=Symbol.for("react.fragment"),ml=Symbol.for("react.strict_mode"),Ya=Symbol.for("react.profiler"),yd=Symbol.for("react.provider"),vd=Symbol.for("react.context"),gl=Symbol.for("react.forward_ref"),Xa=Symbol.for("react.suspense"),Za=Symbol.for("react.suspense_list"),xl=Symbol.for("react.memo"),Tt=Symbol.for("react.lazy"),wd=Symbol.for("react.offscreen"),gc=Symbol.iterator;function _n(e){return e===null||typeof e!="object"?null:(e=gc&&e[gc]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,ga;function Fn(e){if(ga===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ga=t&&t[1]||""}return`
`+ga+e}var xa=!1;function ya(e,t){if(!e||xa)return"";xa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{xa=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Fn(e):""}function qp(e){switch(e.tag){case 5:return Fn(e.type);case 16:return Fn("Lazy");case 13:return Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 2:case 15:return e=ya(e.type,!1),e;case 11:return e=ya(e.type.render,!1),e;case 1:return e=ya(e.type,!0),e;default:return""}}function eo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ur:return"Fragment";case zr:return"Portal";case Ya:return"Profiler";case ml:return"StrictMode";case Xa:return"Suspense";case Za:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vd:return(e.displayName||"Context")+".Consumer";case yd:return(e._context.displayName||"Context")+".Provider";case gl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case xl:return t=e.displayName||null,t!==null?t:eo(e.type)||"Memo";case Tt:t=e._payload,e=e._init;try{return eo(e(t))}catch{}}return null}function Hp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return eo(t);case 8:return t===ml?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Kp(e){var t=bd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rs(e){e._valueTracker||(e._valueTracker=Kp(e))}function _d(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=bd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function to(e,t){var r=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function xc(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Qt(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jd(e,t){t=t.checked,t!=null&&pl(e,"checked",t,!1)}function ro(e,t){jd(e,t);var r=Qt(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?no(e,t.type,r):t.hasOwnProperty("defaultValue")&&no(e,t.type,Qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function no(e,t,r){(t!=="number"||fi(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Rn=Array.isArray;function Xr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Qt(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function so(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(A(92));if(Rn(r)){if(1<r.length)throw Error(A(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Qt(r)}}function kd(e,t){var r=Qt(t.value),n=Qt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function wc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Nd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function io(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Nd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Os,Sd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Os=Os||document.createElement("div"),Os.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Os.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Qn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gp=["Webkit","ms","Moz","O"];Object.keys(Ln).forEach(function(e){Gp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ln[t]=Ln[e]})});function Ed(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ln.hasOwnProperty(e)&&Ln[e]?(""+t).trim():t+"px"}function Cd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Ed(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Jp=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ao(e,t){if(t){if(Jp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function oo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lo=null;function yl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var co=null,Zr=null,en=null;function bc(e){if(e=ks(e)){if(typeof co!="function")throw Error(A(280));var t=e.stateNode;t&&(t=Gi(t),co(e.stateNode,e.type,t))}}function Pd(e){Zr?en?en.push(e):en=[e]:Zr=e}function Ad(){if(Zr){var e=Zr,t=en;if(en=Zr=null,bc(e),t)for(e=0;e<t.length;e++)bc(t[e])}}function Td(e,t){return e(t)}function Fd(){}var va=!1;function Rd(e,t,r){if(va)return e(t,r);va=!0;try{return Td(e,t,r)}finally{va=!1,(Zr!==null||en!==null)&&(Fd(),Ad())}}function Yn(e,t){var r=e.stateNode;if(r===null)return null;var n=Gi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(A(231,t,typeof r));return r}var uo=!1;if(jt)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){uo=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{uo=!1}function Qp(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var $n=!1,pi=null,mi=!1,ho=null,Yp={onError:function(e){$n=!0,pi=e}};function Xp(e,t,r,n,s,a,o,l,c){$n=!1,pi=null,Qp.apply(Yp,arguments)}function Zp(e,t,r,n,s,a,o,l,c){if(Xp.apply(this,arguments),$n){if($n){var u=pi;$n=!1,pi=null}else throw Error(A(198));mi||(mi=!0,ho=u)}}function kr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Od(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _c(e){if(kr(e)!==e)throw Error(A(188))}function em(e){var t=e.alternate;if(!t){if(t=kr(e),t===null)throw Error(A(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return _c(s),e;if(a===n)return _c(s),t;a=a.sibling}throw Error(A(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(A(189))}}if(r.alternate!==n)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?e:t}function Id(e){return e=em(e),e!==null?Dd(e):null}function Dd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Dd(e);if(t!==null)return t;e=e.sibling}return null}var Ld=qe.unstable_scheduleCallback,jc=qe.unstable_cancelCallback,tm=qe.unstable_shouldYield,rm=qe.unstable_requestPaint,he=qe.unstable_now,nm=qe.unstable_getCurrentPriorityLevel,vl=qe.unstable_ImmediatePriority,$d=qe.unstable_UserBlockingPriority,gi=qe.unstable_NormalPriority,sm=qe.unstable_LowPriority,zd=qe.unstable_IdlePriority,Vi=null,pt=null;function im(e){if(pt&&typeof pt.onCommitFiberRoot=="function")try{pt.onCommitFiberRoot(Vi,e,void 0,(e.current.flags&128)===128)}catch{}}var ot=Math.clz32?Math.clz32:lm,am=Math.log,om=Math.LN2;function lm(e){return e>>>=0,e===0?32:31-(am(e)/om|0)|0}var Is=64,Ds=4194304;function On(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=On(l):(a&=o,a!==0&&(n=On(a)))}else o=r&~s,o!==0?n=On(o):a!==0&&(n=On(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ot(t),s=1<<r,n|=e[r],t&=~s;return n}function cm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function um(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=cm(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function fo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ud(){var e=Is;return Is<<=1,!(Is&4194240)&&(Is=64),e}function wa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function _s(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ot(t),e[t]=r}function dm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ot(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function wl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ot(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var K=0;function Md(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bd,bl,Wd,Vd,qd,po=!1,Ls=[],Ut=null,Mt=null,Bt=null,Xn=new Map,Zn=new Map,Ot=[],hm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kc(e,t){switch(e){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":Xn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(t.pointerId)}}function kn(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=ks(t),t!==null&&bl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function fm(e,t,r,n,s){switch(t){case"focusin":return Ut=kn(Ut,e,t,r,n,s),!0;case"dragenter":return Mt=kn(Mt,e,t,r,n,s),!0;case"mouseover":return Bt=kn(Bt,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Xn.set(a,kn(Xn.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Zn.set(a,kn(Zn.get(a)||null,e,t,r,n,s)),!0}return!1}function Hd(e){var t=hr(e.target);if(t!==null){var r=kr(t);if(r!==null){if(t=r.tag,t===13){if(t=Od(r),t!==null){e.blockedOn=t,qd(e.priority,function(){Wd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ni(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=mo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);lo=n,r.target.dispatchEvent(n),lo=null}else return t=ks(r),t!==null&&bl(t),e.blockedOn=r,!1;t.shift()}return!0}function Nc(e,t,r){ni(e)&&r.delete(t)}function pm(){po=!1,Ut!==null&&ni(Ut)&&(Ut=null),Mt!==null&&ni(Mt)&&(Mt=null),Bt!==null&&ni(Bt)&&(Bt=null),Xn.forEach(Nc),Zn.forEach(Nc)}function Nn(e,t){e.blockedOn===t&&(e.blockedOn=null,po||(po=!0,qe.unstable_scheduleCallback(qe.unstable_NormalPriority,pm)))}function es(e){function t(s){return Nn(s,e)}if(0<Ls.length){Nn(Ls[0],e);for(var r=1;r<Ls.length;r++){var n=Ls[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ut!==null&&Nn(Ut,e),Mt!==null&&Nn(Mt,e),Bt!==null&&Nn(Bt,e),Xn.forEach(t),Zn.forEach(t),r=0;r<Ot.length;r++)n=Ot[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ot.length&&(r=Ot[0],r.blockedOn===null);)Hd(r),r.blockedOn===null&&Ot.shift()}var tn=Et.ReactCurrentBatchConfig,yi=!0;function mm(e,t,r,n){var s=K,a=tn.transition;tn.transition=null;try{K=1,_l(e,t,r,n)}finally{K=s,tn.transition=a}}function gm(e,t,r,n){var s=K,a=tn.transition;tn.transition=null;try{K=4,_l(e,t,r,n)}finally{K=s,tn.transition=a}}function _l(e,t,r,n){if(yi){var s=mo(e,t,r,n);if(s===null)Aa(e,t,n,vi,r),kc(e,n);else if(fm(s,e,t,r,n))n.stopPropagation();else if(kc(e,n),t&4&&-1<hm.indexOf(e)){for(;s!==null;){var a=ks(s);if(a!==null&&Bd(a),a=mo(e,t,r,n),a===null&&Aa(e,t,n,vi,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Aa(e,t,n,null,r)}}var vi=null;function mo(e,t,r,n){if(vi=null,e=yl(n),e=hr(e),e!==null)if(t=kr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Od(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vi=e,null}function Kd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nm()){case vl:return 1;case $d:return 4;case gi:case sm:return 16;case zd:return 536870912;default:return 16}default:return 16}}var Lt=null,jl=null,si=null;function Gd(){if(si)return si;var e,t=jl,r=t.length,n,s="value"in Lt?Lt.value:Lt.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return si=s.slice(e,1<n?1-n:void 0)}function ii(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function $s(){return!0}function Sc(){return!1}function Ke(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?$s:Sc,this.isPropagationStopped=Sc,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),t}var yn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=Ke(yn),js=oe({},yn,{view:0,detail:0}),xm=Ke(js),ba,_a,Sn,qi=oe({},js,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sn&&(Sn&&e.type==="mousemove"?(ba=e.screenX-Sn.screenX,_a=e.screenY-Sn.screenY):_a=ba=0,Sn=e),ba)},movementY:function(e){return"movementY"in e?e.movementY:_a}}),Ec=Ke(qi),ym=oe({},qi,{dataTransfer:0}),vm=Ke(ym),wm=oe({},js,{relatedTarget:0}),ja=Ke(wm),bm=oe({},yn,{animationName:0,elapsedTime:0,pseudoElement:0}),_m=Ke(bm),jm=oe({},yn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),km=Ke(jm),Nm=oe({},yn,{data:0}),Cc=Ke(Nm),Sm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Em={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cm[e])?!!t[e]:!1}function Nl(){return Pm}var Am=oe({},js,{key:function(e){if(e.key){var t=Sm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ii(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Em[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nl,charCode:function(e){return e.type==="keypress"?ii(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ii(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tm=Ke(Am),Fm=oe({},qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pc=Ke(Fm),Rm=oe({},js,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nl}),Om=Ke(Rm),Im=oe({},yn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dm=Ke(Im),Lm=oe({},qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$m=Ke(Lm),zm=[9,13,27,32],Sl=jt&&"CompositionEvent"in window,zn=null;jt&&"documentMode"in document&&(zn=document.documentMode);var Um=jt&&"TextEvent"in window&&!zn,Jd=jt&&(!Sl||zn&&8<zn&&11>=zn),Ac=" ",Tc=!1;function Qd(e,t){switch(e){case"keyup":return zm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mr=!1;function Mm(e,t){switch(e){case"compositionend":return Yd(t);case"keypress":return t.which!==32?null:(Tc=!0,Ac);case"textInput":return e=t.data,e===Ac&&Tc?null:e;default:return null}}function Bm(e,t){if(Mr)return e==="compositionend"||!Sl&&Qd(e,t)?(e=Gd(),si=jl=Lt=null,Mr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jd&&t.locale!=="ko"?null:t.data;default:return null}}var Wm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wm[e.type]:t==="textarea"}function Xd(e,t,r,n){Pd(n),t=wi(t,"onChange"),0<t.length&&(r=new kl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Un=null,ts=null;function Vm(e){ch(e,0)}function Hi(e){var t=Vr(e);if(_d(t))return e}function qm(e,t){if(e==="change")return t}var Zd=!1;if(jt){var ka;if(jt){var Na="oninput"in document;if(!Na){var Rc=document.createElement("div");Rc.setAttribute("oninput","return;"),Na=typeof Rc.oninput=="function"}ka=Na}else ka=!1;Zd=ka&&(!document.documentMode||9<document.documentMode)}function Oc(){Un&&(Un.detachEvent("onpropertychange",eh),ts=Un=null)}function eh(e){if(e.propertyName==="value"&&Hi(ts)){var t=[];Xd(t,ts,e,yl(e)),Rd(Vm,t)}}function Hm(e,t,r){e==="focusin"?(Oc(),Un=t,ts=r,Un.attachEvent("onpropertychange",eh)):e==="focusout"&&Oc()}function Km(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hi(ts)}function Gm(e,t){if(e==="click")return Hi(t)}function Jm(e,t){if(e==="input"||e==="change")return Hi(t)}function Qm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ct=typeof Object.is=="function"?Object.is:Qm;function rs(e,t){if(ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Qa.call(t,s)||!ct(e[s],t[s]))return!1}return!0}function Ic(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dc(e,t){var r=Ic(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ic(r)}}function th(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?th(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function rh(){for(var e=window,t=fi();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=fi(e.document)}return t}function El(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ym(e){var t=rh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&th(r.ownerDocument.documentElement,r)){if(n!==null&&El(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=Dc(r,a);var o=Dc(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Xm=jt&&"documentMode"in document&&11>=document.documentMode,Br=null,go=null,Mn=null,xo=!1;function Lc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xo||Br==null||Br!==fi(n)||(n=Br,"selectionStart"in n&&El(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Mn&&rs(Mn,n)||(Mn=n,n=wi(go,"onSelect"),0<n.length&&(t=new kl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Br)))}function zs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Wr={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionend:zs("Transition","TransitionEnd")},Sa={},nh={};jt&&(nh=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function Ki(e){if(Sa[e])return Sa[e];if(!Wr[e])return e;var t=Wr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in nh)return Sa[e]=t[r];return e}var sh=Ki("animationend"),ih=Ki("animationiteration"),ah=Ki("animationstart"),oh=Ki("transitionend"),lh=new Map,$c="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xt(e,t){lh.set(e,t),jr(t,[e])}for(var Ea=0;Ea<$c.length;Ea++){var Ca=$c[Ea],Zm=Ca.toLowerCase(),eg=Ca[0].toUpperCase()+Ca.slice(1);Xt(Zm,"on"+eg)}Xt(sh,"onAnimationEnd");Xt(ih,"onAnimationIteration");Xt(ah,"onAnimationStart");Xt("dblclick","onDoubleClick");Xt("focusin","onFocus");Xt("focusout","onBlur");Xt(oh,"onTransitionEnd");on("onMouseEnter",["mouseout","mouseover"]);on("onMouseLeave",["mouseout","mouseover"]);on("onPointerEnter",["pointerout","pointerover"]);on("onPointerLeave",["pointerout","pointerover"]);jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jr("onBeforeInput",["compositionend","keypress","textInput","paste"]);jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var In="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tg=new Set("cancel close invalid load scroll toggle".split(" ").concat(In));function zc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Zp(n,t,void 0,e),e.currentTarget=null}function ch(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;zc(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;zc(s,l,u),a=c}}}if(mi)throw e=ho,mi=!1,ho=null,e}function Z(e,t){var r=t[_o];r===void 0&&(r=t[_o]=new Set);var n=e+"__bubble";r.has(n)||(uh(t,e,2,!1),r.add(n))}function Pa(e,t,r){var n=0;t&&(n|=4),uh(r,e,n,t)}var Us="_reactListening"+Math.random().toString(36).slice(2);function ns(e){if(!e[Us]){e[Us]=!0,xd.forEach(function(r){r!=="selectionchange"&&(tg.has(r)||Pa(r,!1,e),Pa(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Us]||(t[Us]=!0,Pa("selectionchange",!1,t))}}function uh(e,t,r,n){switch(Kd(t)){case 1:var s=mm;break;case 4:s=gm;break;default:s=_l}r=s.bind(null,t,r,e),s=void 0,!uo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Aa(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=hr(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}Rd(function(){var u=a,d=yl(r),m=[];e:{var f=lh.get(e);if(f!==void 0){var y=kl,v=e;switch(e){case"keypress":if(ii(r)===0)break e;case"keydown":case"keyup":y=Tm;break;case"focusin":v="focus",y=ja;break;case"focusout":v="blur",y=ja;break;case"beforeblur":case"afterblur":y=ja;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Om;break;case sh:case ih:case ah:y=_m;break;case oh:y=Dm;break;case"scroll":y=xm;break;case"wheel":y=$m;break;case"copy":case"cut":case"paste":y=km;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Pc}var g=(t&4)!==0,w=!g&&e==="scroll",p=g?f!==null?f+"Capture":null:f;g=[];for(var h=u,x;h!==null;){x=h;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,p!==null&&(b=Yn(h,p),b!=null&&g.push(ss(h,b,x)))),w)break;h=h.return}0<g.length&&(f=new y(f,v,null,r,d),m.push({event:f,listeners:g}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==lo&&(v=r.relatedTarget||r.fromElement)&&(hr(v)||v[kt]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=u,v=v?hr(v):null,v!==null&&(w=kr(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(g=Ec,b="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(g=Pc,b="onPointerLeave",p="onPointerEnter",h="pointer"),w=y==null?f:Vr(y),x=v==null?f:Vr(v),f=new g(b,h+"leave",y,r,d),f.target=w,f.relatedTarget=x,b=null,hr(d)===u&&(g=new g(p,h+"enter",v,r,d),g.target=x,g.relatedTarget=w,b=g),w=b,y&&v)t:{for(g=y,p=v,h=0,x=g;x;x=Cr(x))h++;for(x=0,b=p;b;b=Cr(b))x++;for(;0<h-x;)g=Cr(g),h--;for(;0<x-h;)p=Cr(p),x--;for(;h--;){if(g===p||p!==null&&g===p.alternate)break t;g=Cr(g),p=Cr(p)}g=null}else g=null;y!==null&&Uc(m,f,y,g,!1),v!==null&&w!==null&&Uc(m,w,v,g,!0)}}e:{if(f=u?Vr(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var S=qm;else if(Fc(f))if(Zd)S=Jm;else{S=Km;var k=Hm}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Gm);if(S&&(S=S(e,u))){Xd(m,S,r,d);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&no(f,"number",f.value)}switch(k=u?Vr(u):window,e){case"focusin":(Fc(k)||k.contentEditable==="true")&&(Br=k,go=u,Mn=null);break;case"focusout":Mn=go=Br=null;break;case"mousedown":xo=!0;break;case"contextmenu":case"mouseup":case"dragend":xo=!1,Lc(m,r,d);break;case"selectionchange":if(Xm)break;case"keydown":case"keyup":Lc(m,r,d)}var j;if(Sl)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Mr?Qd(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(Jd&&r.locale!=="ko"&&(Mr||N!=="onCompositionStart"?N==="onCompositionEnd"&&Mr&&(j=Gd()):(Lt=d,jl="value"in Lt?Lt.value:Lt.textContent,Mr=!0)),k=wi(u,N),0<k.length&&(N=new Cc(N,e,null,r,d),m.push({event:N,listeners:k}),j?N.data=j:(j=Yd(r),j!==null&&(N.data=j)))),(j=Um?Mm(e,r):Bm(e,r))&&(u=wi(u,"onBeforeInput"),0<u.length&&(d=new Cc("onBeforeInput","beforeinput",null,r,d),m.push({event:d,listeners:u}),d.data=j))}ch(m,t)})}function ss(e,t,r){return{instance:e,listener:t,currentTarget:r}}function wi(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Yn(e,r),a!=null&&n.unshift(ss(e,a,s)),a=Yn(e,t),a!=null&&n.push(ss(e,a,s))),e=e.return}return n}function Cr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uc(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Yn(r,a),c!=null&&o.unshift(ss(r,c,l))):s||(c=Yn(r,a),c!=null&&o.push(ss(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var rg=/\r\n?/g,ng=/\u0000|\uFFFD/g;function Mc(e){return(typeof e=="string"?e:""+e).replace(rg,`
`).replace(ng,"")}function Ms(e,t,r){if(t=Mc(t),Mc(e)!==t&&r)throw Error(A(425))}function bi(){}var yo=null,vo=null;function wo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var bo=typeof setTimeout=="function"?setTimeout:void 0,sg=typeof clearTimeout=="function"?clearTimeout:void 0,Bc=typeof Promise=="function"?Promise:void 0,ig=typeof queueMicrotask=="function"?queueMicrotask:typeof Bc<"u"?function(e){return Bc.resolve(null).then(e).catch(ag)}:bo;function ag(e){setTimeout(function(){throw e})}function Ta(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),es(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);es(t)}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var vn=Math.random().toString(36).slice(2),ft="__reactFiber$"+vn,is="__reactProps$"+vn,kt="__reactContainer$"+vn,_o="__reactEvents$"+vn,og="__reactListeners$"+vn,lg="__reactHandles$"+vn;function hr(e){var t=e[ft];if(t)return t;for(var r=e.parentNode;r;){if(t=r[kt]||r[ft]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Wc(e);e!==null;){if(r=e[ft])return r;e=Wc(e)}return t}e=r,r=e.parentNode}return null}function ks(e){return e=e[ft]||e[kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function Gi(e){return e[is]||null}var jo=[],qr=-1;function Zt(e){return{current:e}}function ee(e){0>qr||(e.current=jo[qr],jo[qr]=null,qr--)}function X(e,t){qr++,jo[qr]=e.current,e.current=t}var Yt={},Ae=Zt(Yt),$e=Zt(!1),yr=Yt;function ln(e,t){var r=e.type.contextTypes;if(!r)return Yt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ze(e){return e=e.childContextTypes,e!=null}function _i(){ee($e),ee(Ae)}function Vc(e,t,r){if(Ae.current!==Yt)throw Error(A(168));X(Ae,t),X($e,r)}function dh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(A(108,Hp(e)||"Unknown",s));return oe({},r,n)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yt,yr=Ae.current,X(Ae,e),X($e,$e.current),!0}function qc(e,t,r){var n=e.stateNode;if(!n)throw Error(A(169));r?(e=dh(e,t,yr),n.__reactInternalMemoizedMergedChildContext=e,ee($e),ee(Ae),X(Ae,e)):ee($e),X($e,r)}var vt=null,Ji=!1,Fa=!1;function hh(e){vt===null?vt=[e]:vt.push(e)}function cg(e){Ji=!0,hh(e)}function er(){if(!Fa&&vt!==null){Fa=!0;var e=0,t=K;try{var r=vt;for(K=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}vt=null,Ji=!1}catch(s){throw vt!==null&&(vt=vt.slice(e+1)),Ld(vl,er),s}finally{K=t,Fa=!1}}return null}var Hr=[],Kr=0,ki=null,Ni=0,Ge=[],Je=0,vr=null,wt=1,bt="";function ar(e,t){Hr[Kr++]=Ni,Hr[Kr++]=ki,ki=e,Ni=t}function fh(e,t,r){Ge[Je++]=wt,Ge[Je++]=bt,Ge[Je++]=vr,vr=e;var n=wt;e=bt;var s=32-ot(n)-1;n&=~(1<<s),r+=1;var a=32-ot(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,wt=1<<32-ot(t)+s|r<<s|n,bt=a+e}else wt=1<<a|r<<s|n,bt=e}function Cl(e){e.return!==null&&(ar(e,1),fh(e,1,0))}function Pl(e){for(;e===ki;)ki=Hr[--Kr],Hr[Kr]=null,Ni=Hr[--Kr],Hr[Kr]=null;for(;e===vr;)vr=Ge[--Je],Ge[Je]=null,bt=Ge[--Je],Ge[Je]=null,wt=Ge[--Je],Ge[Je]=null}var Ve=null,We=null,se=!1,at=null;function ph(e,t){var r=Qe(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Hc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ve=e,We=Wt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ve=e,We=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=vr!==null?{id:wt,overflow:bt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Qe(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ve=e,We=null,!0):!1;default:return!1}}function ko(e){return(e.mode&1)!==0&&(e.flags&128)===0}function No(e){if(se){var t=We;if(t){var r=t;if(!Hc(e,t)){if(ko(e))throw Error(A(418));t=Wt(r.nextSibling);var n=Ve;t&&Hc(e,t)?ph(n,r):(e.flags=e.flags&-4097|2,se=!1,Ve=e)}}else{if(ko(e))throw Error(A(418));e.flags=e.flags&-4097|2,se=!1,Ve=e}}}function Kc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ve=e}function Bs(e){if(e!==Ve)return!1;if(!se)return Kc(e),se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!wo(e.type,e.memoizedProps)),t&&(t=We)){if(ko(e))throw mh(),Error(A(418));for(;t;)ph(e,t),t=Wt(t.nextSibling)}if(Kc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){We=Wt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}We=null}}else We=Ve?Wt(e.stateNode.nextSibling):null;return!0}function mh(){for(var e=We;e;)e=Wt(e.nextSibling)}function cn(){We=Ve=null,se=!1}function Al(e){at===null?at=[e]:at.push(e)}var ug=Et.ReactCurrentBatchConfig;function En(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(A(309));var n=r.stateNode}if(!n)throw Error(A(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(A(284));if(!r._owner)throw Error(A(290,e))}return e}function Ws(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gc(e){var t=e._init;return t(e._payload)}function gh(e){function t(p,h){if(e){var x=p.deletions;x===null?(p.deletions=[h],p.flags|=16):x.push(h)}}function r(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function n(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function s(p,h){return p=Kt(p,h),p.index=0,p.sibling=null,p}function a(p,h,x){return p.index=x,e?(x=p.alternate,x!==null?(x=x.index,x<h?(p.flags|=2,h):x):(p.flags|=2,h)):(p.flags|=1048576,h)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,h,x,b){return h===null||h.tag!==6?(h=za(x,p.mode,b),h.return=p,h):(h=s(h,x),h.return=p,h)}function c(p,h,x,b){var S=x.type;return S===Ur?d(p,h,x.props.children,b,x.key):h!==null&&(h.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Tt&&Gc(S)===h.type)?(b=s(h,x.props),b.ref=En(p,h,x),b.return=p,b):(b=hi(x.type,x.key,x.props,null,p.mode,b),b.ref=En(p,h,x),b.return=p,b)}function u(p,h,x,b){return h===null||h.tag!==4||h.stateNode.containerInfo!==x.containerInfo||h.stateNode.implementation!==x.implementation?(h=Ua(x,p.mode,b),h.return=p,h):(h=s(h,x.children||[]),h.return=p,h)}function d(p,h,x,b,S){return h===null||h.tag!==7?(h=xr(x,p.mode,b,S),h.return=p,h):(h=s(h,x),h.return=p,h)}function m(p,h,x){if(typeof h=="string"&&h!==""||typeof h=="number")return h=za(""+h,p.mode,x),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Fs:return x=hi(h.type,h.key,h.props,null,p.mode,x),x.ref=En(p,null,h),x.return=p,x;case zr:return h=Ua(h,p.mode,x),h.return=p,h;case Tt:var b=h._init;return m(p,b(h._payload),x)}if(Rn(h)||_n(h))return h=xr(h,p.mode,x,null),h.return=p,h;Ws(p,h)}return null}function f(p,h,x,b){var S=h!==null?h.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:l(p,h,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Fs:return x.key===S?c(p,h,x,b):null;case zr:return x.key===S?u(p,h,x,b):null;case Tt:return S=x._init,f(p,h,S(x._payload),b)}if(Rn(x)||_n(x))return S!==null?null:d(p,h,x,b,null);Ws(p,x)}return null}function y(p,h,x,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(x)||null,l(h,p,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fs:return p=p.get(b.key===null?x:b.key)||null,c(h,p,b,S);case zr:return p=p.get(b.key===null?x:b.key)||null,u(h,p,b,S);case Tt:var k=b._init;return y(p,h,x,k(b._payload),S)}if(Rn(b)||_n(b))return p=p.get(x)||null,d(h,p,b,S,null);Ws(h,b)}return null}function v(p,h,x,b){for(var S=null,k=null,j=h,N=h=0,P=null;j!==null&&N<x.length;N++){j.index>N?(P=j,j=null):P=j.sibling;var C=f(p,j,x[N],b);if(C===null){j===null&&(j=P);break}e&&j&&C.alternate===null&&t(p,j),h=a(C,h,N),k===null?S=C:k.sibling=C,k=C,j=P}if(N===x.length)return r(p,j),se&&ar(p,N),S;if(j===null){for(;N<x.length;N++)j=m(p,x[N],b),j!==null&&(h=a(j,h,N),k===null?S=j:k.sibling=j,k=j);return se&&ar(p,N),S}for(j=n(p,j);N<x.length;N++)P=y(j,p,N,x[N],b),P!==null&&(e&&P.alternate!==null&&j.delete(P.key===null?N:P.key),h=a(P,h,N),k===null?S=P:k.sibling=P,k=P);return e&&j.forEach(function(F){return t(p,F)}),se&&ar(p,N),S}function g(p,h,x,b){var S=_n(x);if(typeof S!="function")throw Error(A(150));if(x=S.call(x),x==null)throw Error(A(151));for(var k=S=null,j=h,N=h=0,P=null,C=x.next();j!==null&&!C.done;N++,C=x.next()){j.index>N?(P=j,j=null):P=j.sibling;var F=f(p,j,C.value,b);if(F===null){j===null&&(j=P);break}e&&j&&F.alternate===null&&t(p,j),h=a(F,h,N),k===null?S=F:k.sibling=F,k=F,j=P}if(C.done)return r(p,j),se&&ar(p,N),S;if(j===null){for(;!C.done;N++,C=x.next())C=m(p,C.value,b),C!==null&&(h=a(C,h,N),k===null?S=C:k.sibling=C,k=C);return se&&ar(p,N),S}for(j=n(p,j);!C.done;N++,C=x.next())C=y(j,p,N,C.value,b),C!==null&&(e&&C.alternate!==null&&j.delete(C.key===null?N:C.key),h=a(C,h,N),k===null?S=C:k.sibling=C,k=C);return e&&j.forEach(function(I){return t(p,I)}),se&&ar(p,N),S}function w(p,h,x,b){if(typeof x=="object"&&x!==null&&x.type===Ur&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Fs:e:{for(var S=x.key,k=h;k!==null;){if(k.key===S){if(S=x.type,S===Ur){if(k.tag===7){r(p,k.sibling),h=s(k,x.props.children),h.return=p,p=h;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Tt&&Gc(S)===k.type){r(p,k.sibling),h=s(k,x.props),h.ref=En(p,k,x),h.return=p,p=h;break e}r(p,k);break}else t(p,k);k=k.sibling}x.type===Ur?(h=xr(x.props.children,p.mode,b,x.key),h.return=p,p=h):(b=hi(x.type,x.key,x.props,null,p.mode,b),b.ref=En(p,h,x),b.return=p,p=b)}return o(p);case zr:e:{for(k=x.key;h!==null;){if(h.key===k)if(h.tag===4&&h.stateNode.containerInfo===x.containerInfo&&h.stateNode.implementation===x.implementation){r(p,h.sibling),h=s(h,x.children||[]),h.return=p,p=h;break e}else{r(p,h);break}else t(p,h);h=h.sibling}h=Ua(x,p.mode,b),h.return=p,p=h}return o(p);case Tt:return k=x._init,w(p,h,k(x._payload),b)}if(Rn(x))return v(p,h,x,b);if(_n(x))return g(p,h,x,b);Ws(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,h!==null&&h.tag===6?(r(p,h.sibling),h=s(h,x),h.return=p,p=h):(r(p,h),h=za(x,p.mode,b),h.return=p,p=h),o(p)):r(p,h)}return w}var un=gh(!0),xh=gh(!1),Si=Zt(null),Ei=null,Gr=null,Tl=null;function Fl(){Tl=Gr=Ei=null}function Rl(e){var t=Si.current;ee(Si),e._currentValue=t}function So(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function rn(e,t){Ei=e,Tl=Gr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Le=!0),e.firstContext=null)}function Xe(e){var t=e._currentValue;if(Tl!==e)if(e={context:e,memoizedValue:t,next:null},Gr===null){if(Ei===null)throw Error(A(308));Gr=e,Ei.dependencies={lanes:0,firstContext:e}}else Gr=Gr.next=e;return t}var fr=null;function Ol(e){fr===null?fr=[e]:fr.push(e)}function yh(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ol(t)):(r.next=s.next,s.next=r),t.interleaved=r,Nt(e,n)}function Nt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ft=!1;function Il(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,q&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Nt(e,r)}return s=n.interleaved,s===null?(t.next=t,Ol(n)):(t.next=s.next,s.next=t),n.interleaved=t,Nt(e,r)}function ai(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,wl(e,r)}}function Jc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ci(e,t,r,n){var s=e.updateQueue;Ft=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var m=s.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,y=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,g=l;switch(f=t,y=r,g.tag){case 1:if(v=g.payload,typeof v=="function"){m=v.call(y,m,f);break e}m=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,f=typeof v=="function"?v.call(y,m,f):v,f==null)break e;m=oe({},m,f);break e;case 2:Ft=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=y,c=m):d=d.next=y,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=m),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);br|=o,e.lanes=o,e.memoizedState=m}}function Qc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(A(191,s));s.call(n)}}}var Ns={},mt=Zt(Ns),as=Zt(Ns),os=Zt(Ns);function pr(e){if(e===Ns)throw Error(A(174));return e}function Dl(e,t){switch(X(os,t),X(as,e),X(mt,Ns),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:io(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=io(t,e)}ee(mt),X(mt,t)}function dn(){ee(mt),ee(as),ee(os)}function wh(e){pr(os.current);var t=pr(mt.current),r=io(t,e.type);t!==r&&(X(as,e),X(mt,r))}function Ll(e){as.current===e&&(ee(mt),ee(as))}var ie=Zt(0);function Pi(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ra=[];function $l(){for(var e=0;e<Ra.length;e++)Ra[e]._workInProgressVersionPrimary=null;Ra.length=0}var oi=Et.ReactCurrentDispatcher,Oa=Et.ReactCurrentBatchConfig,wr=0,ae=null,ye=null,we=null,Ai=!1,Bn=!1,ls=0,dg=0;function Ee(){throw Error(A(321))}function zl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ct(e[r],t[r]))return!1;return!0}function Ul(e,t,r,n,s,a){if(wr=a,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,oi.current=e===null||e.memoizedState===null?mg:gg,e=r(n,s),Bn){a=0;do{if(Bn=!1,ls=0,25<=a)throw Error(A(301));a+=1,we=ye=null,t.updateQueue=null,oi.current=xg,e=r(n,s)}while(Bn)}if(oi.current=Ti,t=ye!==null&&ye.next!==null,wr=0,we=ye=ae=null,Ai=!1,t)throw Error(A(300));return e}function Ml(){var e=ls!==0;return ls=0,e}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?ae.memoizedState=we=e:we=we.next=e,we}function Ze(){if(ye===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=we===null?ae.memoizedState:we.next;if(t!==null)we=t,ye=e;else{if(e===null)throw Error(A(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},we===null?ae.memoizedState=we=e:we=we.next=e}return we}function cs(e,t){return typeof t=="function"?t(e):t}function Ia(e){var t=Ze(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=ye,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((wr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=m,o=n):c=c.next=m,ae.lanes|=d,br|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,ct(n,t.memoizedState)||(Le=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,ae.lanes|=a,br|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Da(e){var t=Ze(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);ct(a,t.memoizedState)||(Le=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function bh(){}function _h(e,t){var r=ae,n=Ze(),s=t(),a=!ct(n.memoizedState,s);if(a&&(n.memoizedState=s,Le=!0),n=n.queue,Bl(Nh.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||we!==null&&we.memoizedState.tag&1){if(r.flags|=2048,us(9,kh.bind(null,r,n,s,t),void 0,null),be===null)throw Error(A(349));wr&30||jh(r,t,s)}return s}function jh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function kh(e,t,r,n){t.value=r,t.getSnapshot=n,Sh(t)&&Eh(e)}function Nh(e,t,r){return r(function(){Sh(t)&&Eh(e)})}function Sh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ct(e,r)}catch{return!0}}function Eh(e){var t=Nt(e,1);t!==null&&lt(t,e,1,-1)}function Yc(e){var t=ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:e},t.queue=e,e=e.dispatch=pg.bind(null,ae,e),[t.memoizedState,e]}function us(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ch(){return Ze().memoizedState}function li(e,t,r,n){var s=ht();ae.flags|=e,s.memoizedState=us(1|t,r,void 0,n===void 0?null:n)}function Qi(e,t,r,n){var s=Ze();n=n===void 0?null:n;var a=void 0;if(ye!==null){var o=ye.memoizedState;if(a=o.destroy,n!==null&&zl(n,o.deps)){s.memoizedState=us(t,r,a,n);return}}ae.flags|=e,s.memoizedState=us(1|t,r,a,n)}function Xc(e,t){return li(8390656,8,e,t)}function Bl(e,t){return Qi(2048,8,e,t)}function Ph(e,t){return Qi(4,2,e,t)}function Ah(e,t){return Qi(4,4,e,t)}function Th(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fh(e,t,r){return r=r!=null?r.concat([e]):null,Qi(4,4,Th.bind(null,t,e),r)}function Wl(){}function Rh(e,t){var r=Ze();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Oh(e,t){var r=Ze();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Ih(e,t,r){return wr&21?(ct(r,t)||(r=Ud(),ae.lanes|=r,br|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Le=!0),e.memoizedState=r)}function hg(e,t){var r=K;K=r!==0&&4>r?r:4,e(!0);var n=Oa.transition;Oa.transition={};try{e(!1),t()}finally{K=r,Oa.transition=n}}function Dh(){return Ze().memoizedState}function fg(e,t,r){var n=Ht(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Lh(e))$h(t,r);else if(r=yh(e,t,r,n),r!==null){var s=Re();lt(r,e,n,s),zh(r,t,n)}}function pg(e,t,r){var n=Ht(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Lh(e))$h(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,ct(l,o)){var c=t.interleaved;c===null?(s.next=s,Ol(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=yh(e,t,s,n),r!==null&&(s=Re(),lt(r,e,n,s),zh(r,t,n))}}function Lh(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function $h(e,t){Bn=Ai=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function zh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,wl(e,r)}}var Ti={readContext:Xe,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},mg={readContext:Xe,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:Xe,useEffect:Xc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,li(4194308,4,Th.bind(null,t,e),r)},useLayoutEffect:function(e,t){return li(4194308,4,e,t)},useInsertionEffect:function(e,t){return li(4,2,e,t)},useMemo:function(e,t){var r=ht();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ht();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=fg.bind(null,ae,e),[n.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:Yc,useDebugValue:Wl,useDeferredValue:function(e){return ht().memoizedState=e},useTransition:function(){var e=Yc(!1),t=e[0];return e=hg.bind(null,e[1]),ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ae,s=ht();if(se){if(r===void 0)throw Error(A(407));r=r()}else{if(r=t(),be===null)throw Error(A(349));wr&30||jh(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,Xc(Nh.bind(null,n,a,e),[e]),n.flags|=2048,us(9,kh.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=ht(),t=be.identifierPrefix;if(se){var r=bt,n=wt;r=(n&~(1<<32-ot(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=ls++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=dg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gg={readContext:Xe,useCallback:Rh,useContext:Xe,useEffect:Bl,useImperativeHandle:Fh,useInsertionEffect:Ph,useLayoutEffect:Ah,useMemo:Oh,useReducer:Ia,useRef:Ch,useState:function(){return Ia(cs)},useDebugValue:Wl,useDeferredValue:function(e){var t=Ze();return Ih(t,ye.memoizedState,e)},useTransition:function(){var e=Ia(cs)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:bh,useSyncExternalStore:_h,useId:Dh,unstable_isNewReconciler:!1},xg={readContext:Xe,useCallback:Rh,useContext:Xe,useEffect:Bl,useImperativeHandle:Fh,useInsertionEffect:Ph,useLayoutEffect:Ah,useMemo:Oh,useReducer:Da,useRef:Ch,useState:function(){return Da(cs)},useDebugValue:Wl,useDeferredValue:function(e){var t=Ze();return ye===null?t.memoizedState=e:Ih(t,ye.memoizedState,e)},useTransition:function(){var e=Da(cs)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:bh,useSyncExternalStore:_h,useId:Dh,unstable_isNewReconciler:!1};function nt(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Eo(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:oe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Yi={isMounted:function(e){return(e=e._reactInternals)?kr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Re(),s=Ht(e),a=_t(n,s);a.payload=t,r!=null&&(a.callback=r),t=Vt(e,a,s),t!==null&&(lt(t,e,s,n),ai(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Re(),s=Ht(e),a=_t(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Vt(e,a,s),t!==null&&(lt(t,e,s,n),ai(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Re(),n=Ht(e),s=_t(r,n);s.tag=2,t!=null&&(s.callback=t),t=Vt(e,s,n),t!==null&&(lt(t,e,n,r),ai(t,e,n))}};function Zc(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!rs(r,n)||!rs(s,a):!0}function Uh(e,t,r){var n=!1,s=Yt,a=t.contextType;return typeof a=="object"&&a!==null?a=Xe(a):(s=ze(t)?yr:Ae.current,n=t.contextTypes,a=(n=n!=null)?ln(e,s):Yt),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function eu(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Yi.enqueueReplaceState(t,t.state,null)}function Co(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Il(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Xe(a):(a=ze(t)?yr:Ae.current,s.context=ln(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Eo(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Yi.enqueueReplaceState(s,s.state,null),Ci(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function hn(e,t){try{var r="",n=t;do r+=qp(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function La(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Po(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var yg=typeof WeakMap=="function"?WeakMap:Map;function Mh(e,t,r){r=_t(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ri||(Ri=!0,zo=n),Po(e,t)},r}function Bh(e,t,r){r=_t(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Po(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Po(e,t),typeof n!="function"&&(qt===null?qt=new Set([this]):qt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function tu(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new yg;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Fg.bind(null,e,t,r),t.then(e,e))}function ru(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nu(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=_t(-1,1),t.tag=2,Vt(r,t,1))),r.lanes|=1),e)}var vg=Et.ReactCurrentOwner,Le=!1;function Fe(e,t,r,n){t.child=e===null?xh(t,null,r,n):un(t,e.child,r,n)}function su(e,t,r,n,s){r=r.render;var a=t.ref;return rn(t,s),n=Ul(e,t,r,n,a,s),r=Ml(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,St(e,t,s)):(se&&r&&Cl(t),t.flags|=1,Fe(e,t,n,s),t.child)}function iu(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!Yl(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Wh(e,t,a,n,s)):(e=hi(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:rs,r(o,n)&&e.ref===t.ref)return St(e,t,s)}return t.flags|=1,e=Kt(a,n),e.ref=t.ref,e.return=t,t.child=e}function Wh(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(rs(a,n)&&e.ref===t.ref)if(Le=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(Le=!0);else return t.lanes=e.lanes,St(e,t,s)}return Ao(e,t,r,n,s)}function Vh(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(Qr,Be),Be|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(Qr,Be),Be|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,X(Qr,Be),Be|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,X(Qr,Be),Be|=n;return Fe(e,t,s,r),t.child}function qh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ao(e,t,r,n,s){var a=ze(r)?yr:Ae.current;return a=ln(t,a),rn(t,s),r=Ul(e,t,r,n,a,s),n=Ml(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,St(e,t,s)):(se&&n&&Cl(t),t.flags|=1,Fe(e,t,r,s),t.child)}function au(e,t,r,n,s){if(ze(r)){var a=!0;ji(t)}else a=!1;if(rn(t,s),t.stateNode===null)ci(e,t),Uh(t,r,n),Co(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Xe(u):(u=ze(r)?yr:Ae.current,u=ln(t,u));var d=r.getDerivedStateFromProps,m=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&eu(t,o,n,u),Ft=!1;var f=t.memoizedState;o.state=f,Ci(t,n,o,s),c=t.memoizedState,l!==n||f!==c||$e.current||Ft?(typeof d=="function"&&(Eo(t,r,d,n),c=t.memoizedState),(l=Ft||Zc(t,r,l,n,f,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,vh(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:nt(t.type,l),o.props=u,m=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Xe(c):(c=ze(r)?yr:Ae.current,c=ln(t,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||f!==c)&&eu(t,o,n,c),Ft=!1,f=t.memoizedState,o.state=f,Ci(t,n,o,s);var v=t.memoizedState;l!==m||f!==v||$e.current||Ft?(typeof y=="function"&&(Eo(t,r,y,n),v=t.memoizedState),(u=Ft||Zc(t,r,u,n,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return To(e,t,r,n,a,s)}function To(e,t,r,n,s,a){qh(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&qc(t,r,!1),St(e,t,a);n=t.stateNode,vg.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=un(t,e.child,null,a),t.child=un(t,null,l,a)):Fe(e,t,l,a),t.memoizedState=n.state,s&&qc(t,r,!0),t.child}function Hh(e){var t=e.stateNode;t.pendingContext?Vc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vc(e,t.context,!1),Dl(e,t.containerInfo)}function ou(e,t,r,n,s){return cn(),Al(s),t.flags|=256,Fe(e,t,r,n),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0};function Ro(e){return{baseLanes:e,cachePool:null,transitions:null}}function Kh(e,t,r){var n=t.pendingProps,s=ie.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),X(ie,s&1),e===null)return No(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=ea(o,n,0,null),e=xr(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ro(r),t.memoizedState=Fo,e):Vl(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return wg(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Kt(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Kt(l,a):(a=xr(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?Ro(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=Fo,n}return a=e.child,e=a.sibling,n=Kt(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Vl(e,t){return t=ea({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Vs(e,t,r,n){return n!==null&&Al(n),un(t,e.child,null,r),e=Vl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function wg(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=La(Error(A(422))),Vs(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=ea({mode:"visible",children:n.children},s,0,null),a=xr(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&un(t,e.child,null,o),t.child.memoizedState=Ro(o),t.memoizedState=Fo,a);if(!(t.mode&1))return Vs(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(A(419)),n=La(a,n,void 0),Vs(e,t,o,n)}if(l=(o&e.childLanes)!==0,Le||l){if(n=be,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Nt(e,s),lt(n,e,s,-1))}return Ql(),n=La(Error(A(421))),Vs(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Rg.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,We=Wt(s.nextSibling),Ve=t,se=!0,at=null,e!==null&&(Ge[Je++]=wt,Ge[Je++]=bt,Ge[Je++]=vr,wt=e.id,bt=e.overflow,vr=t),t=Vl(t,n.children),t.flags|=4096,t)}function lu(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),So(e.return,t,r)}function $a(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function Gh(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(Fe(e,t,n.children,r),n=ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lu(e,r,t);else if(e.tag===19)lu(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(X(ie,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Pi(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),$a(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Pi(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}$a(t,!0,r,null,a);break;case"together":$a(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ci(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function St(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),br|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,r=Kt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Kt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function bg(e,t,r){switch(t.tag){case 3:Hh(t),cn();break;case 5:wh(t);break;case 1:ze(t.type)&&ji(t);break;case 4:Dl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;X(Si,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(X(ie,ie.current&1),t.flags|=128,null):r&t.child.childLanes?Kh(e,t,r):(X(ie,ie.current&1),e=St(e,t,r),e!==null?e.sibling:null);X(ie,ie.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Gh(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(ie,ie.current),n)break;return null;case 22:case 23:return t.lanes=0,Vh(e,t,r)}return St(e,t,r)}var Jh,Oo,Qh,Yh;Jh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Oo=function(){};Qh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,pr(mt.current);var a=null;switch(r){case"input":s=to(e,s),n=to(e,n),a=[];break;case"select":s=oe({},s,{value:void 0}),n=oe({},n,{value:void 0}),a=[];break;case"textarea":s=so(e,s),n=so(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=bi)}ao(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jn.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Z("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Yh=function(e,t,r,n){r!==n&&(t.flags|=4)};function Cn(e,t){if(!se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ce(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function _g(e,t,r){var n=t.pendingProps;switch(Pl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ce(t),null;case 1:return ze(t.type)&&_i(),Ce(t),null;case 3:return n=t.stateNode,dn(),ee($e),ee(Ae),$l(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Bs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,at!==null&&(Bo(at),at=null))),Oo(e,t),Ce(t),null;case 5:Ll(t);var s=pr(os.current);if(r=t.type,e!==null&&t.stateNode!=null)Qh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(A(166));return Ce(t),null}if(e=pr(mt.current),Bs(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ft]=t,n[is]=a,e=(t.mode&1)!==0,r){case"dialog":Z("cancel",n),Z("close",n);break;case"iframe":case"object":case"embed":Z("load",n);break;case"video":case"audio":for(s=0;s<In.length;s++)Z(In[s],n);break;case"source":Z("error",n);break;case"img":case"image":case"link":Z("error",n),Z("load",n);break;case"details":Z("toggle",n);break;case"input":xc(n,a),Z("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},Z("invalid",n);break;case"textarea":vc(n,a),Z("invalid",n)}ao(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Ms(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Ms(n.textContent,l,e),s=["children",""+l]):Jn.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Z("scroll",n)}switch(r){case"input":Rs(n),yc(n,a,!0);break;case"textarea":Rs(n),wc(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=bi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Nd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ft]=t,e[is]=n,Jh(e,t,!1,!1),t.stateNode=e;e:{switch(o=oo(r,n),r){case"dialog":Z("cancel",e),Z("close",e),s=n;break;case"iframe":case"object":case"embed":Z("load",e),s=n;break;case"video":case"audio":for(s=0;s<In.length;s++)Z(In[s],e);s=n;break;case"source":Z("error",e),s=n;break;case"img":case"image":case"link":Z("error",e),Z("load",e),s=n;break;case"details":Z("toggle",e),s=n;break;case"input":xc(e,n),s=to(e,n),Z("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=oe({},n,{value:void 0}),Z("invalid",e);break;case"textarea":vc(e,n),s=so(e,n),Z("invalid",e);break;default:s=n}ao(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Cd(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Sd(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Qn(e,c):typeof c=="number"&&Qn(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Jn.hasOwnProperty(a)?c!=null&&a==="onScroll"&&Z("scroll",e):c!=null&&pl(e,a,c,o))}switch(r){case"input":Rs(e),yc(e,n,!1);break;case"textarea":Rs(e),wc(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Qt(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?Xr(e,!!n.multiple,a,!1):n.defaultValue!=null&&Xr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=bi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ce(t),null;case 6:if(e&&t.stateNode!=null)Yh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(A(166));if(r=pr(os.current),pr(mt.current),Bs(t)){if(n=t.stateNode,r=t.memoizedProps,n[ft]=t,(a=n.nodeValue!==r)&&(e=Ve,e!==null))switch(e.tag){case 3:Ms(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ms(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ft]=t,t.stateNode=n}return Ce(t),null;case 13:if(ee(ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(se&&We!==null&&t.mode&1&&!(t.flags&128))mh(),cn(),t.flags|=98560,a=!1;else if(a=Bs(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(A(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(A(317));a[ft]=t}else cn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ce(t),a=!1}else at!==null&&(Bo(at),at=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?ve===0&&(ve=3):Ql())),t.updateQueue!==null&&(t.flags|=4),Ce(t),null);case 4:return dn(),Oo(e,t),e===null&&ns(t.stateNode.containerInfo),Ce(t),null;case 10:return Rl(t.type._context),Ce(t),null;case 17:return ze(t.type)&&_i(),Ce(t),null;case 19:if(ee(ie),a=t.memoizedState,a===null)return Ce(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)Cn(a,!1);else{if(ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Pi(e),o!==null){for(t.flags|=128,Cn(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return X(ie,ie.current&1|2),t.child}e=e.sibling}a.tail!==null&&he()>fn&&(t.flags|=128,n=!0,Cn(a,!1),t.lanes=4194304)}else{if(!n)if(e=Pi(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Cn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!se)return Ce(t),null}else 2*he()-a.renderingStartTime>fn&&r!==1073741824&&(t.flags|=128,n=!0,Cn(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=he(),t.sibling=null,r=ie.current,X(ie,n?r&1|2:r&1),t):(Ce(t),null);case 22:case 23:return Jl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Be&1073741824&&(Ce(t),t.subtreeFlags&6&&(t.flags|=8192)):Ce(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function jg(e,t){switch(Pl(t),t.tag){case 1:return ze(t.type)&&_i(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dn(),ee($e),ee(Ae),$l(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ll(t),null;case 13:if(ee(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));cn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(ie),null;case 4:return dn(),null;case 10:return Rl(t.type._context),null;case 22:case 23:return Jl(),null;case 24:return null;default:return null}}var qs=!1,Pe=!1,kg=typeof WeakSet=="function"?WeakSet:Set,O=null;function Jr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ce(e,t,n)}else r.current=null}function Io(e,t,r){try{r()}catch(n){ce(e,t,n)}}var cu=!1;function Ng(e,t){if(yo=yi,e=rh(),El(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,m=e,f=null;t:for(;;){for(var y;m!==r||s!==0&&m.nodeType!==3||(l=o+s),m!==a||n!==0&&m.nodeType!==3||(c=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(y=m.firstChild)!==null;)f=m,m=y;for(;;){if(m===e)break t;if(f===r&&++u===s&&(l=o),f===a&&++d===n&&(c=o),(y=m.nextSibling)!==null)break;m=f,f=m.parentNode}m=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(vo={focusedElem:e,selectionRange:r},yi=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,w=v.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?g:nt(t.type,g),w);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(b){ce(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return v=cu,cu=!1,v}function Wn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Io(t,r,a)}s=s.next}while(s!==n)}}function Xi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Do(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Xh(e){var t=e.alternate;t!==null&&(e.alternate=null,Xh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ft],delete t[is],delete t[_o],delete t[og],delete t[lg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Zh(e){return e.tag===5||e.tag===3||e.tag===4}function uu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=bi));else if(n!==4&&(e=e.child,e!==null))for(Lo(e,t,r),e=e.sibling;e!==null;)Lo(e,t,r),e=e.sibling}function $o(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for($o(e,t,r),e=e.sibling;e!==null;)$o(e,t,r),e=e.sibling}var ke=null,st=!1;function At(e,t,r){for(r=r.child;r!==null;)ef(e,t,r),r=r.sibling}function ef(e,t,r){if(pt&&typeof pt.onCommitFiberUnmount=="function")try{pt.onCommitFiberUnmount(Vi,r)}catch{}switch(r.tag){case 5:Pe||Jr(r,t);case 6:var n=ke,s=st;ke=null,At(e,t,r),ke=n,st=s,ke!==null&&(st?(e=ke,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ke.removeChild(r.stateNode));break;case 18:ke!==null&&(st?(e=ke,r=r.stateNode,e.nodeType===8?Ta(e.parentNode,r):e.nodeType===1&&Ta(e,r),es(e)):Ta(ke,r.stateNode));break;case 4:n=ke,s=st,ke=r.stateNode.containerInfo,st=!0,At(e,t,r),ke=n,st=s;break;case 0:case 11:case 14:case 15:if(!Pe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&Io(r,t,o),s=s.next}while(s!==n)}At(e,t,r);break;case 1:if(!Pe&&(Jr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ce(r,t,l)}At(e,t,r);break;case 21:At(e,t,r);break;case 22:r.mode&1?(Pe=(n=Pe)||r.memoizedState!==null,At(e,t,r),Pe=n):At(e,t,r);break;default:At(e,t,r)}}function du(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new kg),t.forEach(function(n){var s=Og.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function tt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:ke=l.stateNode,st=!1;break e;case 3:ke=l.stateNode.containerInfo,st=!0;break e;case 4:ke=l.stateNode.containerInfo,st=!0;break e}l=l.return}if(ke===null)throw Error(A(160));ef(a,o,s),ke=null,st=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ce(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tf(t,e),t=t.sibling}function tf(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(tt(t,e),dt(e),n&4){try{Wn(3,e,e.return),Xi(3,e)}catch(g){ce(e,e.return,g)}try{Wn(5,e,e.return)}catch(g){ce(e,e.return,g)}}break;case 1:tt(t,e),dt(e),n&512&&r!==null&&Jr(r,r.return);break;case 5:if(tt(t,e),dt(e),n&512&&r!==null&&Jr(r,r.return),e.flags&32){var s=e.stateNode;try{Qn(s,"")}catch(g){ce(e,e.return,g)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&jd(s,a),oo(l,o);var u=oo(l,a);for(o=0;o<c.length;o+=2){var d=c[o],m=c[o+1];d==="style"?Cd(s,m):d==="dangerouslySetInnerHTML"?Sd(s,m):d==="children"?Qn(s,m):pl(s,d,m,u)}switch(l){case"input":ro(s,a);break;case"textarea":kd(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var y=a.value;y!=null?Xr(s,!!a.multiple,y,!1):f!==!!a.multiple&&(a.defaultValue!=null?Xr(s,!!a.multiple,a.defaultValue,!0):Xr(s,!!a.multiple,a.multiple?[]:"",!1))}s[is]=a}catch(g){ce(e,e.return,g)}}break;case 6:if(tt(t,e),dt(e),n&4){if(e.stateNode===null)throw Error(A(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(g){ce(e,e.return,g)}}break;case 3:if(tt(t,e),dt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{es(t.containerInfo)}catch(g){ce(e,e.return,g)}break;case 4:tt(t,e),dt(e);break;case 13:tt(t,e),dt(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Kl=he())),n&4&&du(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Pe=(u=Pe)||d,tt(t,e),Pe=u):tt(t,e),dt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(O=e,d=e.child;d!==null;){for(m=O=d;O!==null;){switch(f=O,y=f.child,f.tag){case 0:case 11:case 14:case 15:Wn(4,f,f.return);break;case 1:Jr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){ce(n,r,g)}}break;case 5:Jr(f,f.return);break;case 22:if(f.memoizedState!==null){fu(m);continue}}y!==null?(y.return=f,O=y):fu(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{s=m.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Ed("display",o))}catch(g){ce(e,e.return,g)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(g){ce(e,e.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:tt(t,e),dt(e),n&4&&du(e);break;case 21:break;default:tt(t,e),dt(e)}}function dt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Zh(r)){var n=r;break e}r=r.return}throw Error(A(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Qn(s,""),n.flags&=-33);var a=uu(e);$o(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=uu(e);Lo(e,l,o);break;default:throw Error(A(161))}}catch(c){ce(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sg(e,t,r){O=e,rf(e)}function rf(e,t,r){for(var n=(e.mode&1)!==0;O!==null;){var s=O,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||qs;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Pe;l=qs;var u=Pe;if(qs=o,(Pe=c)&&!u)for(O=s;O!==null;)o=O,c=o.child,o.tag===22&&o.memoizedState!==null?pu(s):c!==null?(c.return=o,O=c):pu(s);for(;a!==null;)O=a,rf(a),a=a.sibling;O=s,qs=l,Pe=u}hu(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,O=a):hu(e)}}function hu(e){for(;O!==null;){var t=O;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pe||Xi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Pe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:nt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Qc(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Qc(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&es(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Pe||t.flags&512&&Do(t)}catch(f){ce(t,t.return,f)}}if(t===e){O=null;break}if(r=t.sibling,r!==null){r.return=t.return,O=r;break}O=t.return}}function fu(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var r=t.sibling;if(r!==null){r.return=t.return,O=r;break}O=t.return}}function pu(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Xi(4,t)}catch(c){ce(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ce(t,s,c)}}var a=t.return;try{Do(t)}catch(c){ce(t,a,c)}break;case 5:var o=t.return;try{Do(t)}catch(c){ce(t,o,c)}}}catch(c){ce(t,t.return,c)}if(t===e){O=null;break}var l=t.sibling;if(l!==null){l.return=t.return,O=l;break}O=t.return}}var Eg=Math.ceil,Fi=Et.ReactCurrentDispatcher,ql=Et.ReactCurrentOwner,Ye=Et.ReactCurrentBatchConfig,q=0,be=null,pe=null,Ne=0,Be=0,Qr=Zt(0),ve=0,ds=null,br=0,Zi=0,Hl=0,Vn=null,De=null,Kl=0,fn=1/0,xt=null,Ri=!1,zo=null,qt=null,Hs=!1,$t=null,Oi=0,qn=0,Uo=null,ui=-1,di=0;function Re(){return q&6?he():ui!==-1?ui:ui=he()}function Ht(e){return e.mode&1?q&2&&Ne!==0?Ne&-Ne:ug.transition!==null?(di===0&&(di=Ud()),di):(e=K,e!==0||(e=window.event,e=e===void 0?16:Kd(e.type)),e):1}function lt(e,t,r,n){if(50<qn)throw qn=0,Uo=null,Error(A(185));_s(e,r,n),(!(q&2)||e!==be)&&(e===be&&(!(q&2)&&(Zi|=r),ve===4&&It(e,Ne)),Ue(e,n),r===1&&q===0&&!(t.mode&1)&&(fn=he()+500,Ji&&er()))}function Ue(e,t){var r=e.callbackNode;um(e,t);var n=xi(e,e===be?Ne:0);if(n===0)r!==null&&jc(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&jc(r),t===1)e.tag===0?cg(mu.bind(null,e)):hh(mu.bind(null,e)),ig(function(){!(q&6)&&er()}),r=null;else{switch(Md(n)){case 1:r=vl;break;case 4:r=$d;break;case 16:r=gi;break;case 536870912:r=zd;break;default:r=gi}r=df(r,nf.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function nf(e,t){if(ui=-1,di=0,q&6)throw Error(A(327));var r=e.callbackNode;if(nn()&&e.callbackNode!==r)return null;var n=xi(e,e===be?Ne:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ii(e,n);else{t=n;var s=q;q|=2;var a=af();(be!==e||Ne!==t)&&(xt=null,fn=he()+500,gr(e,t));do try{Ag();break}catch(l){sf(e,l)}while(!0);Fl(),Fi.current=a,q=s,pe!==null?t=0:(be=null,Ne=0,t=ve)}if(t!==0){if(t===2&&(s=fo(e),s!==0&&(n=s,t=Mo(e,s))),t===1)throw r=ds,gr(e,0),It(e,n),Ue(e,he()),r;if(t===6)It(e,n);else{if(s=e.current.alternate,!(n&30)&&!Cg(s)&&(t=Ii(e,n),t===2&&(a=fo(e),a!==0&&(n=a,t=Mo(e,a))),t===1))throw r=ds,gr(e,0),It(e,n),Ue(e,he()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(A(345));case 2:or(e,De,xt);break;case 3:if(It(e,n),(n&130023424)===n&&(t=Kl+500-he(),10<t)){if(xi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Re(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=bo(or.bind(null,e,De,xt),t);break}or(e,De,xt);break;case 4:if(It(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-ot(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=he()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Eg(n/1960))-n,10<n){e.timeoutHandle=bo(or.bind(null,e,De,xt),n);break}or(e,De,xt);break;case 5:or(e,De,xt);break;default:throw Error(A(329))}}}return Ue(e,he()),e.callbackNode===r?nf.bind(null,e):null}function Mo(e,t){var r=Vn;return e.current.memoizedState.isDehydrated&&(gr(e,t).flags|=256),e=Ii(e,t),e!==2&&(t=De,De=r,t!==null&&Bo(t)),e}function Bo(e){De===null?De=e:De.push.apply(De,e)}function Cg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!ct(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function It(e,t){for(t&=~Hl,t&=~Zi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ot(t),n=1<<r;e[r]=-1,t&=~n}}function mu(e){if(q&6)throw Error(A(327));nn();var t=xi(e,0);if(!(t&1))return Ue(e,he()),null;var r=Ii(e,t);if(e.tag!==0&&r===2){var n=fo(e);n!==0&&(t=n,r=Mo(e,n))}if(r===1)throw r=ds,gr(e,0),It(e,t),Ue(e,he()),r;if(r===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,or(e,De,xt),Ue(e,he()),null}function Gl(e,t){var r=q;q|=1;try{return e(t)}finally{q=r,q===0&&(fn=he()+500,Ji&&er())}}function _r(e){$t!==null&&$t.tag===0&&!(q&6)&&nn();var t=q;q|=1;var r=Ye.transition,n=K;try{if(Ye.transition=null,K=1,e)return e()}finally{K=n,Ye.transition=r,q=t,!(q&6)&&er()}}function Jl(){Be=Qr.current,ee(Qr)}function gr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,sg(r)),pe!==null)for(r=pe.return;r!==null;){var n=r;switch(Pl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&_i();break;case 3:dn(),ee($e),ee(Ae),$l();break;case 5:Ll(n);break;case 4:dn();break;case 13:ee(ie);break;case 19:ee(ie);break;case 10:Rl(n.type._context);break;case 22:case 23:Jl()}r=r.return}if(be=e,pe=e=Kt(e.current,null),Ne=Be=t,ve=0,ds=null,Hl=Zi=br=0,De=Vn=null,fr!==null){for(t=0;t<fr.length;t++)if(r=fr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}fr=null}return e}function sf(e,t){do{var r=pe;try{if(Fl(),oi.current=Ti,Ai){for(var n=ae.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ai=!1}if(wr=0,we=ye=ae=null,Bn=!1,ls=0,ql.current=null,r===null||r.return===null){ve=1,ds=t,pe=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=Ne,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=ru(o);if(y!==null){y.flags&=-257,nu(y,o,l,a,t),y.mode&1&&tu(a,u,t),t=y,c=u;var v=t.updateQueue;if(v===null){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}else{if(!(t&1)){tu(a,u,t),Ql();break e}c=Error(A(426))}}else if(se&&l.mode&1){var w=ru(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),nu(w,o,l,a,t),Al(hn(c,l));break e}}a=c=hn(c,l),ve!==4&&(ve=2),Vn===null?Vn=[a]:Vn.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=Mh(a,c,t);Jc(a,p);break e;case 1:l=c;var h=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof h.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(qt===null||!qt.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=Bh(a,l,t);Jc(a,b);break e}}a=a.return}while(a!==null)}lf(r)}catch(S){t=S,pe===r&&r!==null&&(pe=r=r.return);continue}break}while(!0)}function af(){var e=Fi.current;return Fi.current=Ti,e===null?Ti:e}function Ql(){(ve===0||ve===3||ve===2)&&(ve=4),be===null||!(br&268435455)&&!(Zi&268435455)||It(be,Ne)}function Ii(e,t){var r=q;q|=2;var n=af();(be!==e||Ne!==t)&&(xt=null,gr(e,t));do try{Pg();break}catch(s){sf(e,s)}while(!0);if(Fl(),q=r,Fi.current=n,pe!==null)throw Error(A(261));return be=null,Ne=0,ve}function Pg(){for(;pe!==null;)of(pe)}function Ag(){for(;pe!==null&&!tm();)of(pe)}function of(e){var t=uf(e.alternate,e,Be);e.memoizedProps=e.pendingProps,t===null?lf(e):pe=t,ql.current=null}function lf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=jg(r,t),r!==null){r.flags&=32767,pe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ve=6,pe=null;return}}else if(r=_g(r,t,Be),r!==null){pe=r;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);ve===0&&(ve=5)}function or(e,t,r){var n=K,s=Ye.transition;try{Ye.transition=null,K=1,Tg(e,t,r,n)}finally{Ye.transition=s,K=n}return null}function Tg(e,t,r,n){do nn();while($t!==null);if(q&6)throw Error(A(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(dm(e,a),e===be&&(pe=be=null,Ne=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Hs||(Hs=!0,df(gi,function(){return nn(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Ye.transition,Ye.transition=null;var o=K;K=1;var l=q;q|=4,ql.current=null,Ng(e,r),tf(r,e),Ym(vo),yi=!!yo,vo=yo=null,e.current=r,Sg(r),rm(),q=l,K=o,Ye.transition=a}else e.current=r;if(Hs&&(Hs=!1,$t=e,Oi=s),a=e.pendingLanes,a===0&&(qt=null),im(r.stateNode),Ue(e,he()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ri)throw Ri=!1,e=zo,zo=null,e;return Oi&1&&e.tag!==0&&nn(),a=e.pendingLanes,a&1?e===Uo?qn++:(qn=0,Uo=e):qn=0,er(),null}function nn(){if($t!==null){var e=Md(Oi),t=Ye.transition,r=K;try{if(Ye.transition=null,K=16>e?16:e,$t===null)var n=!1;else{if(e=$t,$t=null,Oi=0,q&6)throw Error(A(331));var s=q;for(q|=4,O=e.current;O!==null;){var a=O,o=a.child;if(O.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:Wn(8,d,a)}var m=d.child;if(m!==null)m.return=d,O=m;else for(;O!==null;){d=O;var f=d.sibling,y=d.return;if(Xh(d),d===u){O=null;break}if(f!==null){f.return=y,O=f;break}O=y}}}var v=a.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}O=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,O=o;else e:for(;O!==null;){if(a=O,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Wn(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,O=p;break e}O=a.return}}var h=e.current;for(O=h;O!==null;){o=O;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,O=x;else e:for(o=h;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Xi(9,l)}}catch(S){ce(l,l.return,S)}if(l===o){O=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,O=b;break e}O=l.return}}if(q=s,er(),pt&&typeof pt.onPostCommitFiberRoot=="function")try{pt.onPostCommitFiberRoot(Vi,e)}catch{}n=!0}return n}finally{K=r,Ye.transition=t}}return!1}function gu(e,t,r){t=hn(r,t),t=Mh(e,t,1),e=Vt(e,t,1),t=Re(),e!==null&&(_s(e,1,t),Ue(e,t))}function ce(e,t,r){if(e.tag===3)gu(e,e,r);else for(;t!==null;){if(t.tag===3){gu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(qt===null||!qt.has(n))){e=hn(r,e),e=Bh(t,e,1),t=Vt(t,e,1),e=Re(),t!==null&&(_s(t,1,e),Ue(t,e));break}}t=t.return}}function Fg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&r,be===e&&(Ne&r)===r&&(ve===4||ve===3&&(Ne&130023424)===Ne&&500>he()-Kl?gr(e,0):Hl|=r),Ue(e,t)}function cf(e,t){t===0&&(e.mode&1?(t=Ds,Ds<<=1,!(Ds&130023424)&&(Ds=4194304)):t=1);var r=Re();e=Nt(e,t),e!==null&&(_s(e,t,r),Ue(e,r))}function Rg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),cf(e,r)}function Og(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(A(314))}n!==null&&n.delete(t),cf(e,r)}var uf;uf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||$e.current)Le=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Le=!1,bg(e,t,r);Le=!!(e.flags&131072)}else Le=!1,se&&t.flags&1048576&&fh(t,Ni,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ci(e,t),e=t.pendingProps;var s=ln(t,Ae.current);rn(t,r),s=Ul(null,t,n,e,s,r);var a=Ml();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ze(n)?(a=!0,ji(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Il(t),s.updater=Yi,t.stateNode=s,s._reactInternals=t,Co(t,n,e,r),t=To(null,t,n,!0,a,r)):(t.tag=0,se&&a&&Cl(t),Fe(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ci(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Dg(n),e=nt(n,e),s){case 0:t=Ao(null,t,n,e,r);break e;case 1:t=au(null,t,n,e,r);break e;case 11:t=su(null,t,n,e,r);break e;case 14:t=iu(null,t,n,nt(n.type,e),r);break e}throw Error(A(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nt(n,s),Ao(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nt(n,s),au(e,t,n,s,r);case 3:e:{if(Hh(t),e===null)throw Error(A(387));n=t.pendingProps,a=t.memoizedState,s=a.element,vh(e,t),Ci(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=hn(Error(A(423)),t),t=ou(e,t,n,r,s);break e}else if(n!==s){s=hn(Error(A(424)),t),t=ou(e,t,n,r,s);break e}else for(We=Wt(t.stateNode.containerInfo.firstChild),Ve=t,se=!0,at=null,r=xh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(cn(),n===s){t=St(e,t,r);break e}Fe(e,t,n,r)}t=t.child}return t;case 5:return wh(t),e===null&&No(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,wo(n,s)?o=null:a!==null&&wo(n,a)&&(t.flags|=32),qh(e,t),Fe(e,t,o,r),t.child;case 6:return e===null&&No(t),null;case 13:return Kh(e,t,r);case 4:return Dl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=un(t,null,n,r):Fe(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nt(n,s),su(e,t,n,s,r);case 7:return Fe(e,t,t.pendingProps,r),t.child;case 8:return Fe(e,t,t.pendingProps.children,r),t.child;case 12:return Fe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,X(Si,n._currentValue),n._currentValue=o,a!==null)if(ct(a.value,o)){if(a.children===s.children&&!$e.current){t=St(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=_t(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),So(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(A(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),So(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Fe(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,rn(t,r),s=Xe(s),n=n(s),t.flags|=1,Fe(e,t,n,r),t.child;case 14:return n=t.type,s=nt(n,t.pendingProps),s=nt(n.type,s),iu(e,t,n,s,r);case 15:return Wh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:nt(n,s),ci(e,t),t.tag=1,ze(n)?(e=!0,ji(t)):e=!1,rn(t,r),Uh(t,n,s),Co(t,n,s,r),To(null,t,n,!0,e,r);case 19:return Gh(e,t,r);case 22:return Vh(e,t,r)}throw Error(A(156,t.tag))};function df(e,t){return Ld(e,t)}function Ig(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qe(e,t,r,n){return new Ig(e,t,r,n)}function Yl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dg(e){if(typeof e=="function")return Yl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===gl)return 11;if(e===xl)return 14}return 2}function Kt(e,t){var r=e.alternate;return r===null?(r=Qe(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function hi(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")Yl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Ur:return xr(r.children,s,a,t);case ml:o=8,s|=8;break;case Ya:return e=Qe(12,r,t,s|2),e.elementType=Ya,e.lanes=a,e;case Xa:return e=Qe(13,r,t,s),e.elementType=Xa,e.lanes=a,e;case Za:return e=Qe(19,r,t,s),e.elementType=Za,e.lanes=a,e;case wd:return ea(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yd:o=10;break e;case vd:o=9;break e;case gl:o=11;break e;case xl:o=14;break e;case Tt:o=16,n=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=Qe(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function xr(e,t,r,n){return e=Qe(7,e,n,t),e.lanes=r,e}function ea(e,t,r,n){return e=Qe(22,e,n,t),e.elementType=wd,e.lanes=r,e.stateNode={isHidden:!1},e}function za(e,t,r){return e=Qe(6,e,null,t),e.lanes=r,e}function Ua(e,t,r){return t=Qe(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lg(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wa(0),this.expirationTimes=wa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xl(e,t,r,n,s,a,o,l,c){return e=new Lg(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Qe(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Il(a),e}function $g(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function hf(e){if(!e)return Yt;e=e._reactInternals;e:{if(kr(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var r=e.type;if(ze(r))return dh(e,r,t)}return t}function ff(e,t,r,n,s,a,o,l,c){return e=Xl(r,n,!0,e,s,a,o,l,c),e.context=hf(null),r=e.current,n=Re(),s=Ht(r),a=_t(n,s),a.callback=t??null,Vt(r,a,s),e.current.lanes=s,_s(e,s,n),Ue(e,n),e}function ta(e,t,r,n){var s=t.current,a=Re(),o=Ht(s);return r=hf(r),t.context===null?t.context=r:t.pendingContext=r,t=_t(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vt(s,t,o),e!==null&&(lt(e,s,o,a),ai(e,s,o)),o}function Di(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Zl(e,t){xu(e,t),(e=e.alternate)&&xu(e,t)}function zg(){return null}var pf=typeof reportError=="function"?reportError:function(e){console.error(e)};function ec(e){this._internalRoot=e}ra.prototype.render=ec.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));ta(e,t,null,null)};ra.prototype.unmount=ec.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_r(function(){ta(null,e,null,null)}),t[kt]=null}};function ra(e){this._internalRoot=e}ra.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ot.length&&t!==0&&t<Ot[r].priority;r++);Ot.splice(r,0,e),r===0&&Hd(e)}};function tc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function na(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yu(){}function Ug(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=Di(o);a.call(u)}}var o=ff(t,n,e,0,null,!1,!1,"",yu);return e._reactRootContainer=o,e[kt]=o.current,ns(e.nodeType===8?e.parentNode:e),_r(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Di(c);l.call(u)}}var c=Xl(e,0,!1,null,null,!1,!1,"",yu);return e._reactRootContainer=c,e[kt]=c.current,ns(e.nodeType===8?e.parentNode:e),_r(function(){ta(t,c,r,n)}),c}function sa(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=Di(o);l.call(c)}}ta(t,o,e,s)}else o=Ug(r,t,e,s,n);return Di(o)}Bd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=On(t.pendingLanes);r!==0&&(wl(t,r|1),Ue(t,he()),!(q&6)&&(fn=he()+500,er()))}break;case 13:_r(function(){var n=Nt(e,1);if(n!==null){var s=Re();lt(n,e,1,s)}}),Zl(e,1)}};bl=function(e){if(e.tag===13){var t=Nt(e,134217728);if(t!==null){var r=Re();lt(t,e,134217728,r)}Zl(e,134217728)}};Wd=function(e){if(e.tag===13){var t=Ht(e),r=Nt(e,t);if(r!==null){var n=Re();lt(r,e,t,n)}Zl(e,t)}};Vd=function(){return K};qd=function(e,t){var r=K;try{return K=e,t()}finally{K=r}};co=function(e,t,r){switch(t){case"input":if(ro(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Gi(n);if(!s)throw Error(A(90));_d(n),ro(n,s)}}}break;case"textarea":kd(e,r);break;case"select":t=r.value,t!=null&&Xr(e,!!r.multiple,t,!1)}};Td=Gl;Fd=_r;var Mg={usingClientEntryPoint:!1,Events:[ks,Vr,Gi,Pd,Ad,Gl]},Pn={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bg={bundleType:Pn.bundleType,version:Pn.version,rendererPackageName:Pn.rendererPackageName,rendererConfig:Pn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Et.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Id(e),e===null?null:e.stateNode},findFiberByHostInstance:Pn.findFiberByHostInstance||zg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ks=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ks.isDisabled&&Ks.supportsFiber)try{Vi=Ks.inject(Bg),pt=Ks}catch{}}He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mg;He.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tc(t))throw Error(A(200));return $g(e,t,null,r)};He.createRoot=function(e,t){if(!tc(e))throw Error(A(299));var r=!1,n="",s=pf;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Xl(e,1,!1,null,null,r,!1,n,s),e[kt]=t.current,ns(e.nodeType===8?e.parentNode:e),new ec(t)};He.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=Id(t),e=e===null?null:e.stateNode,e};He.flushSync=function(e){return _r(e)};He.hydrate=function(e,t,r){if(!na(t))throw Error(A(200));return sa(null,e,t,!0,r)};He.hydrateRoot=function(e,t,r){if(!tc(e))throw Error(A(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=pf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=ff(t,null,e,1,r??null,s,!1,a,o),e[kt]=t.current,ns(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ra(t)};He.render=function(e,t,r){if(!na(t))throw Error(A(200));return sa(null,e,t,!1,r)};He.unmountComponentAtNode=function(e){if(!na(e))throw Error(A(40));return e._reactRootContainer?(_r(function(){sa(null,null,e,!1,function(){e._reactRootContainer=null,e[kt]=null})}),!0):!1};He.unstable_batchedUpdates=Gl;He.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!na(r))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return sa(e,t,r,!1,n)};He.version="18.3.1-next-f1338f8080-20240426";function mf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mf)}catch(e){console.error(e)}}mf(),pd.exports=He;var gf=pd.exports,xf,vu=gf;xf=vu.createRoot,vu.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hs(){return hs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hs.apply(this,arguments)}var zt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(zt||(zt={}));const wu="popstate";function Wg(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return Wo("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Li(s)}return qg(t,r,null,e)}function ue(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Vg(){return Math.random().toString(36).substr(2,8)}function bu(e,t){return{usr:e.state,key:e.key,idx:t}}function Wo(e,t,r,n){return r===void 0&&(r=null),hs({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?wn(t):t,{state:r,key:t&&t.key||n||Vg()})}function Li(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function qg(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=zt.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(hs({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function m(){l=zt.Pop;let w=d(),p=w==null?null:w-u;u=w,c&&c({action:l,location:g.location,delta:p})}function f(w,p){l=zt.Push;let h=Wo(g.location,w,p);u=d()+1;let x=bu(h,u),b=g.createHref(h);try{o.pushState(x,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}a&&c&&c({action:l,location:g.location,delta:1})}function y(w,p){l=zt.Replace;let h=Wo(g.location,w,p);u=d();let x=bu(h,u),b=g.createHref(h);o.replaceState(x,"",b),a&&c&&c({action:l,location:g.location,delta:0})}function v(w){let p=s.location.origin!=="null"?s.location.origin:s.location.href,h=typeof w=="string"?w:Li(w);return h=h.replace(/ $/,"%20"),ue(p,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,p)}let g={get action(){return l},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(wu,m),c=w,()=>{s.removeEventListener(wu,m),c=null}},createHref(w){return t(s,w)},createURL:v,encodeLocation(w){let p=v(w);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:y,go(w){return o.go(w)}};return g}var _u;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_u||(_u={}));function Hg(e,t,r){return r===void 0&&(r="/"),Kg(e,t,r)}function Kg(e,t,r,n){let s=typeof t=="string"?wn(t):t,a=pn(s.pathname||"/",r);if(a==null)return null;let o=yf(e);Gg(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=i0(a);l=n0(o[c],u)}return l}function yf(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(ue(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Gt([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(ue(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),yf(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:t0(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of vf(a.path))s(a,o,c)}),t}function vf(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=vf(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Gg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:r0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Jg=/^:[\w-]+$/,Qg=3,Yg=2,Xg=1,Zg=10,e0=-2,ju=e=>e==="*";function t0(e,t){let r=e.split("/"),n=r.length;return r.some(ju)&&(n+=e0),t&&(n+=Yg),r.filter(s=>!ju(s)).reduce((s,a)=>s+(Jg.test(a)?Qg:a===""?Xg:Zg),n)}function r0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function n0(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",m=Vo({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:Gt([a,m.pathname]),pathnameBase:u0(Gt([a,m.pathnameBase])),route:f}),m.pathnameBase!=="/"&&(a=Gt([a,m.pathnameBase]))}return o}function Vo(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=s0(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,m)=>{let{paramName:f,isOptional:y}=d;if(f==="*"){let g=l[m]||"";o=a.slice(0,a.length-g.length).replace(/(.)\/+$/,"$1")}const v=l[m];return y&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function s0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),rc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function i0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return rc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function pn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const a0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,o0=e=>a0.test(e);function l0(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?wn(e):e,a;if(r)if(o0(r))a=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),rc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?a=ku(r.substring(1),"/"):a=ku(r,t)}else a=t;return{pathname:a,search:d0(n),hash:h0(s)}}function ku(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ma(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function c0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function wf(e,t){let r=c0(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function bf(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=wn(e):(s=hs({},e),ue(!s.pathname||!s.pathname.includes("?"),Ma("?","pathname","search",s)),ue(!s.pathname||!s.pathname.includes("#"),Ma("#","pathname","hash",s)),ue(!s.search||!s.search.includes("#"),Ma("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let m=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),m-=1;s.pathname=f.join("/")}l=m>=0?t[m]:"/"}let c=l0(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Gt=e=>e.join("/").replace(/\/\/+/g,"/"),u0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),d0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,h0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function f0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _f=["post","put","patch","delete"];new Set(_f);const p0=["get",..._f];new Set(p0);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fs.apply(this,arguments)}const ia=_.createContext(null),jf=_.createContext(null),tr=_.createContext(null),aa=_.createContext(null),rr=_.createContext({outlet:null,matches:[],isDataRoute:!1}),kf=_.createContext(null);function m0(e,t){let{relative:r}=t===void 0?{}:t;Ss()||ue(!1);let{basename:n,navigator:s}=_.useContext(tr),{hash:a,pathname:o,search:l}=oa(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Gt([n,o])),s.createHref({pathname:c,search:l,hash:a})}function Ss(){return _.useContext(aa)!=null}function Ct(){return Ss()||ue(!1),_.useContext(aa).location}function Nf(e){_.useContext(tr).static||_.useLayoutEffect(e)}function me(){let{isDataRoute:e}=_.useContext(rr);return e?C0():g0()}function g0(){Ss()||ue(!1);let e=_.useContext(ia),{basename:t,future:r,navigator:n}=_.useContext(tr),{matches:s}=_.useContext(rr),{pathname:a}=Ct(),o=JSON.stringify(wf(s,r.v7_relativeSplatPath)),l=_.useRef(!1);return Nf(()=>{l.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let m=bf(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Gt([t,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[t,n,o,a,e])}function nc(){let{matches:e}=_.useContext(rr),t=e[e.length-1];return t?t.params:{}}function oa(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=_.useContext(tr),{matches:s}=_.useContext(rr),{pathname:a}=Ct(),o=JSON.stringify(wf(s,n.v7_relativeSplatPath));return _.useMemo(()=>bf(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function x0(e,t){return y0(e,t)}function y0(e,t,r,n){Ss()||ue(!1);let{navigator:s}=_.useContext(tr),{matches:a}=_.useContext(rr),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ct(),d;if(t){var m;let w=typeof t=="string"?wn(t):t;c==="/"||(m=w.pathname)!=null&&m.startsWith(c)||ue(!1),d=w}else d=u;let f=d.pathname||"/",y=f;if(c!=="/"){let w=c.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=Hg(e,{pathname:y}),g=j0(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Gt([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Gt([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,r,n);return t&&g?_.createElement(aa.Provider,{value:{location:fs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:zt.Pop}},g):g}function v0(){let e=E0(),t=f0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},t),r?_.createElement("pre",{style:s},r):null,null)}const w0=_.createElement(v0,null);class b0 extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?_.createElement(rr.Provider,{value:this.props.routeContext},_.createElement(kf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _0(e){let{routeContext:t,match:r,children:n}=e,s=_.useContext(ia);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(rr.Provider,{value:t},n)}function j0(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);d>=0||ue(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let m=o[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:f,errors:y}=r,v=m.route.loader&&f[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,m,f)=>{let y,v=!1,g=null,w=null;r&&(y=l&&m.route.id?l[m.route.id]:void 0,g=m.route.errorElement||w0,c&&(u<0&&f===0?(P0("route-fallback"),v=!0,w=null):u===f&&(v=!0,w=m.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,f+1)),h=()=>{let x;return y?x=g:v?x=w:m.route.Component?x=_.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=d,_.createElement(_0,{match:m,routeContext:{outlet:d,matches:p,isDataRoute:r!=null},children:x})};return r&&(m.route.ErrorBoundary||m.route.errorElement||f===0)?_.createElement(b0,{location:r.location,revalidation:r.revalidation,component:g,error:y,children:h(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):h()},null)}var Sf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Sf||{}),Ef=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ef||{});function k0(e){let t=_.useContext(ia);return t||ue(!1),t}function N0(e){let t=_.useContext(jf);return t||ue(!1),t}function S0(e){let t=_.useContext(rr);return t||ue(!1),t}function Cf(e){let t=S0(),r=t.matches[t.matches.length-1];return r.route.id||ue(!1),r.route.id}function E0(){var e;let t=_.useContext(kf),r=N0(),n=Cf();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function C0(){let{router:e}=k0(Sf.UseNavigateStable),t=Cf(Ef.UseNavigateStable),r=_.useRef(!1);return Nf(()=>{r.current=!0}),_.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,fs({fromRouteId:t},a)))},[e,t])}const Nu={};function P0(e,t,r){Nu[e]||(Nu[e]=!0)}function A0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ge(e){ue(!1)}function T0(e){let{basename:t="/",children:r=null,location:n,navigationType:s=zt.Pop,navigator:a,static:o=!1,future:l}=e;Ss()&&ue(!1);let c=t.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:a,static:o,future:fs({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=wn(n));let{pathname:d="/",search:m="",hash:f="",state:y=null,key:v="default"}=n,g=_.useMemo(()=>{let w=pn(d,c);return w==null?null:{location:{pathname:w,search:m,hash:f,state:y,key:v},navigationType:s}},[c,d,m,f,y,v,s]);return g==null?null:_.createElement(tr.Provider,{value:u},_.createElement(aa.Provider,{children:r,value:g}))}function Su(e){let{children:t,location:r}=e;return x0(qo(t),r)}new Promise(()=>{});function qo(e,t){t===void 0&&(t=[]);let r=[];return _.Children.forEach(e,(n,s)=>{if(!_.isValidElement(n))return;let a=[...t,s];if(n.type===_.Fragment){r.push.apply(r,qo(n.props.children,a));return}n.type!==ge&&ue(!1),!n.props.index||!n.props.children||ue(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=qo(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$i.apply(this,arguments)}function Pf(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function F0(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function R0(e,t){return e.button===0&&(!t||t==="_self")&&!F0(e)}function Ho(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function O0(e,t){let r=Ho(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(a=>{r.append(s,a)})}),r}const I0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],D0=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],L0="6";try{window.__reactRouterVersion=L0}catch{}const $0=_.createContext({isTransitioning:!1}),z0="startTransition",Eu=Fp[z0];function U0(e){let{basename:t,children:r,future:n,window:s}=e,a=_.useRef();a.current==null&&(a.current=Wg({window:s,v5Compat:!0}));let o=a.current,[l,c]=_.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=_.useCallback(m=>{u&&Eu?Eu(()=>c(m)):c(m)},[c,u]);return _.useLayoutEffect(()=>o.listen(d),[o,d]),_.useEffect(()=>A0(n),[n]),_.createElement(T0,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const M0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",B0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jt=_.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:m}=t,f=Pf(t,I0),{basename:y}=_.useContext(tr),v,g=!1;if(typeof u=="string"&&B0.test(u)&&(v=u,M0))try{let x=new URL(window.location.href),b=u.startsWith("//")?new URL(x.protocol+u):new URL(u),S=pn(b.pathname,y);b.origin===x.origin&&S!=null?u=S+b.search+b.hash:g=!0}catch{}let w=m0(u,{relative:s}),p=q0(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:m});function h(x){n&&n(x),x.defaultPrevented||p(x)}return _.createElement("a",$i({},f,{href:v||w,onClick:g||a?n:h,ref:r,target:c}))}),W0=_.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=t,m=Pf(t,D0),f=oa(c,{relative:m.relative}),y=Ct(),v=_.useContext(jf),{navigator:g,basename:w}=_.useContext(tr),p=v!=null&&H0(f)&&u===!0,h=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,x=y.pathname,b=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(x=x.toLowerCase(),b=b?b.toLowerCase():null,h=h.toLowerCase()),b&&w&&(b=pn(b,w)||b);const S=h!=="/"&&h.endsWith("/")?h.length-1:h.length;let k=x===h||!o&&x.startsWith(h)&&x.charAt(S)==="/",j=b!=null&&(b===h||!o&&b.startsWith(h)&&b.charAt(h.length)==="/"),N={isActive:k,isPending:j,isTransitioning:p},P=k?n:void 0,C;typeof a=="function"?C=a(N):C=[a,k?"active":null,j?"pending":null,p?"transitioning":null].filter(Boolean).join(" ");let F=typeof l=="function"?l(N):l;return _.createElement(Jt,$i({},m,{"aria-current":P,className:C,ref:r,style:F,to:c,viewTransition:u}),typeof d=="function"?d(N):d)});var Ko;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ko||(Ko={}));var Cu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Cu||(Cu={}));function V0(e){let t=_.useContext(ia);return t||ue(!1),t}function q0(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=me(),u=Ct(),d=oa(e,{relative:o});return _.useCallback(m=>{if(R0(m,r)){m.preventDefault();let f=n!==void 0?n:Li(u)===Li(d);c(e,{replace:f,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,a,o,l])}function Af(e){let t=_.useRef(Ho(e)),r=_.useRef(!1),n=Ct(),s=_.useMemo(()=>O0(n.search,r.current?null:t.current),[n.search]),a=me(),o=_.useCallback((l,c)=>{const u=Ho(typeof l=="function"?l(s):l);r.current=!0,a("?"+u,c)},[a,s]);return[s,o]}function H0(e,t){t===void 0&&(t={});let r=_.useContext($0);r==null&&ue(!1);let{basename:n}=V0(Ko.useViewTransitionState),s=oa(e,{relative:t.relative});if(!r.isTransitioning)return!1;let a=pn(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=pn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Vo(s.pathname,o)!=null||Vo(s.pathname,a)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var K0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),L=(e,t)=>{const r=_.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>_.createElement("svg",{ref:d,...K0,width:s,height:s,stroke:n,strokeWidth:o?Number(a)*24/Number(s):a,className:["lucide",`lucide-${G0(e)}`,l].join(" "),...u},[...t.map(([m,f])=>_.createElement(m,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=L("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=L("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=L("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=L("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=L("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ff=L("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=L("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=L("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=L("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=L("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=L("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=L("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ic=L("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=L("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=L("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=L("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=L("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=L("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=L("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=L("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=L("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=L("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=L("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=L("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=L("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rf=L("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cr=L("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cx=L("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=L("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=L("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mn=L("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=L("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=L("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=L("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=L("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=L("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=L("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=L("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=L("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=L("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=L("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=L("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=L("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=L("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=L("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=L("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=L("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=L("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=L("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=L("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=L("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function ua(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function gx(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(m){o(m)}}function c(d){try{u(n.throw(d))}catch(m){o(m)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})}const xx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class lc extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class yx extends lc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Au extends lc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Tu extends lc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Qo;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Qo||(Qo={}));class vx{constructor(t,{headers:r={},customFetch:n,region:s=Qo.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=xx(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return gx(this,arguments,void 0,function*(r,n={}){var s;let a,o;try{const{headers:l,method:c,body:u,signal:d,timeout:m}=n;let f={},{region:y}=n;y||(y=this.region);const v=new URL(`${this.url}/${r}`);y&&y!=="any"&&(f["x-region"]=y,v.searchParams.set("forceFunctionRegion",y));let g;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(f["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(f["Content-Type"]="application/json",g=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?g=JSON.stringify(u):g=u;let w=d;m&&(o=new AbortController,a=setTimeout(()=>o.abort(),m),d?(w=o.signal,d.addEventListener("abort",()=>o.abort())):w=o.signal);const p=yield this.fetch(v.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),l),body:g,signal:w}).catch(S=>{throw new yx(S)}),h=p.headers.get("x-relay-error");if(h&&h==="true")throw new Au(p);if(!p.ok)throw new Tu(p);let x=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return x==="application/json"?b=yield p.json():x==="application/octet-stream"||x==="application/pdf"?b=yield p.blob():x==="text/event-stream"?b=p:x==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null,response:p}}catch(l){return{data:null,error:l,response:l instanceof Tu||l instanceof Au?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var wx=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},bx=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,l=null,c=null,u=a.status,d=a.statusText;if(a.ok){var m,f;if(r.method!=="HEAD"){var y;const p=await a.text();p===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((y=r.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?l=p:l=JSON.parse(p))}const g=(m=r.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),w=(f=a.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");g&&w&&w.length>1&&(c=parseInt(w[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,c=null,u=406,d="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var v;const g=await a.text();try{o=JSON.parse(g),Array.isArray(o)&&a.status===404&&(l=[],o=null,u=200,d="OK")}catch{a.status===404&&g===""?(u=204,d="No Content"):o={message:g}}if(o&&r.isMaybeSingle&&(!(o==null||(v=o.details)===null||v===void 0)&&v.includes("0 rows"))&&(o=null,u=200,d="OK"),o&&r.shouldThrowOnError)throw new wx(o)}return{error:o,data:l,count:c,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(a=>{var o;let l="";const c=a==null?void 0:a.cause;if(c){var u,d,m,f;const v=(u=c==null?void 0:c.message)!==null&&u!==void 0?u:"",g=(d=c==null?void 0:c.code)!==null&&d!==void 0?d:"";l=`${(m=a==null?void 0:a.name)!==null&&m!==void 0?m:"FetchError"}: ${a==null?void 0:a.message}`,l+=`

Caused by: ${(f=c==null?void 0:c.name)!==null&&f!==void 0?f:"Error"}: ${v}`,g&&(l+=` (${g})`),c!=null&&c.stack&&(l+=`
${c.stack}`)}else{var y;l=(y=a==null?void 0:a.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},_x=class extends bx{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,a=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),c=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${c}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Fu=new RegExp("[,()]");var Dr=class extends _x{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Fu.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Fu.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},jx=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join(""),{url:l,headers:c}=this.cloneRequestState();return l.searchParams.set("select",o),n&&c.append("Prefer",`count=${n}`),new Dr({method:s,url:l,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:a,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),r||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);a.searchParams.set("columns",c.join(","))}}return new Dr({method:s,url:a,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var a;const o="POST",{url:l,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),n&&c.append("Prefer",`count=${n}`),s||c.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,m)=>d.concat(Object.keys(m)),[]);if(u.length>0){const d=[...new Set(u)].map(m=>`"${m}"`);l.searchParams.set("columns",d.join(","))}}return new Dr({method:o,url:l,headers:c,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new Dr({method:n,url:s,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Dr({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},kx=class Mf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new jx(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Mf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){var o;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;const d=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(d)),m=n&&Object.values(r).some(d);m?(l="POST",u=r):n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([y,v])=>v!==void 0).map(([y,v])=>[y,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([y,v])=>{c.searchParams.append(y,v)})):(l="POST",u=r);const f=new Headers(this.headers);return m?f.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&f.set("Prefer",`count=${a}`),new Dr({method:l,url:c,headers:f,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class Nx{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Sx="2.93.1",Ex=`realtime-js/${Sx}`,Cx="1.0.0",Bf="2.0.0",Ru=Bf,Yo=1e4,Px=1e3,Ax=100;var Rt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Rt||(Rt={}));var xe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(xe||(xe={}));var it;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(it||(it={}));var Xo;(function(e){e.websocket="websocket"})(Xo||(Xo={}));var ur;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ur||(ur={}));class Tx{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,r,n){var s,a;const o=t.topic,l=(s=t.ref)!==null&&s!==void 0?s:"",c=(a=t.join_ref)!==null&&a!==void 0?a:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+m.length,y=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(y),g=0;v.setUint8(g++,this.KINDS.userBroadcastPush),v.setUint8(g++,c.length),v.setUint8(g++,l.length),v.setUint8(g++,o.length),v.setUint8(g++,u.length),v.setUint8(g++,m.length),v.setUint8(g++,r),Array.from(c,p=>v.setUint8(g++,p.charCodeAt(0))),Array.from(l,p=>v.setUint8(g++,p.charCodeAt(0))),Array.from(o,p=>v.setUint8(g++,p.charCodeAt(0))),Array.from(u,p=>v.setUint8(g++,p.charCodeAt(0))),Array.from(m,p=>v.setUint8(g++,p.charCodeAt(0)));var w=new Uint8Array(y.byteLength+n.byteLength);return w.set(new Uint8Array(y),0),w.set(new Uint8Array(n),y.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,a,o,l,c]=n;return r({join_ref:s,ref:a,topic:o,event:l,payload:c})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(t.slice(c,c+s));c=c+s;const d=n.decode(t.slice(c,c+a));c=c+a;const m=n.decode(t.slice(c,c+o));c=c+o;const f=t.slice(c,t.byteLength),y=l===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,v={type:this.BROADCAST_EVENT,event:d,payload:y};return o>0&&(v.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Wf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Y||(Y={}));const Ou=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=Fx(o,e,t,s),a),{}):{}},Fx=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=r[e];return a&&!n.includes(a)?Vf(a,o):Zo(o)},Vf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Dx(t,r)}switch(e){case Y.bool:return Rx(t);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return Ox(t);case Y.json:case Y.jsonb:return Ix(t);case Y.timestamp:return Lx(t);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return Zo(t);default:return Zo(t)}},Zo=e=>e,Rx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ox=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ix=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Dx=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>Vf(t,l))}return e},Lx=e=>typeof e=="string"?e.replace(" ","T"):e,qf=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ba{constructor(t,r,n={},s=Yo){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Iu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Iu||(Iu={}));class Kn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Kn.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=Kn.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Kn.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const m=a[u];if(m){const f=d.map(w=>w.presence_ref),y=m.map(w=>w.presence_ref),v=d.filter(w=>y.indexOf(w.presence_ref)<0),g=m.filter(w=>f.indexOf(w.presence_ref)<0);v.length>0&&(l[u]=v),g.length>0&&(c[u]=g)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const m=t[l].map(y=>y.presence_ref),f=d.filter(y=>m.indexOf(y.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(m=>m.presence_ref);u=u.filter(m=>d.indexOf(m.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Du;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Du||(Du={}));var Gn;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Gn||(Gn={}));var yt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yt||(yt={}));class Yr{constructor(t,r={config:{}},n){var s,a;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=xe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ba(this,it.join,this.params,this.timeout),this.rejoinTimer=new Wf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=xe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(it.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Kn(this),this.broadcastEndpointURL=qf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==xe.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Gn.PRESENCE]&&this.bindings[Gn.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(yt.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(yt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){t==null||t(yt.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,w=(v=g==null?void 0:g.length)!==null&&v!==void 0?v:0,p=[];for(let h=0;h<w;h++){const x=g[h],{filter:{event:b,schema:S,table:k,filter:j}}=x,N=y&&y[h];if(N&&N.event===b&&Yr.isFilterValueEqual(N.schema,S)&&Yr.isFilterValueEqual(N.table,k)&&Yr.isFilterValueEqual(N.filter,j))p.push(Object.assign(Object.assign({},x),{id:N.id}));else{this.unsubscribe(),this.state=xe.errored,t==null||t(yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(yt.SUBSCRIBED);return}}).receive("error",y=>{this.state=xe.errored,t==null||t(yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===xe.joined&&t===Gn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=xe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(it.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ba(this,it.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=xe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ba(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Ax){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=it;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,g,w;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(g=y.filter)===null||g===void 0?void 0:g.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(y=>y.callback(f,n)):(a=this.bindings[o])===null||a===void 0||a.filter(y=>{var v,g,w,p,h,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const b=y.id,S=(v=y.filter)===null||v===void 0?void 0:v.event;return b&&((g=r.ids)===null||g===void 0?void 0:g.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(h=(p=y==null?void 0:y.filter)===null||p===void 0?void 0:p.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return b==="*"||b===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:g,table:w,commit_timestamp:p,type:h,errors:x}=v;f=Object.assign(Object.assign({},{schema:g,table:w,commit_timestamp:p,eventType:h,new:{},old:{},errors:x}),this._getPayloadRecords(v))}y.callback(f,n)})}_isClosed(){return this.state===xe.closed}_isJoined(){return this.state===xe.joined}_isJoining(){return this.state===xe.joining}_isLeaving(){return this.state===xe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&Yr.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(it.close,{},t)}_onError(t){this._on(it.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Ou(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Ou(t.columns,t.old_record)),r}}const Wa=()=>{},Gs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$x=[1e3,2e3,5e3,1e4],zx=1e4,Ux=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Mx{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Yo,this.transport=null,this.heartbeatIntervalMs=Gs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wa,this.ref=0,this.reconnectTimer=null,this.vsn=Ru,this.logger=Wa,this.conn=null,this.sendBuffer=[],this.serializer=new Tx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...a)=>s(...a):(...a)=>fetch(...a),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Xo.websocket}`,this.httpEndpoint=qf(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Nx.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Rt.connecting:return ur.Connecting;case Rt.open:return ur.Open;case Rt.closing:return ur.Closing;default:return ur.Closed}}isConnected(){return this.connectionState()===ur.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new Yr(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Px,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Gs.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:a,ref:o}=r,l=o?`(${o})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,a,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Rt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Rt.open||this.conn.readyState===Rt.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(r){this.log("error","error in heartbeat callback",r)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(it.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Ux],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const a={access_token:r,version:Ex};r&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(it.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Wf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,o,l,c,u,d,m,f,y;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Yo,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Gs.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Wa,this.vsn=(c=t==null?void 0:t.vsn)!==null&&c!==void 0?c:Ru,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>$x[v-1]||zx,this.vsn){case Cx:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,g)=>g(JSON.stringify(v)),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:(v,g)=>g(JSON.parse(v));break;case Bf:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ms=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Bx(e,t,r){const n=new URL(t,e);if(r)for(const[s,a]of Object.entries(r))a!==void 0&&n.searchParams.set(s,a);return n.toString()}async function Wx(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Vx(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:a,headers:o}){const l=Bx(e.baseUrl,n,s),c=await Wx(e.auth),u=await t(l,{method:r,headers:{...a?{"Content-Type":"application/json"}:{},...c,...o},body:a?JSON.stringify(a):void 0}),d=await u.text(),m=(u.headers.get("content-type")||"").includes("application/json"),f=m&&d?JSON.parse(d):d;if(!u.ok){const y=m?f:void 0,v=y==null?void 0:y.error;throw new ms((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:y})}return{status:u.status,headers:u.headers,data:f}}}}function Js(e){return e.join("")}var qx=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Js(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Js(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Js(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Js(e.namespace)}`}),!0}catch(t){if(t instanceof ms&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ms&&r.status===409)return;throw r}}};function Pr(e){return e.join("")}var Hx=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pr(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Pr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Pr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Pr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Pr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ms&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ms&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Kx=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Vx({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new qx(this.client,t),this.tableOps=new Hx(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},da=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function ha(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Qs=class extends da{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Hf=class extends da{constructor(e,t,r="storage"){super(e,r),this.name=r==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Gx=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Jx=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},el=e=>{if(Array.isArray(e))return e.map(r=>el(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=el(n)}),t},Qx=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function gs(e){"@babel/helpers - typeof";return gs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(e)}function Yx(e,t){if(gs(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xx(e){var t=Yx(e,"string");return gs(t)=="symbol"?t:t+""}function Zx(e,t,r){return(t=Xx(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lu(Object(r),!0).forEach(function(n){Zx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const $u=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},ey=async(e,t,r,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e,a=s.status||500;if(typeof s.json=="function")s.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Qs($u(o),a,l,n))}).catch(()=>{if(n==="vectors"){const o=a+"";t(new Qs(s.statusText||`HTTP ${a} error`,a,o,n))}else{const o=a+"";t(new Qs(s.statusText||`HTTP ${a} error`,a,o,n))}});else{const o=a+"";t(new Qs(s.statusText||`HTTP ${a} error`,a,o,n))}}else t(new Hf($u(e),e,n))},ty=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?z(z({},s),r):(Jx(n)?(s.headers=z({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),z(z({},s),r))};async function An(e,t,r,n,s,a,o){return new Promise((l,c)=>{e(r,ty(t,n,s,a)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(o==="vectors"){const d=u.headers.get("content-type");if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>l(u)).catch(u=>ey(u,c,n,o))})}function ry(e="storage"){return{get:async(t,r,n,s)=>An(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,a)=>An(t,"POST",r,s,a,n,e),put:async(t,r,n,s,a)=>An(t,"PUT",r,s,a,n,e),head:async(t,r,n,s)=>An(t,"HEAD",r,z(z({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,a)=>An(t,"DELETE",r,s,a,n,e)}}const ny=ry("storage"),{get:xs,post:ne,put:tl,head:sy,remove:cc}=ny;var bn=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Gx(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ha(r))return{data:null,error:r};throw r}}},iy=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ha(t))return{data:null,error:t};throw t}}};let Kf;Kf=Symbol.toStringTag;var ay=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Kf]="BlobDownloadBuilder",this.promise=null}asStream(){return new iy(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ha(t))return{data:null,error:t};throw t}}};const oy={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var ly=class extends bn{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let a;const o=z(z({},zu),n);let l=z(z({},s.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",s.encodeMetadata(c)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),c&&!a.has("metadata")&&a.append("metadata",s.encodeMetadata(c))):(a=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=s.toBase64(s.encodeMetadata(c))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),n!=null&&n.headers&&(l=z(z({},l),n.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),m=await(e=="PUT"?tl:ne)(s.fetch,`${s.url}/object/${d}`,a,z({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:u,id:m.Id,fullPath:m.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const a=s._removeEmptyFolders(e),o=s._getFinalPath(a),l=new URL(s.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),s.handleOperation(async()=>{let c;const u=z({upsert:zu.upsert},n),d=z(z({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:a,fullPath:(await tl(s.fetch,l.toString(),c,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e);const s=z({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const a=await ne(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+a.url),l=o.searchParams.get("token");if(!l)throw new da("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await ne(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await ne(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),a=await ne(n.fetch,`${n.url}/object/sign/${s}`,z({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${a.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{const s=await ne(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s.map(o=>z(z({},o),{},{signedUrl:o.signedURL?encodeURI(`${n.url}${o.signedURL}${a}`):null}))})}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",a=this._getFinalPath(e),o=()=>xs(this.fetch,`${this.url}/${r}/${a}${s}`,{headers:this.headers,noResolveJson:!0});return new ay(o,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);return t.handleOperation(async()=>el(await xs(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await sy(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ha(n)&&n instanceof Hf){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&n.push(o);let l=n.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await cc(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{const s=z(z(z({},oy),t),{},{prefix:e||""});return await ne(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{const n=z({},e);return await ne(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const cy="2.93.1",Cs={"X-Client-Info":`storage-js/${cy}`};var uy=class extends bn{constructor(e,t={},r,n){const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const a=s.href.replace(/\/$/,""),o=z(z({},Cs),t);super(a,o,r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=t.listBucketOptionsToQueryString(e);return await xs(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await xs(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await ne(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await tl(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await cc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},dy=class extends bn{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=z(z({},Cs),t);super(n,s,r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await xs(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await cc(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Qx(e))throw new da("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Kx({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,a){const o=s[a];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(s,l),error:null}}catch(c){if(n)throw c;return{data:null,error:c}}}}})}},hy=class extends bn{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=z(z({},Cs),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await ne(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await ne(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},fy=class extends bn{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=z(z({},Cs),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},py=class extends bn{constructor(e,t={},r){const n=e.replace(/\/$/,""),s=z(z({},Cs),{},{"Content-Type":"application/json"},t);super(n,s,r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},my=class extends py{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new gy(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},gy=class extends hy{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,z(z({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,z(z({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new xy(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},xy=class extends fy{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,z(z({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,z(z({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,z(z({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,z(z({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,z(z({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},yy=class extends uy{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new ly(this.url,this.headers,e,this.fetch)}get vectors(){return new my(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new dy(this.url+"/iceberg",this.headers,this.fetch)}};const Gf="2.93.1",Lr=30*1e3,rl=3,Va=rl*Lr,vy="http://localhost:9999",wy="supabase.auth.token",by={"X-Client-Info":`gotrue-js/${Gf}`},nl="X-Supabase-Api-Version",Jf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_y=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,jy=10*60*1e3;class ys extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function D(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class ky extends ys{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ny(e){return D(e)&&e.name==="AuthApiError"}class dr extends ys{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Pt extends ys{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Me extends Pt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qa(e){return D(e)&&e.name==="AuthSessionMissingError"}class Ar extends Pt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ys extends Pt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Xs extends Pt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Sy(e){return D(e)&&e.name==="AuthImplicitGrantRedirectError"}class Uu extends Pt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ey extends Pt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class sl extends Pt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Ha(e){return D(e)&&e.name==="AuthRetryableFetchError"}class Mu extends Pt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class il extends Pt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ui="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bu=` 	
\r=`.split(""),Cy=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Bu.length;t+=1)e[Bu[t].charCodeAt(0)]=-2;for(let t=0;t<Ui.length;t+=1)e[Ui[t].charCodeAt(0)]=t;return e})();function Wu(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ui[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ui[n]),t.queuedBits-=6}}function Qf(e,t,r){const n=Cy[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Vu(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{Ty(o,n,r)};for(let o=0;o<e.length;o+=1)Qf(e.charCodeAt(o),s,a);return t.join("")}function Py(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ay(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Py(n,t)}}function Ty(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function an(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Qf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Fy(e){const t=[];return Ay(e,r=>t.push(r)),new Uint8Array(t)}function mr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Wu(s,r,n)),Wu(null,r,n),t.join("")}function Ry(e){return Math.round(Date.now()/1e3)+e}function Oy(){return Symbol("auth-callback")}const je=()=>typeof window<"u"&&typeof document<"u",sr={tested:!1,writable:!1},Yf=()=>{if(!je())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(sr.tested)return sr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),sr.tested=!0,sr.writable=!0}catch{sr.tested=!0,sr.writable=!1}return sr.writable};function Iy(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Xf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Dy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",$r=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ir=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},_e=async(e,t)=>{await e.removeItem(t)};class fa{constructor(){this.promise=new fa.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}fa.promiseConstructor=Promise;function Zs(e){const t=e.split(".");if(t.length!==3)throw new il("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!_y.test(t[n]))throw new il("JWT not in base64url format");return{header:JSON.parse(Vu(t[0])),payload:JSON.parse(Vu(t[1])),signature:an(t[2]),raw:{header:t[0],payload:t[1]}}}async function Ly(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $y(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function zy(e){return("0"+e.toString(16)).substr(-2)}function Uy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,zy).join("")}async function My(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function By(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await My(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tr(e,t,r=!1){const n=Uy();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await $r(e,`${t}-code-verifier`,s);const a=await By(n);return[a,n===a?"plain":"s256"]}const Wy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vy(e){const t=e.headers.get(nl);if(!t||!t.match(Wy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function qy(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Hy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ky=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fr(e){if(!Ky.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ka(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gy(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const a=n.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function qu(e){return JSON.parse(JSON.stringify(e))}const lr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Jy=[502,503,504];async function Hu(e){var t;if(!Dy(e))throw new sl(lr(e),0);if(Jy.includes(e.status))throw new sl(lr(e),e.status);let r;try{r=await e.json()}catch(a){throw new dr(lr(a),a)}let n;const s=Vy(e);if(s&&s.getTime()>=Jf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Mu(lr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Me}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new Mu(lr(r),e.status,r.weak_password.reasons);throw new ky(lr(r),e.status||500,n)}const Qy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function $(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[nl]||(a[nl]=Jf["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Yy(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function Yy(e,t,r,n,s,a){const o=Qy(t,n,s,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new sl(lr(c),0)}if(l.ok||await Hu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Hu(c)}}function rt(e){var t;let r=null;ev(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ry(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Ku(e){const t=rt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Dt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Xy(e){return{data:e,error:null}}function Zy(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=ua(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Gu(e){return e}function ev(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ga=["global","local","others"];class tv{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Xf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Ga[0]){if(Ga.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ga.join(", ")}`);try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(D(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Dt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=ua(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Zy,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(D(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Dt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Gu});if(d.error)throw d.error;const m=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(D(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Fr(t);try{return await $(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Dt})}catch(r){if(D(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Fr(t);try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Dt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Fr(t);try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Dt})}catch(n){if(D(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Fr(t.userId);try{const{data:r,error:n}=await $(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(D(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Fr(t.userId),Fr(t.id);try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await $(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:Gu});if(d.error)throw d.error;const m=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(v=>{const g=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=g}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(D(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await $(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(D(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await $(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(D(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await $(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(D(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(D(r))return{data:null,error:r};throw r}}}function Ju(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Rr={debug:!!(globalThis&&Yf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Zf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class rv extends Zf{}async function nv(e,t,r){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Rr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new rv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function sv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ep(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function iv(e){return parseInt(e,16)}function av(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function ov(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:m,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=ep(e.address),v=d?`${d}://${n}`:n,g=e.statement?`${e.statement}
`:"",w=`${v} wants you to sign in with your Ethereum account:
${y}

${g}`;let p=`URI: ${m}
Version: ${f}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(s&&(p+=`
Expiration Time: ${s.toISOString()}`),l&&(p+=`
Not Before: ${l.toISOString()}`),c&&(p+=`
Request ID: ${c}`),u){let h=`
Resources:`;for(const x of u){if(!x||typeof x!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${x}`);h+=`
- ${x}`}p+=h}return`${w}
${p}`}class fe extends Error{constructor({message:t,code:r,cause:n,name:s}){var a;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(a=s??(n instanceof Error?n.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=r}}class Mi extends fe{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function lv({error:e,options:t}){var r,n,s;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=a.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(tp(o)){if(a.rp.id!==o)return new fe({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function cv({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(tp(n)){if(r.rpId!==n)return new fe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class uv{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const dv=new uv;function hv(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=ua(e,["challenge","user","excludeCredentials"]),a=an(t).buffer,o=Object.assign(Object.assign({},r),{id:an(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:a,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:an(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function fv(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=ua(e,["challenge","allowCredentials"]),s=an(t).buffer,a=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){a.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:an(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function pv(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:mr(new Uint8Array(e.response.attestationObject)),clientDataJSON:mr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function mv(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:mr(new Uint8Array(s.authenticatorData)),clientDataJSON:mr(new Uint8Array(s.clientDataJSON)),signature:mr(new Uint8Array(s.signature)),userHandle:s.userHandle?mr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function tp(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Qu(){var e,t;return!!(je()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function gv(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Mi("Browser returned unexpected credential type",t)}:{data:null,error:new Mi("Empty credential response",t)}}catch(t){return{data:null,error:lv({error:t,options:e})}}}async function xv(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Mi("Browser returned unexpected credential type",t)}:{data:null,error:new Mi("Empty credential response",t)}}catch(t){return{data:null,error:cv({error:t,options:e})}}}const yv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},vv={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Bi(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const a in s){const o=s[a];if(o!==void 0)if(Array.isArray(o))n[a]=o;else if(r(o))n[a]=o;else if(t(o)){const l=n[a];t(l)?n[a]=Bi(l,o):n[a]=Bi(o)}else n[a]=o}return n}function wv(e,t){return Bi(yv,e,t||{})}function bv(e,t){return Bi(vv,e,t||{})}class _v{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},a){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const c=s??dv.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=wv(o.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:d,error:m}=await gv({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:m}}case"request":{const u=bv(o.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:d,error:m}=await xv(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:m}}}}catch(o){return D(o)?{data:null,error:o}:{data:null,error:new dr("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new ys("rpId is required for WebAuthn authentication")};try{if(!Qu())return{data:null,error:new dr("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:a});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return D(o)?{data:null,error:o}:{data:null,error:new dr("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},a){if(!r)return{data:null,error:new ys("rpId is required for WebAuthn registration")};try{if(!Qu())return{data:null,error:new dr("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var m;return(m=d.data)===null||m===void 0?void 0:m.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:a});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return D(o)?{data:null,error:o}:{data:null,error:new dr("Unexpected error in register",o)}}}}sv();const jv={url:vy,storageKey:wy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:by,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Yu(e,t,r){return await r()}const Or={};class vs{get jwks(){var t,r;return(r=(t=Or[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Or[this.storageKey]=Object.assign(Object.assign({},Or[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Or[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Or[this.storageKey]=Object.assign(Object.assign({},Or[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},jv),t);if(this.storageKey=a.storageKey,this.instanceID=(r=vs.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,vs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&je()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new tv({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Xf(a.fetch),this.lock=a.lock||Yu,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&je()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=nv:this.lock=Yu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new _v(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Yf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ju(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Ju(this.memoryStorage)),je()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Gf}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(je()&&(r=Iy(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),je()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Sy(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return D(r)?this._returnResult({error:r}):this._returnResult({error:new dr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:rt}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(D(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:m,options:f}=t;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Tr(this.storage,this.storageKey)),a=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:m,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:v},xform:rt})}else if("phone"in t){const{phone:d,password:m,options:f}=t;a=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:rt})}else throw new Ys("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await _e(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(a){if(await _e(this.storage,`${this.storageKey}-code-verifier`),D(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ku})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ku})}else throw new Ys("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const a=new Ar;return this._returnResult({data:{user:null,session:null},error:a})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(D(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,a,o,l,c,u,d,m,f;let y,v;if("message"in t)y=t.message,v=t.signature;else{const{chain:g,wallet:w,statement:p,options:h}=t;let x;if(je())if(typeof w=="object")x=w;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")x=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=w}const b=new URL((r=h==null?void 0:h.url)!==null&&r!==void 0?r:window.location.href),S=await x.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=ep(S[0]);let j=(n=h==null?void 0:h.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!j){const P=await x.request({method:"eth_chainId"});j=iv(P)}const N={domain:b.host,address:k,statement:p,uri:b.href,version:"1",chainId:j,nonce:(s=h==null?void 0:h.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(a=h==null?void 0:h.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=h==null?void 0:h.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=h==null?void 0:h.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=h==null?void 0:h.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=h==null?void 0:h.signInWithEthereum)===null||d===void 0?void 0:d.resources};y=ov(N),v=await x.request({method:"personal_sign",params:[av(y),k]})}try{const{data:g,error:w}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:v},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:rt});if(w)throw w;if(!g||!g.session||!g.user){const p=new Ar;return this._returnResult({data:{user:null,session:null},error:p})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:w})}catch(g){if(D(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(t){var r,n,s,a,o,l,c,u,d,m,f,y;let v,g;if("message"in t)v=t.message,g=t.signature;else{const{chain:w,wallet:p,statement:h,options:x}=t;let b;if(je())if(typeof p=="object")b=p;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))b=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=p}const S=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const k=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),h?{statement:h}:null));let j;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")j=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)j=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in j&&"signature"in j&&(typeof j.signedMessage=="string"||j.signedMessage instanceof Uint8Array)&&j.signature instanceof Uint8Array)v=typeof j.signedMessage=="string"?j.signedMessage:new TextDecoder().decode(j.signedMessage),g=j.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((m=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||m===void 0)&&m.length?["Resources",...x.signInWithSolana.resources.map(j=>`- ${j}`)]:[]].join(`
`);const k=await b.signMessage(new TextEncoder().encode(v),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=k}}try{const{data:w,error:p}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:mr(g)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:rt});if(p)throw p;if(!w||!w.session||!w.user){const h=new Ar;return this._returnResult({data:{user:null,session:null},error:h})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:p})}catch(w){if(D(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await ir(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Ey;const{data:a,error:o}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:rt});if(await _e(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new Ar;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(await _e(this.storage,`${this.storageKey}-code-verifier`),D(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=t,l=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:rt}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new Ar;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(D(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Tr(this.storage,this.storageKey));const{error:m}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Ys("You must provide either an email or phone number.")}catch(l){if(await _e(this.storage,`${this.storageKey}-code-verifier`),D(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:rt});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(D(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,a,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Tr(this.storage,this.storageKey));const u=await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:Xy});return!((a=u.data)===null||a===void 0)&&a.url&&je()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await _e(this.storage,`${this.storageKey}-code-verifier`),D(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Me;const{error:s}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(D(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:o}=await $(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:o,error:l}=await $(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new Ys("You must provide either an email or phone number and a type")}catch(r){if(D(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ir(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Va:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ir(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Ka()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Gy(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Dt}):await this._useSession(async r=>{var n,s,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Me}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Dt})})}catch(r){if(D(r))return qa(r)&&(await this._removeSession(),await _e(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new Me;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Tr(this.storage,this.storageKey));const{data:u,error:d}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Dt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await _e(this.storage,`${this.storageKey}-code-verifier`),D(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Me;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=Zs(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(D(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Me;const{data:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(D(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!je())throw new Xs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Xs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Uu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Uu("No code detected.");const{data:h,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new Xs("No session defined in URL");const d=Math.round(Date.now()/1e3),m=parseInt(l);let f=d+m;c&&(f=parseInt(c));const y=f-d;y*1e3<=Lr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${m}s`);const v=f-m;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:g,error:w}=await this._getUser(a);if(w)throw w;const p={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:m,expires_at:f,refresh_token:o,token_type:u,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:t.type},error:null})}catch(n){if(D(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ir(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a&&!qa(a))return this._returnResult({error:a});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Ny(l)&&(l.status===404||l.status===401||l.status===403)||qa(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await _e(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=Oy(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Tr(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await _e(this.storage,`${this.storageKey}-code-verifier`),D(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:m,error:f}=a;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return je()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(D(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:a}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=t,m=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=a==null?void 0:a.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:rt}),{data:f,error:y}=m;return y?this._returnResult({data:{user:null,session:null},error:y}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Ar}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:y}))}catch(s){if(await _e(this.storage,`${this.storageKey}-code-verifier`),D(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await $y(async s=>(s>0&&await Ly(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:rt})),(s,a)=>{const o=200*Math.pow(2,s);return a&&Ha(a)&&Date.now()+o-n<Lr})}catch(n){if(this._debug(r,"error",n),D(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),je()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ir(this.storage,this.storageKey);if(s&&this.userStorage){let o=await ir(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await $r(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Ka()}else if(s&&!s.user&&!s.user){const o=await ir(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await _e(this.storage,this.storageKey+"-user"),await $r(this.storage,this.storageKey,s)):s.user=Ka()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Va;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${Va}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Ha(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Me;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new fa;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Me;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),D(a)){const o={data:null,error:a};return Ha(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await _e(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await $r(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=qu(s);await $r(this.storage,this.storageKey,a)}else{const s=qu(r);await $r(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await _e(this.storage,this.storageKey),await _e(this.storage,this.storageKey+"-code-verifier"),await _e(this.storage,this.storageKey+"-user"),this.userStorage&&await _e(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&je()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Lr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Lr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Lr}ms, refresh threshold is ${rl} ticks`),s<=rl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Zf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!je()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await Tr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?this._returnResult({data:null,error:a}):await $(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await $(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?pv(t.webauthn.credential_response):mv(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:c}=await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:hv(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:fv(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(a),a.status==="verified"&&s[a.factor_type].push(a);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var r,n,s,a;if(t)try{const{payload:y}=Zs(t);let v=null;y.aal&&(v=y.aal);let g=v;const{data:{user:w},error:p}=await this.getUser(t);if(p)return this._returnResult({data:null,error:p});((n=(r=w==null?void 0:w.factors)===null||r===void 0?void 0:r.filter(b=>b.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(g="aal2");const x=y.amr||[];return{data:{currentLevel:v,nextLevel:g,currentAuthenticationMethods:x},error:null}}catch(y){if(D(y))return this._returnResult({data:null,error:y});throw y}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=Zs(o.access_token);let u=null;c.aal&&(u=c.aal);let d=u;((a=(s=o.user.factors)===null||s===void 0?void 0:s.filter(y=>y.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(d="aal2");const f=c.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await $(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Me})})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Me});const o=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&je()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:a}=n;if(a)return this._returnResult({data:null,error:a});if(!s)return this._returnResult({data:null,error:new Me});const o=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&je()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await $(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Me})})}catch(t){if(D(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await $(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Me})})}catch(r){if(D(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+jy>s)return n;const{data:a,error:o}=await $(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:v}=await this.getSession();if(v||!y.session)return this._returnResult({data:null,error:v});n=y.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=Zs(n);r!=null&&r.allowExpired||qy(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:a,header:s,signature:o},error:null}}const d=Hy(s.alg),m=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,m,o,Fy(`${l}.${c}`)))throw new il("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(D(n))return this._returnResult({data:null,error:n});throw n}}}vs.nextInstanceID={};const kv=vs,Nv="2.93.1";let Dn="";typeof Deno<"u"?Dn="deno":typeof document<"u"?Dn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dn="react-native":Dn="node";function Sv(){const e=globalThis.process;if(e&&e.platform){const t=e.platform;if(t==="darwin")return"macOS";if(t==="win32")return"Windows";if(t==="linux")return"Linux";if(t==="android")return"Android"}if(typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platform){const t=navigator.userAgentData.platform;if(t==="macOS")return"macOS";if(t==="Windows")return"Windows";if(t==="Linux")return"Linux";if(t==="Android")return"Android";if(t==="iOS")return"iOS"}return null}function Ev(){const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node&&typeof window>"u")try{const r=globalThis.require;if(r)return r("os").release()}catch{return null}}if(typeof Deno<"u"&&Deno.osRelease)try{return Deno.osRelease()}catch{return null}return typeof navigator<"u"&&navigator.userAgentData&&navigator.userAgentData.platformVersion?navigator.userAgentData.platformVersion:null}function Cv(){if(typeof Deno<"u")return"deno";if(typeof Bun<"u")return"bun";const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node)return"node"}return null}function Pv(){if(typeof Deno<"u"&&Deno.version)return Deno.version.deno;if(typeof Bun<"u"&&Bun.version)return Bun.version;const e=globalThis.process;if(e){const t=e.versions;if(t&&t.node)return t.node}return null}function Av(){const e={"X-Client-Info":`supabase-js-${Dn}/${Nv}`},t=Sv();t&&(e["X-Supabase-Client-Platform"]=t);const r=Ev();r&&(e["X-Supabase-Client-Platform-Version"]=r);const n=Cv();n&&(e["X-Supabase-Client-Runtime"]=n);const s=Pv();return s&&(e["X-Supabase-Client-Runtime-Version"]=s),e}const Tv=Av(),Fv={headers:Tv},Rv={schema:"public"},Ov={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Iv={};function ws(e){"@babel/helpers - typeof";return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function Dv(e,t){if(ws(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ws(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lv(e){var t=Dv(e,"string");return ws(t)=="symbol"?t:t+""}function $v(e,t,r){return(t=Lv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function le(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xu(Object(r),!0).forEach(function(n){$v(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const zv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Uv=()=>Headers,Mv=(e,t,r)=>{const n=zv(r),s=Uv();return async(a,o)=>{var l;const c=(l=await t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,le(le({},o),{},{headers:u}))}};function Bv(e){return e.endsWith("/")?e:e+"/"}function Wv(e,t){var r,n;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:m}=t,f={db:le(le({},c),s),auth:le(le({},u),a),realtime:le(le({},d),o),storage:{},global:le(le(le({},m),l),{},{headers:le(le({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function Vv(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Bv(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var qv=class extends kv{constructor(e){super(e)}},Hv=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const a=Vv(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:Rv,realtime:Iv,auth:le(le({},Ov),{},{storageKey:o}),global:Fv},c=Wv(r??{},l);if(this.storageKey=(n=c.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=c.auth)!==null&&u!==void 0?u:{},this.headers,c.global.fetch)}this.fetch=Mv(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(le({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new kx(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new yy(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new vx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:a,flowType:o,lock:l,debug:c,throwOnError:u},d,m){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qv({url:this.authUrl.href,headers:le(le({},f),d),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Mx(this.realtimeUrl.href,le(le({},e),{},{params:le(le({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Kv=(e,t,r)=>new Hv(e,t,r);function Gv(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Gv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Jv="https://hoieogginmsfmoarubuu.supabase.co",Qv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhvaWVvZ2dpbm1zZm1vYXJ1YnV1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU3ODM0OTEsImV4cCI6MjA4MTM1OTQ5MX0.5HAcivBIN_fv06Qs4iRjKDNowN204aucVKiwqQBVtkw",T=Kv(Jv,Qv);async function rp(e){const t=e.trim();if(!t)return{products:[],categories:[]};try{const{data:r,error:n}=await T.from("products").select(`
        id, 
        name, 
        slug, 
        price, 
        short_description, 
        view_count, 
        search_hit_count, 
        published,
        product_images ( url, alt_text, position )
      `).eq("published",!0).or(`name.ilike.%${t}%,slug.ilike.%${t}%`).limit(10);n&&console.error("Error searching products:",n);const{data:s,error:a}=await T.from("categories").select("id, name, slug, parent_id").or(`name.ilike.%${t}%,slug.ilike.%${t}%`).limit(10);return a&&console.error("Error searching categories:",a),{products:(r||[]).map(o=>{var l,c;return{...o,image_url:((c=(l=o.product_images)==null?void 0:l.sort((u,d)=>u.position-d.position)[0])==null?void 0:c.url)||null}}),categories:s||[]}}catch(r){return console.error("Unexpected error during search:",r),{products:[],categories:[]}}}async function al(e){const t=e.trim().toLowerCase();try{const{error:r}=await T.from("popular_searches").upsert({query:t,search_count:1,last_searched_at:new Date().toISOString()},{onConflict:"query"});r&&console.error("Error recording search analytics:",r)}catch(r){console.error("Unexpected error recording search analytics:",r)}}async function ol(e,t){try{const{error:r}=await T.from("popular_categories").upsert({category_id:e,category_name:t,search_count:1,last_searched_at:new Date().toISOString()},{onConflict:"category_id"});r&&console.error("Error recording category analytics:",r)}catch(r){console.error("Unexpected error recording category analytics:",r)}}async function np(e){try{const{data:t,error:r}=await T.from("products").select("search_hit_count").eq("id",e).single();if(r){console.error("Error fetching product search hit count:",r);return}const n=(t==null?void 0:t.search_hit_count)||0,{error:s}=await T.from("products").update({search_hit_count:n+1}).eq("id",e);s&&console.error("Error incrementing product search hit count:",s)}catch(t){console.error("Unexpected error incrementing search hit count:",t)}}async function sp(e){try{const{data:t,error:r}=await T.from("products").select("view_count").eq("id",e).single();if(r){console.error("Error fetching product view count:",r);return}const n=(t==null?void 0:t.view_count)||0,{error:s}=await T.from("products").update({view_count:n+1}).eq("id",e);s&&console.error("Error incrementing product view count:",s)}catch(t){console.error("Unexpected error incrementing view count:",t)}}function Yv(){const[e,t]=_.useState(""),[r,n]=_.useState(!1),[s,a]=_.useState(!1),[o,l]=_.useState([]),[c,u]=_.useState([]),d=_.useRef(null),m=me();_.useEffect(()=>{function h(x){d.current&&!d.current.contains(x.target)&&a(!1)}return document.addEventListener("mousedown",h),()=>document.removeEventListener("mousedown",h)},[]),_.useEffect(()=>{const h=setTimeout(async()=>{const x=e.trim();if(x.length===0){a(!1),l([]),u([]);return}n(!0);try{const b=await rp(x);l(b.products),u(b.categories),a(!0)}catch(b){console.error("Search failed:",b),l([]),u([])}finally{n(!1)}},300);return()=>clearTimeout(h)},[e]);const f=async()=>{const h=e.trim();if(m(`/shop?search=${encodeURIComponent(h)}`),!h){a(!1);return}if(!(o.length>0||c.length>0)){console.log("Search query has no results:",h);return}if(await al(h),c.length>0){const b=c[0];await ol(b.id,b.name),m(`/shop?category=${encodeURIComponent(b.slug)}&search=${encodeURIComponent(e)}`),a(!1),t("");return}if(o.length>0){const b=o[0];await np(b.id),m(`/product/${b.slug}?search=${encodeURIComponent(e)}`),a(!1),t("");return}},y=h=>{h.key==="Enter"&&(h.preventDefault(),f())},v=async h=>{sp(h.id).catch(x=>{console.error("Failed to increment view count, but navigation will proceed:",x)}),m(`/product/${encodeURIComponent(h.id)}`),a(!1),t("")},g=async h=>{await ol(h.id,h.name);const x=e.trim();x&&await al(x),m(`/shop?category=${encodeURIComponent(h.slug)}`),a(!1),t("")},w=()=>{t(""),l([]),u([]),a(!1)},p=o.length>0||c.length>0;return i.jsxs("div",{ref:d,className:"relative w-full max-w-md",children:[i.jsxs("div",{className:"relative flex items-center",children:[i.jsx(ac,{className:"absolute left-3 h-5 w-5 text-slate-400",strokeWidth:1.5}),i.jsx("input",{type:"text",placeholder:"Search products or categories...",value:e,onChange:h=>t(h.target.value),onKeyDown:y,onFocus:()=>e.trim()&&a(!0),className:"w-full pl-10 pr-10 py-2 bg-white/80 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-slate-500"}),i.jsx("div",{className:"absolute right-3",children:r?i.jsx(Go,{className:"h-5 w-5 text-blue-500 animate-spin",strokeWidth:2}):e&&i.jsx("button",{onClick:w,className:"text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Clear search",children:i.jsx(et,{className:"h-5 w-5",strokeWidth:2})})})]}),s&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-slate-200 rounded-lg shadow-lg z-50 max-h-96 overflow-y-auto",children:[r&&i.jsxs("div",{className:"p-4 text-center text-slate-500",children:[i.jsx(Go,{className:"h-5 w-5 animate-spin mx-auto mb-2",strokeWidth:2}),"Searching..."]}),!r&&!p&&e.trim()&&i.jsxs("div",{className:"p-4 text-center text-slate-500",children:['No products or categories found for "',e,'"']}),!r&&p&&i.jsxs(i.Fragment,{children:[o.length>0&&i.jsxs("div",{className:"border-b border-slate-200",children:[i.jsx("div",{className:"px-4 py-2 bg-slate-50 text-xs font-semibold text-slate-600 uppercase",children:"Products"}),o.map(h=>i.jsx("button",{onClick:()=>v(h),className:"w-full text-left px-4 py-3 hover:bg-slate-100 transition-colors border-b border-slate-100 last:border-b-0",children:i.jsxs("div",{className:"flex gap-3 items-start",children:[h.image_url?i.jsx("img",{src:h.image_url,alt:h.name,className:"h-12 w-12 bg-slate-200 rounded object-cover flex-shrink-0"}):i.jsx("div",{className:"h-12 w-12 bg-slate-200 rounded flex-shrink-0 flex items-center justify-center text-xs text-slate-500",children:"Image"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-semibold text-sm text-slate-900 truncate",children:h.name}),h.short_description&&i.jsx("p",{className:"text-xs text-slate-600 truncate",children:h.short_description}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsxs("span",{className:"font-bold text-blue-600",children:["$",h.price.toFixed(2)]}),h.category_name&&i.jsx("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:h.category_name})]})]})]})},h.id))]}),c.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"px-4 py-2 bg-slate-50 text-xs font-semibold text-slate-600 uppercase",children:"Categories"}),c.map(h=>i.jsxs("button",{onClick:()=>g(h),className:"w-full text-left px-4 py-3 hover:bg-slate-100 transition-colors border-b border-slate-100 last:border-b-0",children:[i.jsx("h4",{className:"font-semibold text-sm text-slate-900",children:h.name}),h.parent_id&&i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Subcategory"})]},h.id))]})]})]})]})}const Xv=({onSwipe:e,threshold:t=50})=>{const r=_.useRef({x:0,y:0});return{onTouchStart:a=>{r.current={x:a.touches[0].clientX,y:a.touches[0].clientY}},onTouchEnd:a=>{const o=a.changedTouches[0].clientX-r.current.x,l=a.changedTouches[0].clientY-r.current.y;Math.abs(o)>Math.abs(l)?Math.abs(o)>t&&e(o>0?"right":"left"):Math.abs(l)>t&&e(l>0?"down":"up")}}};function Zv({isOpen:e,onClose:t}){const r=Ct(),n=me(),s=_.useRef(null),[a,o]=_.useState(0),[l,c]=_.useState(!1),u=Xv({onSwipe:w=>{switch(w){case"left":n("/next");break;case"right":n("/previous");break;case"up":n("/home");break;case"down":n("/home");break}}}),d=[{label:"All Products",value:"All"},{label:"Cosmetics",value:"Cosmetics"},{label:"Construction",value:"Construction"},{label:"Furniture",value:"Furniture"},{label:"Clothing and Fashion",value:"Clothing and Fashion"},{label:"Events Tools",value:"Events Tools"},{label:"Electrical Appliances",value:"Electrical Appliances"}],m=[{name:"Home",path:"/"},{name:"About",path:"/about"},{name:"Shop",path:"/shop",hasSubmenu:!0},{name:"Cart",path:"/cart"},{name:"Account",path:"/account"},{name:"Login",path:"/login"}];_.useEffect(()=>{if(e){document.body.style.overflow="hidden";const w=document.querySelector("main");w&&w.setAttribute("aria-hidden","true")}else{document.body.style.overflow="";const w=document.querySelector("main");w&&w.removeAttribute("aria-hidden")}return()=>{document.body.style.overflow=""}},[e]),_.useEffect(()=>{const w=p=>{p.key==="Escape"&&e&&t()};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[e,t]),_.useEffect(()=>{const w=h=>{e&&s.current&&!s.current.contains(h.target)&&t()},p=setTimeout(()=>{document.addEventListener("mousedown",w)},100);return()=>{clearTimeout(p),document.removeEventListener("mousedown",w)}},[e,t]);const f=w=>{o(w.touches[0].clientX)},y=w=>{const p=w.changedTouches[0].clientX;a-p>50&&t()},v=w=>{n(w),t()},g=w=>{n(`/shop?category=${w}`),t()};return gf.createPortal(i.jsxs(i.Fragment,{children:[i.jsx("div",{...u,className:`fixed inset-0 bg-black/40 backdrop-blur-sm z-[99998] transition-opacity duration-300 ${e?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:t,"aria-hidden":"true"}),i.jsxs("div",{ref:s,role:"dialog","aria-label":"Navigation menu","aria-modal":"true",className:`fixed left-0 top-0 h-full w-[85%] max-w-[320px] bg-white shadow-2xl z-[99999] transform transition-transform duration-500 cubic-bezier(0.32,0.72,0,1) border-r border-slate-100 ${e?"translate-x-0":"-translate-x-full"}`,onTouchStart:f,onTouchEnd:y,children:[i.jsxs("div",{className:"flex items-center justify-between p-8 border-b border-black/5",children:[i.jsx("h2",{className:"text-3xl font-serif font-bold text-slate-900 tracking-tight",children:"Menu"}),i.jsx("button",{onClick:t,"aria-label":"Close menu",className:"flex items-center justify-center size-10 rounded-full hover:bg-black/5 transition-colors text-slate-900",children:i.jsx(et,{size:24,strokeWidth:1.5})})]}),i.jsx("nav",{className:"p-8 overflow-y-auto h-[calc(100%-180px)]",children:i.jsx("div",{className:"flex flex-col gap-6",children:m.map(w=>i.jsx("div",{className:"group",children:w.hasSubmenu?i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>c(!l),className:`w-full flex items-center justify-between text-2xl transition-all duration-300 py-2 border-l-4 ${r.pathname===w.path||l?"border-[#D4AF37] text-[#D4AF37] font-serif font-medium pl-4 bg-[#D4AF37]/5":"border-transparent text-slate-800 font-serif pl-4 hover:text-[#D4AF37] hover:pl-6"}`,children:[i.jsx("span",{children:w.name}),l?i.jsx(la,{size:24,className:"text-[#D4AF37]"}):i.jsx(Es,{size:24,className:"opacity-50 group-hover:opacity-100 group-hover:text-[#D4AF37] transition-all"})]}),i.jsx("div",{className:`grid transition-all duration-300 ease-in-out overflow-hidden ${l?"grid-rows-[1fr] opacity-100 mt-2":"grid-rows-[0fr] opacity-0 mt-0"}`,children:i.jsx("div",{className:"min-h-0 flex flex-col gap-3 py-2 pl-8",children:d.map(p=>i.jsx("button",{onClick:()=>g(p.value),className:"text-left text-lg text-slate-500 hover:text-[#D4AF37] transition-colors py-1 font-medium font-serif",children:p.label},p.value))})})]}):i.jsx("button",{onClick:()=>v(w.path),className:`w-full text-left text-2xl transition-all duration-300 font-serif py-2 border-l-4 ${r.pathname===w.path?"border-[#D4AF37] text-[#D4AF37] font-medium pl-4 bg-[#D4AF37]/5":"border-transparent text-slate-800 pl-4 hover:text-[#D4AF37] hover:pl-6"}`,children:w.name})},w.name))})}),i.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-8 bg-linear-to-t from-white/50 to-transparent",children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("div",{className:"w-12 h-1 bg-slate-200 rounded-full mb-2"}),i.jsx("p",{className:"text-[10px] uppercase tracking-widest text-slate-400 font-medium",children:"Swipe left to close"})]})})]})]}),document.body)}function ew(){const[e,t]=_.useState(""),[r,n]=_.useState(!1),[s,a]=_.useState([]),[o,l]=_.useState([]),[c,u]=_.useState(!1),[d,m]=_.useState(-1),f=me(),y=_.useRef(),v=_.useRef(null),g=_.useRef(null),w=_.useCallback(async N=>{if(!N.trim()){a([]),l([]),u(!1);return}n(!0);try{const{products:P,categories:C}=await rp(N);a(P),l(C),u(!0)}catch(P){console.error("Search error:",P)}finally{n(!1)}},[]),p=N=>{const P=N.target.value;t(P),m(-1),y.current&&clearTimeout(y.current),y.current=setTimeout(()=>{w(P)},300)},h=()=>{var N;t(""),a([]),l([]),u(!1),m(-1),(N=g.current)==null||N.focus()},x=async N=>{await sp(N.id),await np(N.id),f(`/product/${N.id}`),u(!1),t("")},b=async N=>{await ol(N.id,N.name),f(`/shop?category=${N.name}`),u(!1),t("")},S=N=>{const P=s.length+o.length;N.key==="Enter"?d>=0&&P>0?d<s.length?x(s[d]):b(o[d-s.length]):e.trim()&&(al(e),f(`/shop?search=${encodeURIComponent(e)}`),u(!1),t("")):N.key==="ArrowDown"?(N.preventDefault(),m(C=>C<P-1?C+1:C)):N.key==="ArrowUp"?(N.preventDefault(),m(C=>C>0?C-1:-1)):N.key==="Escape"&&(u(!1),m(-1))};_.useEffect(()=>{const N=P=>{v.current&&!v.current.contains(P.target)&&(u(!1),m(-1))};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]),_.useEffect(()=>()=>{y.current&&clearTimeout(y.current)},[]);const j=s.length+o.length>0;return i.jsxs("div",{ref:v,className:"relative w-full",children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",children:r?i.jsx(Go,{size:20,className:"animate-spin"}):i.jsx(ac,{size:20})}),i.jsx("input",{ref:g,type:"text",value:e,onChange:p,onKeyDown:S,placeholder:"Search products, brands and categories",className:"w-full pl-12 pr-12 py-3 rounded-full bg-white/90 backdrop-blur-sm border border-slate-200 text-slate-900 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-slate-900 focus:border-transparent transition-all","aria-label":"Search","aria-autocomplete":"list","aria-controls":"search-suggestions","aria-expanded":c}),e&&i.jsx("button",{onClick:h,className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Clear search",children:i.jsx(et,{size:20})})]}),c&&i.jsx("div",{id:"search-suggestions",role:"listbox",className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-lg shadow-2xl border border-slate-200 max-h-[400px] overflow-y-auto z-50",children:j?i.jsxs(i.Fragment,{children:[s.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-slate-500 uppercase tracking-wide bg-slate-50",children:"Products"}),s.map((N,P)=>i.jsxs("button",{onClick:()=>x(N),role:"option","aria-selected":d===P,className:`w-full flex items-center gap-3 px-4 py-3 hover:bg-slate-50 transition-colors border-b border-slate-100 last:border-b-0 ${d===P?"bg-slate-100":""}`,children:[N.image_url?i.jsx("img",{src:N.image_url,alt:N.name,className:"size-12 rounded-lg object-cover shrink-0"}):i.jsx("div",{className:"size-12 bg-slate-200 rounded-lg shrink-0 flex items-center justify-center text-xs text-slate-500",children:"Image"}),i.jsxs("div",{className:"flex-1 text-left",children:[i.jsx("p",{className:"font-semibold text-slate-900 text-sm",children:N.name}),N.price&&i.jsxs("p",{className:"text-xs text-slate-500",children:["$",N.price.toFixed(2)]})]})]},N.id))]}),o.length>0&&i.jsxs("div",{children:[i.jsx("div",{className:"px-4 py-2 text-xs font-semibold text-slate-500 uppercase tracking-wide bg-slate-50",children:"Categories"}),o.map((N,P)=>i.jsx("button",{onClick:()=>b(N),role:"option","aria-selected":d===s.length+P,className:`w-full text-left px-4 py-3 hover:bg-slate-50 transition-colors border-b border-slate-100 last:border-b-0 ${d===s.length+P?"bg-slate-100":""}`,children:i.jsx("p",{className:"font-semibold text-slate-900 text-sm",children:N.name})},N.id))]})]}):e.trim()&&!r?i.jsxs("div",{className:"px-4 py-8 text-center text-slate-500",children:[i.jsxs("p",{className:"text-sm",children:['No results found for "',e,'"']}),i.jsx("p",{className:"text-xs mt-1",children:"Try a different search term"})]}):null})]})}function tw({cartItemCount:e}){const[t,r]=_.useState(!1),[n,s]=_.useState(!1),[a,o]=_.useState(null),l=Ct(),c=me();_.useEffect(()=>{T.auth.getSession().then(({data:{session:h}})=>{o((h==null?void 0:h.user)??null)});const{data:{subscription:p}}=T.auth.onAuthStateChange((h,x)=>{o((x==null?void 0:x.user)??null)});return()=>p.unsubscribe()},[]);const u=[{label:"All Products",value:"All"},{label:"Cosmetics",value:"Cosmetics"},{label:"Construction",value:"Construction"},{label:"Furniture",value:"Furniture"},{label:"Clothing and Fashion",value:"Clothing and Fashion"},{label:"Events Tools",value:"Events Tools"},{label:"Electrical Appliances",value:"Electrical Appliances"}],d=[{name:"Home",path:"/"},{name:"About",path:"/about"},{name:"Login",path:"/login"}],m=l.pathname.startsWith("/account"),f=m?"sticky top-0 z-50 w-full bg-[#0A0A0A] border-b border-white/10":"sticky top-0 z-50 w-full bg-white/30 backdrop-blur-md border-b border-[#f0f0f0]",y=m?"text-white":"text-slate-900",v=m?"text-white/60":"text-slate-900/70",g=m?"hover:bg-white/10":"hover:bg-slate-100",w=m?"hover:text-white":"hover:text-black";return i.jsxs("header",{className:f,children:[i.jsx("div",{className:"flex justify-center w-full",children:i.jsxs("div",{className:"flex justify-between w-full max-w-[1280px] items-center px-4 sm:px-6 md:px-8 lg:px-10 py-5 gap-4 sm:gap-6 md:gap-8",children:[i.jsxs(Jt,{to:"/",className:"flex items-center gap-2 cursor-pointer no-underline flex-shrink-0",children:[i.jsx("div",{className:`flex items-center justify-center size-8 rounded-full transition-colors ${m?"bg-white/10":"bg-black"}`,children:i.jsx(ex,{size:20,strokeWidth:2,className:"text-white"})}),i.jsx("h2",{className:`${y} text-lg sm:text-xl font-extrabold tracking-tight transition-colors whitespace-nowrap`,style:{fontFamily:"Flowmery"},children:"My Super Store"})]}),i.jsxs("nav",{className:"hidden md:flex items-center relative gap-6 ml-12",children:[d.map(p=>i.jsx(Jt,{to:p.path,className:`transition-all text-sm font-semibold tracking-wide no-underline ${m?"text-white 70 drop-shadow-[0_0_8px_rgba(255,255,255,0.5)] hover:text-white hover:drop-shadow-[0_0_16px_rgba(255,255,255,0.8)]":`${v} ${w} text-slate-900 drop-shadow-[0_0_8px_rgba(15,23,42,0.3)] hover:drop-shadow-[0_0_16px_rgba(15,23,42,0.6)]`}`,children:p.name},p.name)),i.jsxs("div",{className:"relative group",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[i.jsxs("button",{className:`flex items-center gap-1 ${v} ${w} transition-colors text-sm font-semibold tracking-wide`,children:["Shop",i.jsx(la,{size:16,className:`transition-transform duration-300 ${n?"rotate-180":""}`})]}),n&&i.jsx("div",{className:`absolute top-full left-0 mt-2 w-56 rounded-lg shadow-lg z-50 backdrop-blur-md ${m?"bg-[#0A0A0A]/80 border border-white/10":"bg-white/30 border border-white/20"}`,children:u.map(p=>i.jsx("button",{onClick:()=>{c(`/shop?category=${p.value}`),s(!1)},className:`w-full text-left px-4 py-3 transition-all ${m?"text-white/70 hover:text-white hover:bg-white/10 first:rounded-t-lg last:rounded-b-lg":"text-slate-900/20 hover:text-slate-900 hover:bg-slate-100/20 first:rounded-t-lg last:rounded-b-lg"} text-sm font-medium`,children:p.label},p.value))})]})]}),i.jsxs("div",{className:"hidden md:flex items-center gap-3 sm:gap-4 md:gap-5 ml-auto",children:[i.jsx("button",{onClick:()=>c(a?"/account":"/login"),className:`flex items-center justify-center size-10 rounded-full ${g} transition-colors ${y}`,children:i.jsx(oc,{size:20,strokeWidth:2})}),i.jsxs("button",{onClick:()=>c("/cart"),className:`flex items-center justify-center size-10 rounded-full ${g} transition-colors ${y} relative`,children:[i.jsx(ps,{size:20,strokeWidth:2}),e>0&&i.jsx("span",{className:"absolute top-2 right-2 size-2 bg-[#d4af37] rounded-full"})]})]}),i.jsx("button",{className:"flex md:hidden items-center justify-center ml-2 sm:ml-3",onClick:()=>r(!0),"aria-label":"Open navigation menu",children:i.jsx(cx,{size:24,className:y})})]})}),i.jsx("div",{className:`md:hidden w-full border-b ${m?"border-white/10":"border-[#f0f0f0]"}`,children:i.jsx("div",{className:"flex justify-center w-full",children:i.jsx("div",{className:"w-full max-w-[1280px] px-4 sm:px-6 py-3",children:i.jsx(ew,{})})})}),i.jsx("div",{className:`hidden md:block w-full border-b ${m?"border-white/10":"border-[#f0f0f0]"}`,children:i.jsx("div",{className:"flex justify-center w-full",children:i.jsx("div",{className:"w-full max-w-[1280px] px-4 sm:px-6 md:px-8 lg:px-10 py-3",children:i.jsx("div",{className:"flex justify-center",children:i.jsx("div",{className:"w-full max-w-2xl",children:i.jsx(Yv,{})})})})})}),i.jsx(Zv,{isOpen:t,onClose:()=>r(!1)})]})}function rw(){return i.jsxs("footer",{className:"site-footer",children:[i.jsxs("div",{className:"footer-grid",children:[i.jsxs("div",{children:[i.jsx("div",{className:"footer-brand",children:"MY SUPERSTORE"}),i.jsx("p",{className:"text-muted",style:{lineHeight:"1.6"},children:"Curating excellence in luxury fashion and accessories since 2025."})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"footer-heading",children:"Shop"}),i.jsxs("ul",{className:"footer-links",children:[i.jsx("li",{children:i.jsx("a",{href:"#",className:"footer-link",children:"New Arrivals"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"footer-link",children:"Best Sellers"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"footer-link",children:"Collections"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"footer-link",children:"Sale"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"footer-heading",children:"Support"}),i.jsxs("ul",{className:"footer-links",children:[i.jsx("li",{children:i.jsx("a",{href:"#",className:"footer-link",children:"Contact Us"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"footer-link",children:"Shipping Info"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"footer-link",children:"Returns"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"footer-link",children:"FAQ"})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"footer-heading",children:"Connect"}),i.jsxs("div",{className:"flex gap-6",children:[i.jsx("a",{href:"#",className:"text-muted hover:text-[#FFE55C] transition-colors",children:i.jsx(ix,{size:24,strokeWidth:2.5})}),i.jsx("a",{href:"#",className:"text-muted hover:text-[#FFE55C] transition-colors",children:i.jsx(Z0,{size:24,strokeWidth:2.5})}),i.jsx("a",{href:"#",className:"text-muted hover:text-[#FFE55C] transition-colors",children:i.jsx(fx,{size:24,strokeWidth:2.5})})]})]})]}),i.jsxs("div",{className:"footer-bottom",children:[i.jsx("p",{children:" 2025 LUXE. All rights reserved."}),i.jsxs("div",{className:"flex gap-6",children:[i.jsx("a",{href:"#",className:"footer-link",children:"Privacy Policy"}),i.jsx("a",{href:"#",className:"footer-link",children:"Terms of Service"})]})]})]})}function nw(){const e=Ct(),t=me(),r=[{name:"Home",path:"/",icon:nx},{name:"Cart",path:"/cart",icon:ps},{name:"Shop",path:"/shop",icon:sn,isHero:!0},{name:"About",path:"/about",icon:sx},{name:"Account",path:"/account",icon:oc}],n=s=>s==="/"?e.pathname==="/":e.pathname.startsWith(s);return i.jsx("nav",{className:"md:hidden fixed bottom-0 left-0 right-0 z-40 bg-white/80 backdrop-blur-lg border-t border-slate-200 shadow-2xl",style:{paddingBottom:"env(safe-area-inset-bottom, 0px)"},children:i.jsx("div",{className:"flex items-end justify-around px-4 py-2 relative",children:r.map(s=>{const a=s.icon,o=n(s.path);return s.isHero?i.jsxs("button",{onClick:()=>t(s.path),className:"flex flex-col items-center justify-center","aria-label":s.name,children:[i.jsx("div",{className:`flex items-center justify-center size-16 rounded-full shadow-2xl transition-all duration-300 ${o?"bg-linear-to-br from-[#d4af37] via-[#f4d03f] to-[#c5a028] shadow-[0_8px_32px_rgba(212,175,55,0.6)]":"bg-linear-to-br from-slate-800 via-slate-900 to-black shadow-[0_8px_24px_rgba(0,0,0,0.3)] hover:shadow-[0_12px_40px_rgba(212,175,55,0.4)]"}`,style:{transform:o?"scale(1.05)":"scale(1)"},children:i.jsx(a,{size:28,strokeWidth:2.5,className:"text-white"})}),i.jsx("span",{className:`text-[10px] font-bold mt-1 transition-colors ${o?"text-[#d4af37]":"text-slate-600"}`,children:s.name})]},s.name):i.jsxs("button",{onClick:()=>t(s.path),className:"flex flex-col items-center justify-center min-w-[60px] py-2","aria-label":s.name,children:[i.jsx("div",{className:`flex items-center justify-center size-10 rounded-full transition-all duration-200 ${o?"bg-slate-900 text-white":"text-slate-600 hover:bg-slate-100"}`,children:i.jsx(a,{size:20,strokeWidth:2})}),i.jsx("span",{className:`text-[10px] font-semibold mt-1 transition-colors ${o?"text-slate-900":"text-slate-500"}`,children:s.name})]},s.name)})})})}function Zu({category:e,products:t}){const r=me(),[n,s]=_.useState(0),a=t.filter(u=>u.category===e.name&&u.image&&u.image.trim()!==""),o=a[n];_.useEffect(()=>{if(a.length<=1)return;const u=setInterval(()=>{s(d=>(d+1)%a.length)},3e3);return()=>clearInterval(u)},[a.length]);const l=u=>{u.stopPropagation(),s(d=>d-1<0?a.length-1:d-1)},c=u=>{u.stopPropagation(),s(d=>(d+1)%a.length)};return i.jsxs("button",{onClick:()=>r(`/shop?category=${e.name}`),className:"group relative rounded-[20px] overflow-hidden cursor-pointer transition-all duration-500 hover:scale-105 hover:-translate-y-2 bg-white border-2 border-[rgba(212,175,55,0.3)] hover:border-[rgba(212,175,55,0.8)] w-full h-full flex flex-col",children:[i.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-[#FFE55C] via-[#D4AF37] to-[#B8941F] rounded-[20px] opacity-0 group-hover:opacity-20 blur transition-opacity duration-500 -z-10"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#FFE55C]/20 via-[#D4AF37]/10 to-[#B8941F]/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsxs("div",{className:"relative h-44 bg-transparent overflow-hidden flex items-center justify-center border-b-2 border-[rgba(212,175,55,0.2)]",children:[o&&o.image?i.jsx("img",{src:o.image,alt:o.name,loading:"lazy",style:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},className:"w-full h-full transition-opacity duration-700 p-2"}):i.jsx("div",{className:"w-full h-full bg-gradient-to-br from-slate-200 to-slate-300 flex items-center justify-center",children:i.jsx("span",{className:"text-slate-400 text-sm",children:"No images"})}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:l,className:"absolute left-3 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white rounded-full p-2 opacity-0 group-hover:opacity-100 transition-all duration-300 z-10 hover:shadow-[0_4px_12px_rgba(212,175,55,0.3)]",children:i.jsx("svg",{className:"w-4 h-4 text-[#0F0F0F]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M15 19l-7-7 7-7"})})}),i.jsx("button",{onClick:c,className:"absolute right-3 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white rounded-full p-2 opacity-0 group-hover:opacity-100 transition-all duration-300 z-10 hover:shadow-[0_4px_12px_rgba(212,175,55,0.3)]",children:i.jsx("svg",{className:"w-4 h-4 text-[#0F0F0F]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M9 5l7 7-7 7"})})}),i.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-0.5 md:gap-1.5 z-10",children:a.map((u,d)=>i.jsx("div",{onClick:m=>{m.stopPropagation(),s(d)},className:`rounded-full transition-all duration-300 cursor-pointer ${d===n?"w-[14px] h-[5px] md:w-7 md:h-2 bg-gradient-to-r from-[#FFD700] via-[#FFA500] to-[#FFD700] shadow-[0_0_8px_rgba(255,215,0,0.8),0_0_12px_rgba(255,165,0,0.6)]":"bg-white/60 hover:bg-white/80 w-[3px] h-[3px] md:w-2 md:h-2"}`},d))})]})]}),i.jsx("div",{className:"relative bg-white px-5 py-4 group-hover:bg-gradient-to-r group-hover:from-[#FFE55C] group-hover:via-[#D4AF37] group-hover:to-[#B8941F] transition-all duration-500 flex-grow flex flex-col justify-center",children:i.jsxs("div",{className:"flex justify-between items-center w-full",children:[i.jsx("span",{className:"font-bold text-[#0F0F0F] group-hover:text-[#050505] transition-colors text-base",children:e.name}),a.length>0&&i.jsx("span",{className:"text-xs font-semibold text-[#B8941F] group-hover:text-[#050505] transition-colors bg-[rgba(212,175,55,0.1)] px-2 py-1 rounded-md",children:a.length})]})})]})}const Ir=[{id:1,image:"../assets/hero/Cosmetics.jpg",alt:"Premium Cosmetics Collection",category:"Cosmetics"},{id:2,image:"../assets/hero/construction_materials.png",alt:"Construction Tools & Equipment",category:"Construction"},{id:3,image:"../assets/hero/Furniture.jpg",alt:"Luxury Furniture Showroom",category:"Furniture"},{id:4,image:"../assets/hero/fashion.jpg",alt:"Fashion & Clothing Collection",category:"Fashion"},{id:5,image:"../assets/hero/events.jpg",alt:"Event Tools & Equipment",category:"Events"},{id:6,image:"../assets/hero/Electric gadgets.jpg",alt:"Electrical Appliances",category:"Electrical"}],sw=5e3;function iw(){const[e,t]=_.useState(0),[r,n]=_.useState(!1),s=_.useRef(0),a=_.useRef(0),o=_.useRef(null),l=_.useCallback(()=>{o.current&&clearInterval(o.current),o.current=setInterval(()=>{t(g=>(g+1)%Ir.length)},sw)},[]),c=_.useCallback(()=>{o.current&&(clearInterval(o.current),o.current=null)},[]);_.useEffect(()=>(r?c():l(),()=>c()),[r,l,c]);const u=g=>{t(g),c(),setTimeout(l,1e3)},d=()=>{u((e+1)%Ir.length)},m=()=>{u((e-1+Ir.length)%Ir.length)},f=g=>{s.current=g.touches[0].clientX},y=g=>{a.current=g.touches[0].clientX},v=()=>{const w=s.current-a.current;Math.abs(w)>50&&(w>0?d():m())};return i.jsxs("div",{className:"absolute inset-0 overflow-hidden",onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),onTouchStart:f,onTouchMove:y,onTouchEnd:v,children:[Ir.map((g,w)=>i.jsx("div",{className:`absolute inset-0 w-full h-full transition-opacity duration-1000 ease-in-out bg-gradient-to-br from-[#0F0F0F] via-[#1A1A1A] to-[#0F0F0F] ${w===e?"opacity-100 z-10":"opacity-0 z-0"}`,style:{pointerEvents:w===e?"auto":"none"},children:i.jsx("img",{src:g.image,alt:g.alt,className:"absolute inset-0 w-full h-full object-cover object-center",loading:w===0?"eager":"lazy",decoding:"async",fetchPriority:w===0?"high":"auto"})},g.id)),i.jsxs("div",{className:"absolute inset-0 pointer-events-none z-20",children:[i.jsx("button",{onClick:m,className:"absolute left-1 sm:left-2 md:left-4 top-1/2 -translate-y-1/2 pointer-events-auto bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white p-1 sm:p-1.5 md:p-2 lg:p-3 rounded-full transition-all duration-300 hover:scale-110 border border-white/20","aria-label":"Previous slide",children:i.jsx(Ff,{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5 lg:w-6 lg:h-6"})}),i.jsx("button",{onClick:d,className:"absolute right-1 sm:right-2 md:right-4 top-1/2 -translate-y-1/2 pointer-events-auto bg-white/10 hover:bg-white/20 backdrop-blur-sm text-white p-1 sm:p-1.5 md:p-2 lg:p-3 rounded-full transition-all duration-300 hover:scale-110 border border-white/20","aria-label":"Next slide",children:i.jsx(Es,{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5 lg:w-6 lg:h-6"})})]}),i.jsx("div",{className:"hidden sm:flex absolute bottom-2 sm:bottom-3 md:bottom-4 lg:bottom-6 left-1/2 -translate-x-1/2 gap-1 sm:gap-1.5 md:gap-2 z-20",children:Ir.map((g,w)=>i.jsx("button",{onClick:()=>u(w),className:`transition-all duration-300 rounded-full ${w===e?"w-4 h-1 sm:w-5 sm:h-1.5 md:w-6 md:h-1.5 lg:w-8 lg:h-2 bg-[#FFE55C]":"w-1 h-1 sm:w-1.5 sm:h-1.5 md:w-2 md:h-2 bg-white/40 hover:bg-white/60"}`,"aria-label":`Go to slide ${w+1}`},w))})]})}function Tn({title:e,products:t,className:r=""}){const n=me();return!t||t.length===0?null:i.jsxs("section",{className:`w-full bg-white border border-slate-200 rounded-lg p-4 shadow-sm ${r}`,children:[i.jsx("div",{className:"mb-4 flex items-center justify-between",children:i.jsx("h2",{className:"text-xl font-extrabold bg-gradient-to-r from-[#FFE55C] via-[#D4AF37] to-[#B8941F] bg-clip-text text-transparent",children:e})}),i.jsxs("div",{className:"flex flex-col gap-4 overflow-hidden py-2",children:[i.jsx("div",{className:"relative w-full overflow-hidden",children:i.jsx("div",{className:"flex gap-4 animate-scroll w-max hover:pause",children:[...t,...t,...t].map((s,a)=>i.jsxs("div",{onClick:()=>n(`/product/${s.id}`),className:"flex-shrink-0 w-[220px] bg-white border border-slate-100 rounded-xl p-3 cursor-pointer hover:shadow-lg hover:border-[#D4AF37]/30 transition-all duration-300 group",children:[i.jsx("div",{className:"relative aspect-square mb-3 overflow-hidden rounded-lg bg-slate-50",children:i.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-contain group-hover:scale-110 transition-transform duration-500"})}),i.jsx("h3",{className:"text-sm font-bold text-slate-800 truncate mb-1",children:s.name}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-base font-extrabold text-[#D4AF37]",children:["$",s.price.toFixed(2)]}),i.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full",children:s.category})]})]},`row1-${s.id}-${a}`))})}),i.jsx("div",{className:"relative w-full overflow-hidden",children:i.jsx("div",{className:"flex gap-4 animate-scroll-reverse w-max hover:pause",children:[...t].reverse().concat([...t].reverse()).concat([...t].reverse()).map((s,a)=>i.jsxs("div",{onClick:()=>n(`/product/${s.id}`),className:"flex-shrink-0 w-[220px] bg-white border border-slate-100 rounded-xl p-3 cursor-pointer hover:shadow-lg hover:border-[#D4AF37]/30 transition-all duration-300 group",children:[i.jsx("div",{className:"relative aspect-square mb-3 overflow-hidden rounded-lg bg-slate-50",children:i.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-contain group-hover:scale-110 transition-transform duration-500"})}),i.jsx("h3",{className:"text-sm font-bold text-slate-800 truncate mb-1",children:s.name}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("p",{className:"text-base font-extrabold text-[#D4AF37]",children:["$",s.price.toFixed(2)]}),i.jsx("span",{className:"text-[10px] uppercase font-bold text-slate-400 bg-slate-100 px-2 py-0.5 rounded-full",children:s.category})]})]},`row2-${s.id}-${a}`))})})]})]})}const ei=8;function ed(){const e=me(),[t,r]=_.useState([]),[n,s]=_.useState([]),[a,o]=_.useState([]),[l,c]=_.useState([]),[u,d]=_.useState([]),[m,f]=_.useState([]),[y,v]=_.useState(!0),g=_.useRef(Math.random()),w=_.useMemo(()=>{if(t.length===0)return null;const b=Math.floor(Math.random()*t.length);return t[b]},[t]),p=async()=>{try{v(!0);const{data:b,error:S}=await T.from("products").select(`
          *,
          product_images ( url, alt_text, position ),
          product_categories (
            categories ( name )
          ),
          product_specs ( spec_key, spec_value )
        `).eq("published",!0).order("created_at",{ascending:!1});if(S)throw S;const k=(b==null?void 0:b.map(j=>{var N,P,C,F,I,H;return{id:j.id,name:j.name,price:j.price,stock:j.stock||0,brand:j.brand,sku:j.sku,short_description:j.short_description,description:j.description,image:(P=(N=j.product_images)==null?void 0:N.sort((B,G)=>B.position-G.position)[0])==null?void 0:P.url,product_images:((C=j.product_images)==null?void 0:C.sort((B,G)=>B.position-G.position))||[],category:((H=(I=(F=j.product_categories)==null?void 0:F[0])==null?void 0:I.categories)==null?void 0:H.name)||"Uncategorized",product_specs:j.product_specs||[],view_count:j.view_count||0}}))||[];return r(k),k}catch(b){return console.error("Error fetching products:",b),[]}finally{v(!1)}},h=async()=>{try{const{data:b,error:S}=await T.from("categories").select("id, name").order("name");if(S)throw S;s(b||[])}catch(b){console.error("Error fetching categories:",b)}},x=b=>{const S=b.filter(F=>F.image&&F.image.trim()!==""),k=[...S].sort((F,I)=>(I.view_count||0)-(F.view_count||0)).slice(0,ei);o(k);const j=g.current,N=[...S].sort(()=>Math.sin(j*(Math.random()+1))-.5).slice(0,ei);c(N);const P=S.filter(F=>F.category==="Electrical Appliances").slice(0,ei);d(P);const C=S.filter(F=>F.category==="Clothing and Fashion").slice(0,ei);f(C)};return _.useEffect(()=>{(async()=>{await h();const S=await p();x(S)})()},[]),i.jsxs("main",{className:"bg-white",children:[i.jsx("style",{children:`
        @keyframes slideUp {
          from {
            opacity: 0;
            transform: translateY(20px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }

        @keyframes shimmer {
          0% {
            background-position: -1000px 0;
          }
          100% {
            background-position: 1000px 0;
          }
        }

        @keyframes goldGlow {
          0%, 100% {
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.3), 0 0 40px rgba(212, 175, 55, 0.1);
          }
          50% {
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.5), 0 0 60px rgba(212, 175, 55, 0.2);
          }
        }

        @keyframes pulse-glow {
          0%, 100% {
            opacity: 1;
          }
          50% {
            opacity: 0.8;
          }
        }

        .animate-shimmer {
          background-size: 200% 100%;
          animation: shimmer 2s infinite;
        }

        .animate-gold-glow {
          animation: goldGlow 3s ease-in-out infinite;
        }

        .scrollbar-hide {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }

        .scrollbar-hide::-webkit-scrollbar {
          display: none;
        }
      `}),i.jsxs("div",{className:"w-full lg:grid lg:grid-cols-12 lg:gap-4 lg:px-4 lg:py-4",children:[i.jsxs("section",{className:"relative w-full h-[400px] sm:h-[450px] md:h-[550px] lg:col-span-6 lg:h-[600px] bg-gradient-to-br from-[#0F0F0F] via-[#1A1A1A] to-[#0F0F0F] overflow-hidden group lg:rounded-2xl",children:[i.jsx(iw,{}),i.jsx("div",{className:"absolute inset-0 flex items-start sm:items-center px-3 py-4 sm:px-6 md:px-8 lg:px-6 z-10",children:i.jsxs("div",{className:"w-full max-w-[280px] sm:max-w-md md:max-w-lg lg:max-w-xl bg-black/40 backdrop-blur-sm p-3 sm:p-4 md:p-6 lg:p-6 rounded-lg md:rounded-xl lg:rounded-2xl",style:{animation:"slideUp 0.8s ease-out"},children:[i.jsx("div",{className:"inline-block mb-2 sm:mb-3 md:mb-4 lg:mb-4",children:i.jsx("span",{className:"text-[10px] sm:text-xs md:text-sm font-bold sm:font-extrabold uppercase tracking-wider sm:tracking-widest bg-[rgba(212,175,55,0.25)] px-2 py-1 sm:px-3 sm:py-1.5 md:px-4 md:py-2 rounded-full border border-[rgba(212,175,55,0.6)] shadow-md",children:" Premium"})}),i.jsxs("h1",{className:"text-2xl sm:text-3xl md:text-5xl lg:text-4xl xl:text-5xl mb-2 sm:mb-3 md:mb-4 lg:mb-3 leading-tight text-white font-extrabold",style:{fontFamily:"dosis",textShadow:"2px 2px 8px rgba(0,0,0,0.8)"},children:["Discover ",i.jsx("span",{className:"bg-gradient-to-r from-[#FFE55C] via-[#D4AF37] to-[#B8941F] bg-clip-text text-transparent",style:{textShadow:"2px 2px 8px rgba(0,0,0,0.8)"},children:"Luxury"})]}),i.jsx("p",{className:"hidden sm:block text-sm md:text-base lg:text-sm xl:text-base text-white mb-4 md:mb-6 lg:mb-4 leading-relaxed",style:{textShadow:"1px 1px 4px rgba(0,0,0,0.8)"},children:"Explore our curated collection of premium products."}),i.jsxs("button",{onClick:()=>e("/shop"),className:"relative group/btn inline-block w-full",children:[i.jsx("div",{className:"absolute -inset-0.5 sm:-inset-1 bg-gradient-to-r from-[#FFE55C] via-[#D4AF37] to-[#B8941F] rounded-lg sm:rounded-xl opacity-50 group-hover/btn:opacity-100 blur transition duration-500 group-hover/btn:duration-200"}),i.jsx("div",{className:"relative bg-gradient-to-r from-[#FFE55C] via-[#D4AF37] to-[#B8941F] text-[#050505] px-4 py-2 sm:px-5 sm:py-2.5 md:px-8 md:py-3 lg:px-6 lg:py-2.5 rounded-lg sm:rounded-xl font-extrabold text-xs sm:text-sm md:text-base lg:text-sm hover:shadow-[0_10px_30px_rgba(212,175,55,0.4)] sm:hover:shadow-[0_20px_40px_rgba(212,175,55,0.4)] transition-all duration-300 transform hover:scale-105 active:scale-95 text-center",children:"Shop Now"})]})]})})]}),i.jsx("section",{className:"w-full bg-gradient-to-b from-[rgba(255,229,92,0.05)] via-white to-[rgba(212,175,55,0.03)] py-6 lg:py-0 lg:col-span-3 border-y lg:border-0 border-[rgba(212,175,55,0.2)] mt-4 lg:mt-0",children:i.jsx("div",{className:"mx-auto px-6 lg:px-2 h-full flex items-center",children:w?i.jsxs("div",{className:"relative rounded-[24px] lg:rounded-2xl overflow-hidden group cursor-pointer border-2 border-[rgba(212,175,55,0.3)] hover:border-[rgba(212,175,55,0.8)] transition-all duration-500 w-full",onClick:()=>e(`/product/${w.id}`),children:[i.jsx("img",{src:w.image,alt:w.name,className:"w-full lg:h-[600px] object-cover rounded-[22px] lg:rounded-xl group-hover:scale-110 transition-transform duration-700 brightness-95 group-hover:brightness-105"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/80 group-hover:to-black/60 transition-all duration-500 rounded-[22px] lg:rounded-xl"}),i.jsxs("div",{className:"absolute bottom-4 left-4 right-4 z-10",children:[i.jsx("h3",{className:"text-white font-extrabold text-lg truncate shadow-black drop-shadow-md",children:w.name}),i.jsxs("p",{className:"text-[#D4AF37] font-bold text-sm",children:["$",w.price.toFixed(2)]})]})]}):i.jsx("div",{className:"w-full lg:h-[600px] bg-slate-100 animate-pulse rounded-[22px] lg:rounded-xl"})})}),i.jsx("div",{className:"lg:col-span-3 mt-4 lg:mt-0 lg:h-[600px] flex flex-col",children:i.jsxs("div",{className:"w-full flex-1 flex flex-col lg:overflow-hidden",children:[i.jsx("div",{className:"mb-4 lg:mb-3 flex-shrink-0",children:i.jsx("h2",{className:"text-2xl lg:text-xl font-extrabold bg-gradient-to-r from-[#FFE55C] via-[#D4AF37] to-[#B8941F] bg-clip-text text-transparent flex items-center gap-2",children:" Hot Categories"})}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-2 gap-3 lg:gap-2 lg:overflow-y-auto lg:pr-2 scrollbar-hide",children:y?Array.from({length:8}).map((b,S)=>i.jsx("div",{className:"rounded-[16px] h-32 lg:h-24 bg-slate-100 animate-pulse flex-shrink-0"},S)):n.filter(b=>t.some(S=>S.category===b.name&&S.image&&S.image.trim()!=="")).length>0?n.filter(b=>t.some(S=>S.category===b.name&&S.image&&S.image.trim()!=="")).map(b=>i.jsx(Zu,{category:b,products:t},b.id)):i.jsx("p",{className:"col-span-full text-slate-500 text-sm",children:"No categories found"})})]})}),a.length>0&&i.jsx("div",{className:"hidden lg:block lg:col-span-12 mt-4",children:i.jsx(Tn,{title:" Featured Products",products:a})})]}),i.jsxs("section",{className:"lg:hidden w-full max-w-[4000px] mx-auto mt-8",children:[i.jsx("div",{className:"h-[4px] bg-gradient-to-r from-[rgba(95,82,17,0.71)] via-[#D4AF37] to-[rgba(46,38,0,0.94)] opacity-50 mb-20"}),i.jsxs("div",{className:"relative mb-20 bg-black py-12 px-6 lg:px-10",children:[i.jsx("h2",{style:{fontFamily:"revert"},className:"text-5xl md:text-6xl lg:text-7xl font-extrabold bg-gradient-to-r from-[#FFE55C] via-[#D4AF37] to-[#B8941F] bg-clip-text text-transparent",children:"Shop by Category"}),i.jsx("div",{className:"h-[4px] w-48 bg-gradient-to-r from-[#FFE55C] via-[#D4AF37] to-[#B8941F] rounded-full mt-6 shadow-lg shadow-[#D4AF37]/40"})]}),i.jsx("div",{className:"py-16 grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6",children:y?Array.from({length:8}).map((b,S)=>i.jsx("div",{className:"rounded-[16px] h-40 bg-slate-100 animate-pulse"},S)):n.filter(b=>t.some(S=>S.category===b.name&&S.image&&S.image.trim()!=="")).length>0?n.filter(b=>t.some(S=>S.category===b.name&&S.image&&S.image.trim()!=="")).map(b=>i.jsx(Zu,{category:b,products:t},b.id)):i.jsx("p",{className:"col-span-full text-slate-500",children:"No categories with images found"})})]}),i.jsx("div",{className:"mt-8 px-4",children:i.jsx(Tn,{title:" Trending Products",products:a})}),i.jsx("div",{className:"mt-8 px-4",children:i.jsx(Tn,{title:" Recommended For You",products:l})}),i.jsx("div",{className:"mt-8 px-4",children:i.jsx(Tn,{title:" Electronics Picks",products:u})}),i.jsx("div",{className:"mt-8 px-4 mb-8",children:i.jsx(Tn,{title:" Fashion Essentials",products:m})}),i.jsxs("section",{className:"w-full py-20 bg-gradient-to-b from-[#0F0F0F] via-[#1A1A1A] to-[#0F0F0F] relative overflow-hidden group",children:[i.jsx("div",{className:"absolute top-0 left-1/3 w-[500px] h-[500px] bg-[#FFE55C] rounded-full mix-blend-screen filter blur-[100px] opacity-10 group-hover:opacity-20 transition-opacity duration-700"}),i.jsx("div",{className:"absolute bottom-0 right-1/3 w-[500px] h-[500px] bg-[#D4AF37] rounded-full mix-blend-screen filter blur-[100px] opacity-10 group-hover:opacity-20 transition-opacity duration-700"}),i.jsx("div",{className:"max-w-[1280px] mx-auto px-6 lg:px-10 relative z-10",children:i.jsxs("div",{className:"relative rounded-[24px] overflow-hidden group cursor-pointer border-2 border-[rgba(212,175,55,0.3)] hover:border-[rgba(212,175,55,0.8)] transition-all duration-500",children:[i.jsx("img",{src:"https://via.placeholder.com/1600x400",alt:"Bottom Ad",className:"w-full rounded-[22px] group-hover:scale-110 transition-transform duration-700 brightness-75 group-hover:brightness-90"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#FFE55C]/50 via-[#D4AF37]/30 to-[#B8941F]/50 group-hover:from-[#FFE55C]/70 group-hover:via-[#D4AF37]/50 group-hover:to-[#B8941F]/70 transition-all duration-500 rounded-[22px]"})]})})]})]})}const aw="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function gn(e){const[t,r]=_.useState(!1),n=()=>{r(!0)},{src:s,alt:a,style:o,className:l,...c}=e;return t?i.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${l??""}`,style:o,children:i.jsx("div",{className:"flex items-center justify-center w-full h-full",children:i.jsx("img",{src:aw,alt:"Error loading image",...c,"data-original-url":s})})}):i.jsx("img",{src:s,alt:a,className:l,style:o,...c,onError:n})}function ip({product:e,onProductClick:t,variant:r="default"}){var v;const[n,s]=_.useState(0),[a,o]=_.useState(!0),l=((v=e.product_images)==null?void 0:v.map(g=>g.url))||[e.image||"https://via.placeholder.com/500"];_.useEffect(()=>{if(!a||l.length<=1)return;const g=setInterval(()=>{s(w=>(w+1)%l.length)},5e3);return()=>clearInterval(g)},[a,l.length]);const c=g=>{g.stopPropagation(),o(!1),s(w=>(w-1+l.length)%l.length)},u=g=>{g.stopPropagation(),o(!1),s(w=>(w+1)%l.length)},d=(g,w)=>g.length<=w?g:g.slice(0,w).trim()+"...",m=()=>o(!1),f=()=>o(!0),y=(e.stock??0)>0;return i.jsxs("div",{onClick:()=>t(e.id),className:`product-card ${r==="black"?"card-black p-4":""}`,children:[i.jsx("div",{className:"product-image-container group relative",onMouseEnter:m,onMouseLeave:f,children:i.jsxs("div",{className:"relative w-full h-full overflow-hidden rounded-lg",children:[i.jsx(gn,{src:l[n],alt:e.name,className:"product-image transition-opacity duration-500"}),!y&&i.jsx("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded text-xs font-semibold",children:"Out of Stock"}),e.brand&&i.jsx("div",{className:"absolute top-2 right-2 bg-black/30 text-[#FFD700] px-2 py-1 rounded text-xs font-bold backdrop-blur-sm",children:e.brand}),l.length>1&&i.jsxs("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 bg-black/60 px-2 py-1 rounded-full text-xs text-[#D4AF37] backdrop-blur-sm",children:[n+1," / ",l.length]}),l.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:c,className:"absolute left-1 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-black/60 hover:bg-[#D4AF37] text-white hover:text-black p-1.5 rounded-full backdrop-blur-sm",children:i.jsx(Ff,{size:16,strokeWidth:2.5})}),i.jsx("button",{onClick:u,className:"absolute right-1 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-black/60 hover:bg-[#D4AF37] text-white hover:text-black p-1.5 rounded-full backdrop-blur-sm",children:i.jsx(Es,{size:16,strokeWidth:2.5})})]}),l.length>1&&i.jsx("div",{className:"absolute top-2 left-1/2 transform -translate-x-1/2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:l.map((g,w)=>i.jsx("button",{onClick:p=>{p.stopPropagation(),o(!1),s(w)},className:`w-1 h-1 rounded-full transition-all ${w===n?"bg-[#D4AF37] w-2":"bg-white/40 hover:bg-white/60"}`},w))})]})}),i.jsxs("div",{className:"product-info",children:[i.jsx("h3",{className:"product-name",children:d(e.name,40)}),e.short_description&&i.jsx("p",{className:"text-xs text-white mb-2 line-clamp-2",children:e.short_description}),y&&i.jsxs("span",{className:"product-category",children:[i.jsx(gt,{size:12}),e.stock," in stock"]}),typeof e.price=="number"&&i.jsxs("div",{className:"product-price",children:["$",e.price.toLocaleString()]})]})]})}function ow({onNavigate:e}){const[t,r]=_.useState([]),[n,s]=_.useState(!0),[a,o]=_.useState("All"),[l,c]=_.useState("featured"),[u,d]=_.useState({min:0,max:1e6}),[m,f]=_.useState(!1),[y,v]=Af(),[g,w]=_.useState(""),p=["All","Cosmetics","Construction","Furniture","Clothing and Fashion","Events Tools","Electrical Appliances"];_.useEffect(()=>{h()},[]),_.useEffect(()=>{const b=y.get("category"),S=y.get("search");o(b??"All"),w(S??"")},[y]);const h=async()=>{try{s(!0);const{data:b,error:S}=await T.from("products").select(`
          *,
          product_images ( url, alt_text, position ),
          product_categories (
            categories ( name )
          ),
          product_specs ( spec_key, spec_value )
        `).eq("published",!0).order("created_at",{ascending:!1});if(S)throw S;console.log("Fetched products:",b==null?void 0:b.length);const k=(b==null?void 0:b.map(j=>{var N,P,C,F,I,H;return{id:j.id,name:j.name,price:j.price,stock:j.stock||0,brand:j.brand,sku:j.sku,short_description:j.short_description,description:j.description,image:(P=(N=j.product_images)==null?void 0:N.sort((B,G)=>B.position-G.position)[0])==null?void 0:P.url,product_images:((C=j.product_images)==null?void 0:C.sort((B,G)=>B.position-G.position))||[],category:((H=(I=(F=j.product_categories)==null?void 0:F[0])==null?void 0:I.categories)==null?void 0:H.name)||"Uncategorized",product_specs:j.product_specs||[],view_count:j.view_count}}))||[];r(k)}catch(b){console.error("Error fetching products:",b)}finally{s(!1)}},x=t.filter(b=>a==="All"||b.category===a).filter(b=>b.price>=u.min&&b.price<=u.max).filter(b=>{var S,k;return!g||b.name.toLowerCase().includes(g.toLowerCase())||((S=b.short_description)==null?void 0:S.toLowerCase().includes(g.toLowerCase()))||((k=b.brand)==null?void 0:k.toLowerCase().includes(g.toLowerCase()))}).sort((b,S)=>l==="price-low"?b.price-S.price:l==="price-high"?S.price-b.price:0);return n?i.jsx("div",{className:"section flex items-center justify-center min-h-[50vh]",children:i.jsx(J,{className:"animate-spin text-[var(--gold-primary)]",size:48})}):i.jsxs("div",{className:"page-fade section relative",children:[i.jsxs("div",{className:"relative min-h-[300px] flex items-center justify-center -mx-8 -mt-8 px-8 pt-8 mb-8",style:{overflow:"hidden"},children:[i.jsx("div",{className:"absolute inset-0 z-0"}),i.jsxs("div",{className:"relative z-10 text-center",children:[i.jsx("h1",{className:"page-title",style:{fontFamily:"'Oswald', sans-serif"},children:"Luxury Collection"}),i.jsx("p",{className:"page-desc",children:g?`${x.length} results for ${g}`:`${x.length} exceptional pieces representing the pinnacle of craftsmanship.`})]})]}),i.jsxs("div",{className:"filters-container",children:[i.jsx("div",{className:"filter-group",children:p.map(b=>i.jsx("button",{onClick:()=>{o(b),b==="All"?(y.delete("category"),v(y)):v({category:b,...g&&{search:g}})},className:`filter-chip ${a===b?"active":""}`,children:b},b))}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"2rem"},children:[i.jsxs("button",{onClick:()=>f(!m),className:"link-gold",style:{background:"none",WebkitBackgroundClip:"unset",color:"var(--black)",display:"flex",alignItems:"center"},children:[i.jsx(hx,{size:20,strokeWidth:2.5,style:{marginRight:"0.5rem"}}),"Filters"]}),i.jsxs("div",{className:"sort-wrapper",children:[i.jsxs("select",{value:l,onChange:b=>c(b.target.value),className:"sort-select",children:[i.jsx("option",{value:"featured",children:"Featured"}),i.jsx("option",{value:"price-low",children:"Price: Low to High"}),i.jsx("option",{value:"price-high",children:"Price: High to Low"}),i.jsx("option",{value:"newest",children:"Newest"})]}),i.jsx(la,{size:16,className:"sort-icon",strokeWidth:3})]})]})]}),m&&i.jsxs("div",{style:{padding:"1.5rem",backgroundColor:"#f9f9f9",borderRadius:"0.5rem",marginBottom:"2rem",border:"1px solid #e5e7eb"},children:[i.jsx("h3",{style:{marginBottom:"1rem",fontWeight:"600",fontSize:"0.95rem"},children:"Price Range"}),i.jsxs("div",{style:{display:"flex",gap:"1rem",marginBottom:"1rem"},children:[i.jsxs("div",{style:{flex:1},children:[i.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.5rem",color:"#666"},children:"Min"}),i.jsx("input",{type:"number",value:u.min,onChange:b=>d({...u,min:Math.max(0,parseInt(b.target.value)||0)}),min:"0",className:"w-full px-2 py-2 border border-gray-300 rounded text-sm",placeholder:"$0"})]}),i.jsxs("div",{style:{flex:1},children:[i.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.5rem",color:"#666"},children:"Max"}),i.jsx("input",{type:"number",value:u.max,onChange:b=>d({...u,max:Math.max(u.min,parseInt(b.target.value)||1e6)}),min:"0",className:"w-full px-2 py-2 border border-gray-300 rounded text-sm",placeholder:"$10,000"})]})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[i.jsxs("div",{children:[i.jsx("label",{style:{fontSize:"0.85rem",color:"#666",display:"block",marginBottom:"0.5rem"},children:"Min Price Slider"}),i.jsx("input",{type:"range",min:"0",max:u.max,value:u.min,onChange:b=>d({...u,min:Math.min(parseInt(b.target.value),u.max)}),style:{width:"100%"}})]}),i.jsxs("div",{children:[i.jsx("label",{style:{fontSize:"0.85rem",color:"#666",display:"block",marginBottom:"0.5rem"},children:"Max Price Slider"}),i.jsx("input",{type:"range",min:u.min,max:"10000",value:u.max,onChange:b=>d({...u,max:Math.max(u.min,parseInt(b.target.value))}),style:{width:"100%"}})]})]}),i.jsxs("p",{style:{marginTop:"1rem",fontSize:"0.9rem",fontWeight:"500"},children:["$",u.min.toLocaleString()," - $",u.max.toLocaleString()]})]}),i.jsx("div",{className:"grid grid-cols-4 gap-6",children:x.map(b=>i.jsx("div",{children:i.jsx(ip,{product:b,onProductClick:S=>e("product",S)})},b.id))}),i.jsx("div",{style:{textAlign:"center",marginTop:"4rem"},children:i.jsx("button",{className:"load-more-btn",children:"Load More"})})]})}function lw({isOpen:e,onClose:t}){return e?i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:t}),i.jsxs("div",{className:"relative z-10 w-full max-w-md bg-[#0A0A0A] border border-[#D4AF37]/20 rounded-2xl p-8 shadow-2xl animate-in fade-in zoom-in duration-300",children:[i.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:i.jsx(et,{size:24})}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#FFE55C] via-[#D4AF37] to-[#B8941F] rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-[#D4AF37]/20",children:i.jsx(lx,{size:32,className:"text-black",strokeWidth:2.5})}),i.jsx("h3",{className:"text-2xl font-serif font-bold text-white mb-2",children:"Login Required"}),i.jsx("p",{className:"text-[#A3A3A3] mb-8",children:"Please log in to your account to add items to your cart and proceed with checkout."}),i.jsxs("div",{className:"space-y-3",children:[i.jsx(Jt,{to:"/login",className:"block w-full py-3 px-6 bg-gradient-to-r from-[#FFE55C] via-[#D4AF37] to-[#B8941F] text-black font-semibold rounded-xl hover:shadow-[0_8px_20px_rgba(212,175,55,0.3)] transition-all transform hover:-translate-y-0.5",children:"Log In Now"}),i.jsx("button",{onClick:t,className:"block w-full py-3 px-6 bg-transparent border border-[#D4AF37]/30 text-[#D4AF37] font-semibold rounded-xl hover:bg-[#D4AF37]/10 transition-colors",children:"Continue Browsing"})]})]})]})]}):null}const ap=_.createContext({session:null,user:null,loading:!0,signOut:async()=>{}});function cw({children:e}){const[t,r]=_.useState(null),[n,s]=_.useState(null),[a,o]=_.useState(!0);_.useEffect(()=>{T.auth.getSession().then(({data:{session:u}})=>{r(u),s((u==null?void 0:u.user)??null),o(!1)});const{data:{subscription:c}}=T.auth.onAuthStateChange((u,d)=>{r(d),s((d==null?void 0:d.user)??null),o(!1)});return()=>c.unsubscribe()},[]);const l=async()=>{await T.auth.signOut()};return i.jsx(ap.Provider,{value:{session:t,user:n,loading:a,signOut:l},children:e})}const uc=()=>_.useContext(ap),op=_.createContext({items:[],addToCart:async()=>{},removeFromCart:async()=>{},updateQuantity:async()=>{},total:0,itemCount:0,loading:!1});function uw({children:e}){const{user:t}=uc(),[r,n]=_.useState([]),[s,a]=_.useState(null),[o,l]=_.useState(!1);_.useEffect(()=>{t?c():(n([]),a(null))},[t]),_.useEffect(()=>{if(!s)return;const v=T.channel("cart_subscription").on("postgres_changes",{event:"*",schema:"public",table:"cart_items",filter:`cart_id=eq.${s}`},()=>{c()}).subscribe();return()=>{T.removeChannel(v)}},[s]);const c=async()=>{if(t){l(!0);try{let v;const{data:g}=await T.from("carts").select("id").eq("user_id",t.id).single();if(g)v=g.id;else{const{data:p,error:h}=await T.from("carts").insert({user_id:t.id}).select().single();if(h||!p)throw h;v=p.id}a(v);const{data:w}=await T.from("cart_items").select("*, products ( id, name, price, description, product_images ( url ), seller_id )").eq("cart_id",v);n(w||[])}catch(v){console.error("Error fetching cart:",v)}finally{l(!1)}}},u=async(v,g=1)=>{if(!t||!s){alert("Please login to add to cart");return}try{const w=r.find(p=>p.product_id===v.id);w?await m(w.id,w.quantity+g):(await T.from("cart_items").insert({cart_id:s,product_id:v.id,quantity:g,price_at_time:v.price}),console.log("Item added to cart_items table in Supabase"),await c())}catch(w){console.error("Error adding to cart:",w),alert("Error adding to cart")}},d=async v=>{await T.from("cart_items").delete().eq("id",v),n(g=>g.filter(w=>w.id!==v))},m=async(v,g)=>{g<1||(await T.from("cart_items").update({quantity:g}).eq("id",v),n(w=>w.map(p=>p.id===v?{...p,quantity:g}:p)))},f=r.reduce((v,g)=>{var w;return v+(((w=g.products)==null?void 0:w.price)||0)*g.quantity},0),y=r.reduce((v,g)=>v+g.quantity,0);return i.jsx(op.Provider,{value:{items:r,addToCart:u,removeFromCart:d,updateQuantity:m,total:f,itemCount:y,loading:o},children:e})}const pa=()=>_.useContext(op);function dw(){var g,w;const{id:e}=nc(),{addToCart:t}=pa(),[r,n]=_.useState(null),[s,a]=_.useState(!0),[o,l]=_.useState(1),[c,u]=_.useState("One Size"),[d,m]=_.useState(!1),f=["Small","Medium","Large","One Size"];_.useEffect(()=>{e&&y()},[e]);const y=async()=>{var p,h,x,b,S,k;try{a(!0);const{data:j,error:N}=await T.from("products").select(`
          *,
          product_images ( url, alt_text, position ),
          product_categories (
            categories ( name, slug )
          ),
          product_specs ( spec_key, spec_value )
        `).eq("id",e).single();if(N)throw N;n({...j,image:(h=(p=j.product_images)==null?void 0:p.sort((P,C)=>P.position-C.position)[0])==null?void 0:h.url,category:((S=(b=(x=j.product_categories)==null?void 0:x[0])==null?void 0:b.categories)==null?void 0:S.name)||"Uncategorized",product_images:((k=j.product_images)==null?void 0:k.sort((P,C)=>P.position-C.position))||[],product_specs:j.product_specs||[]})}catch(j){console.error("Error fetching product:",j)}finally{a(!1)}},v=async()=>{const{data:{session:p}}=await T.auth.getSession();if(!p){m(!0);return}r&&(await t(r,o),alert("Product added to cart"))};return s?i.jsx("div",{className:"section flex items-center justify-center min-h-[50vh]",children:i.jsx(J,{className:"animate-spin text-[var(--gold-primary)]",size:48})}):r?i.jsxs("div",{className:"section relative",children:[i.jsxs("div",{className:"detail-grid relative z-10",children:[i.jsxs("div",{children:[i.jsx("div",{className:"gallery-main",children:i.jsx(gn,{src:r.image||"https://via.placeholder.com/800",alt:r.name,className:"product-image"})}),i.jsx("div",{className:"gallery-thumbnails",children:((g=r.product_images)==null?void 0:g.map((p,h)=>i.jsx("div",{className:"gallery-thumb",children:i.jsx(gn,{src:p.url,alt:p.alt_text||r.name,className:"product-image"})},h)))||[1,2,3].map(p=>i.jsx("div",{className:"gallery-thumb",children:i.jsx("div",{className:"w-full h-full bg-gray-200"})},p))})]}),i.jsxs("div",{className:"card-black",children:[i.jsx("p",{className:"text-muted mb-2",children:r.category}),i.jsx("h1",{className:"text-white mb-6",style:{fontSize:"2.5rem",fontFamily:"'Oswald', sans-serif"},children:r.name}),i.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[i.jsxs("div",{className:"flex gap-1",children:[[1,2,3,4,5].map(p=>i.jsx(Hn,{size:20,strokeWidth:2.5,style:{fill:"url(#gold-gradient)",stroke:"#D4AF37",filter:"drop-shadow(0 0 4px rgba(244, 224, 77, 0.5))"}},p)),i.jsx("svg",{width:"0",height:"0",children:i.jsx("defs",{children:i.jsxs("linearGradient",{id:"gold-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[i.jsx("stop",{offset:"0%",stopColor:"#FFE55C"}),i.jsx("stop",{offset:"50%",stopColor:"#D4AF37"}),i.jsx("stop",{offset:"100%",stopColor:"#B8941F"})]})})})]}),i.jsx("span",{className:"text-muted",children:"(127 reviews)"})]}),i.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[i.jsxs("span",{className:"detail-price",children:["$",((w=r.price)==null?void 0:w.toLocaleString())||"0.00"]}),r.stock!==void 0&&r.stock!==null?r.stock>0?i.jsxs("span",{className:"bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-sm",children:[r.stock," in stock"]}):i.jsx("span",{className:"bg-red-500/20 text-red-400 px-3 py-1 rounded-full text-sm",children:"Out of stock"}):i.jsx("span",{className:"bg-gray-500/20 text-gray-400 px-3 py-1 rounded-full text-sm",children:"Stock unavailable"})]}),r.short_description&&i.jsx("p",{className:"text-gray-300 mb-4 font-medium",children:r.short_description}),i.jsx("p",{className:"detail-desc",children:r.description||"No detailed description available for this product."}),r.product_specs&&r.product_specs.length>0&&i.jsxs("div",{className:"mb-6 mt-6 pt-6 border-t border-gray-700",children:[i.jsx("h4",{className:"text-white mb-4 font-semibold",children:"Specifications"}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:r.product_specs.map((p,h)=>i.jsxs("div",{className:"bg-gray-800/50 rounded px-3 py-2",children:[i.jsx("span",{className:"text-gray-400 text-sm block",children:p.spec_key}),i.jsx("span",{className:"text-white",children:p.spec_value||"N/A"})]},h))})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h4",{className:"text-white mb-4",style:{fontFamily:"'Oswald', sans-serif"},children:"Select Size"}),i.jsx("div",{className:"size-grid",children:f.map(p=>i.jsx("button",{onClick:()=>u(p),className:`size-btn ${c===p?"active":""}`,children:p},p))})]}),i.jsxs("div",{className:"mb-12",children:[i.jsx("h4",{className:"text-white mb-4",style:{fontFamily:"'Oswald', sans-serif"},children:"Quantity"}),i.jsxs("div",{className:"quantity-controls",children:[i.jsx("button",{onClick:()=>l(Math.max(1,o-1)),className:"qty-btn",children:i.jsx(Of,{size:20,strokeWidth:2.5})}),i.jsx("span",{className:"qty-display",children:o}),i.jsx("button",{onClick:()=>l(o+1),className:"qty-btn",disabled:r.stock!==void 0&&o>=r.stock,children:i.jsx(mn,{size:20,strokeWidth:2.5})})]})]}),i.jsxs("div",{className:"detail-actions",children:[i.jsx("button",{onClick:v,className:"btn-primary",style:{flex:1,padding:"1rem"},disabled:r.stock!==void 0&&r.stock<=0,children:r.stock!==void 0&&r.stock<=0?"Out of Stock":"Add to Cart"}),i.jsx("button",{className:"qty-btn",style:{width:"64px",height:"auto",border:"1px solid var(--white)"},children:i.jsx(rx,{size:24,strokeWidth:2.5})})]}),i.jsxs("div",{className:"detail-features",children:[i.jsxs("div",{className:"feature-row",children:[i.jsx(Uf,{size:24,strokeWidth:2.5,style:{color:"#D4AF37"}}),i.jsx("span",{children:"Free shipping worldwide"})]}),i.jsxs("div",{className:"feature-row",children:[i.jsx(Df,{size:24,strokeWidth:2.5,style:{color:"#D4AF37"}}),i.jsx("span",{children:"Authenticity guaranteed"})]}),i.jsxs("div",{className:"feature-row",children:[i.jsx(dx,{size:24,strokeWidth:2.5,style:{color:"#D4AF37"}}),i.jsx("span",{children:"30-day return policy"})]})]})]})]}),i.jsx(lw,{isOpen:d,onClose:()=>m(!1)})]}):i.jsx("div",{className:"section text-center text-white",children:"Product not found"})}function hw({onNavigate:e}){const{items:t,total:r,removeFromCart:n,updateQuantity:s,loading:a}=pa(),o=r,l=o>500?0:50,c=o*.08,u=o+l+c;return a?i.jsx("div",{className:"section flex items-center justify-center min-h-[50vh]",children:i.jsx(J,{className:"animate-spin text-[var(--gold-primary)]",size:48})}):i.jsxs("div",{className:"page-fade section relative",children:[i.jsx("h1",{className:"page-title mb-12",children:"Shopping Cart"}),t.length===0?i.jsxs("div",{className:"card-black p-24 text-center",children:[i.jsx("h3",{className:"text-white mb-6",children:"Your cart is empty"}),i.jsx("p",{className:"text-muted mb-12",children:"Discover our exceptional collection"}),i.jsx("button",{onClick:()=>e("shop"),className:"btn-primary",style:{padding:"1rem 3rem"},children:"Continue Shopping"})]}):i.jsxs("div",{className:"cart-grid",children:[i.jsx("div",{className:"col-span-2 space-y-6",children:t.map(d=>{var m,f,y,v,g,w,p,h;return i.jsxs("div",{className:"card-black p-6 flex gap-6",children:[i.jsx("div",{className:"cart-thumb",children:i.jsx(gn,{src:((y=(f=(m=d.products)==null?void 0:m.product_images)==null?void 0:f[0])==null?void 0:y.url)||"https://via.placeholder.com/150",alt:(v=d.products)==null?void 0:v.name,className:"product-image"})}),i.jsxs("div",{className:"cart-details",children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-white mb-2",children:(g=d.products)==null?void 0:g.name}),i.jsxs("div",{className:"text-white font-bold",children:["$",(p=(w=d.products)==null?void 0:w.price)==null?void 0:p.toLocaleString()]})]}),i.jsx("button",{onClick:()=>n(d.id),className:"text-muted hover:text-white transition-colors bg-transparent border-none cursor-pointer p-0",children:i.jsx(et,{size:24,strokeWidth:2.5})})]}),i.jsxs("div",{className:"flex items-center justify-between mt-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:()=>s(d.id,Math.max(1,d.quantity-1)),className:"qty-btn",style:{width:"32px",height:"32px"},children:i.jsx(Of,{size:14,strokeWidth:2.5})}),i.jsx("span",{className:"text-white w-8 text-center",children:d.quantity}),i.jsx("button",{onClick:()=>s(d.id,d.quantity+1),className:"qty-btn",style:{width:"32px",height:"32px"},children:i.jsx(mn,{size:14,strokeWidth:2.5})})]}),i.jsxs("div",{className:"bg-gradient-to-r from-[#FFE55C] via-[#D4AF37] to-[#B8941F] bg-clip-text text-transparent font-bold",children:["$",((((h=d.products)==null?void 0:h.price)||0)*d.quantity).toLocaleString()]})]})]})]},d.id)})}),i.jsx("div",{children:i.jsxs("div",{className:"card-black p-8 sticky top-24",children:[i.jsx("h3",{className:"text-white mb-8 font-serif",style:{fontFamily:"'Oswald', sans-serif"},children:"Order Summary"}),i.jsxs("div",{className:"space-y-4 mb-8",children:[i.jsxs("div",{className:"summary-row",children:[i.jsx("span",{children:"Subtotal"}),i.jsxs("span",{children:["$",o.toLocaleString()]})]}),i.jsxs("div",{className:"summary-row",children:[i.jsx("span",{children:"Shipping"}),i.jsx("span",{children:l===0?"Free":`$${l}`})]}),i.jsxs("div",{className:"summary-row",children:[i.jsx("span",{children:"Tax"}),i.jsxs("span",{children:["$",c.toFixed(2)]})]}),i.jsxs("div",{className:"summary-total",children:[i.jsx("span",{children:"Total"}),i.jsxs("div",{className:"total-price",children:["$",u.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),i.jsxs(Jt,{to:"/checkout",style:{textDecoration:"none"},children:[i.jsx("button",{className:"btn-primary",style:{width:"100%",marginBottom:"1rem",padding:"1rem"},children:"Proceed to Checkout"}),i.jsx("button",{onClick:()=>e("shop"),className:"btn-outline-gold",style:{width:"100%",padding:"1rem"},children:"Continue Shopping"})]}),o<500&&i.jsx("div",{className:"mt-6 p-4 border border-[rgba(222,157,13,0.3)] text-center",children:i.jsxs("p",{className:"text-muted text-sm",children:["Add ",i.jsxs("span",{style:{color:"var(--gold-solid)"},children:["$",(500-o).toLocaleString()]})," more for free shipping"]})})]})})]})]})}function fw(){const e=me();pa();const{user:t}=uc(),[r,n]=_.useState(!0),[s,a]=_.useState(!1),[o,l]=_.useState(null),[c,u]=_.useState(!1),[d,m]=_.useState([]),[f,y]=_.useState(null),[,v]=_.useState(null);_.useEffect(()=>{(async()=>{if(!t){e("/login");return}n(!0),l(null);try{const{data:x,error:b}=await T.from("carts").select("id").eq("user_id",t.id).limit(1).single();if(b)throw new Error("Failed to load cart");v(x.id);const{data:S,error:k}=await T.from("cart_items").select(`
            id,
            quantity,
            price_at_time,
            products (
              id,
              name,
              price,
              slug,
              product_images (url)
            )
          `).eq("cart_id",x.id);if(k)throw new Error("Failed to load cart items");m(S);const{data:j,error:N}=await T.from("addresses").select("*").eq("user_id",t.id).limit(1).single();!N&&j&&y(j)}catch(x){l(x instanceof Error?x.message:"Failed to load checkout data")}finally{n(!1)}})()},[t,e]);const g=d.reduce((h,x)=>{var S;const b=((S=x.products)==null?void 0:S.price)||x.price_at_time;return h+b*x.quantity},0),w=async()=>{if(!t){l("Please log in to continue");return}if(!f){u(!0);return}a(!0),l(null);try{const h=d.map(j=>({product_id:j.products.id,quantity:j.quantity,price:j.products.price||j.price_at_time})),{data:x}=await T.from("user_profiles").select("email").eq("user_id",t.id).single(),b=(x==null?void 0:x.email)||t.email,S=await fetch("https://hoieogginmsfmoarubuu.supabase.co/functions/v1/super-endpoint",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhvaWVvZ2dpbm1zZm1vYXJ1YnV1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU3ODM0OTEsImV4cCI6MjA4MTM1OTQ5MX0.5HAcivBIN_fv06Qs4iRjKDNowN204aucVKiwqQBVtkw"},body:JSON.stringify({user_id:t.id,email:b,currency:"NGN",items:h,shipping_address_id:f.id,billing_address_id:f.id})});if(!S.ok){const j=await S.json();throw new Error(j.error||"Payment initialization failed")}const k=await S.json();if(!k.authorization_url||!k.order_id)throw new Error("Invalid response from payment service");e(`/order-confirmation?order_id=${k.order_id}`),window.open(k.authorization_url,"_blank")}catch(h){console.error("Payment error:",h),l(h instanceof Error?h.message:"Failed to initialize payment")}finally{a(!1)}},p=async()=>{if(!t){l("Please log in to continue");return}if(!f){u(!0);return}a(!0),l(null);try{const h=d.map(C=>({product_id:C.products.id,quantity:C.quantity,price:C.products.price||C.price_at_time})),{data:x}=await T.from("user_profiles").select("email").eq("user_id",t.id).single(),b=(x==null?void 0:x.email)||t.email,S=window.location.origin,k=`${S}/order-confirmation?session_id={CHECKOUT_SESSION_ID}`,j=`${S}/checkout`;console.log("Calling Stripe with:",{user_id:t.id,email:b,items_count:h.length,success_url:k,cancel_url:j});const N=await fetch("https://hoieogginmsfmoarubuu.supabase.co/functions/v1/create-stripe-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhvaWVvZ2dpbm1zZm1vYXJ1YnV1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU3ODM0OTEsImV4cCI6MjA4MTM1OTQ5MX0.5HAcivBIN_fv06Qs4iRjKDNowN204aucVKiwqQBVtkw"},body:JSON.stringify({user_id:t.id,email:b,currency:"NGN",items:h,shipping_address_id:f.id,billing_address_id:f.id,success_url:k,cancel_url:j})});if(!N.ok){const C=await N.json();throw console.error("Stripe API error:",C),new Error(C.error||"Payment initialization failed")}const P=await N.json();if(console.log("Stripe response:",P),!P.checkout_url)throw new Error("Invalid response from payment service");window.location.href=P.checkout_url}catch(h){console.error("Payment error:",h),l(h instanceof Error?h.message:"Failed to initialize payment")}finally{a(!1)}};return r?i.jsx("div",{className:"section flex items-center justify-center min-h-[60vh]",children:i.jsx(J,{className:"animate-spin text-[var(--gold-primary)]",size:48})}):d.length===0?i.jsx("div",{className:"section",children:i.jsxs("div",{className:"card-black p-24 text-center",children:[i.jsx(sn,{size:64,className:"mx-auto mb-6 text-[var(--gold-primary)]"}),i.jsx("h3",{className:"text-white mb-4",children:"Your cart is empty"}),i.jsx("p",{className:"text-muted mb-8",children:"Add some items to proceed with checkout"}),i.jsx("button",{onClick:()=>e("/shop"),className:"btn-primary",children:"Continue Shopping"})]})}):i.jsxs("div",{className:"section relative",children:[i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsx("h1",{className:"page-title mb-12",style:{fontFamily:"'Oswald', sans-serif"},children:"Checkout"}),o&&i.jsxs("div",{className:"mb-8 p-4 bg-red-900/20 border border-red-500/50 rounded-lg flex items-start gap-3",children:[i.jsx(zi,{className:"text-red-500 flex-shrink-0 mt-0.5",size:20}),i.jsx("div",{children:i.jsx("p",{className:"text-red-200",children:o})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[i.jsxs("div",{className:"card-black",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(cr,{className:"text-[var(--gold-primary)]",size:24}),i.jsx("h3",{className:"text-2xl font-serif text-[var(--gold-primary)]",style:{fontFamily:"'Oswald', sans-serif"},children:"Shipping Address"})]}),f?i.jsxs("div",{className:"bg-white/5 p-6 rounded-lg",children:[f.label&&i.jsx("p",{className:"text-[var(--gold-primary)] font-semibold mb-2",children:f.label}),i.jsx("p",{className:"text-white",children:f.line1}),f.line2&&i.jsx("p",{className:"text-white",children:f.line2}),i.jsxs("p",{className:"text-white",children:[f.city,", ",f.state," ",f.postal_code]}),i.jsx("p",{className:"text-white",children:f.country})]}):i.jsxs("div",{className:"bg-orange-900/20 border border-orange-500/50 p-6 rounded-lg",children:[i.jsx("p",{className:"text-orange-200 mb-4",children:"No shipping address found. Please add your delivery address to continue."}),i.jsx("button",{onClick:()=>e("/account"),className:"btn-outline-gold",children:"Add Address in Account"})]})]}),i.jsxs("div",{className:"card-black",children:[i.jsx("h3",{className:"text-2xl font-serif mb-6 text-[var(--gold-primary)]",style:{fontFamily:"'Oswald', sans-serif"},children:"Order Items"}),i.jsx("div",{className:"space-y-4",children:d.map(h=>{var x,b,S,k,j,N,P;return i.jsxs("div",{className:"flex gap-4 bg-white/5 p-4 rounded-lg",children:[i.jsx("div",{className:"w-20 h-20 flex-shrink-0",children:i.jsx(gn,{src:((S=(b=(x=h.products)==null?void 0:x.product_images)==null?void 0:b[0])==null?void 0:S.url)||"https://via.placeholder.com/150",alt:(k=h.products)==null?void 0:k.name,className:"w-full h-full object-cover rounded"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-white font-semibold mb-1",children:(j=h.products)==null?void 0:j.name}),i.jsxs("p",{className:"text-muted text-sm",children:["Quantity: ",h.quantity]}),i.jsxs("p",{className:"text-[var(--gold-primary)] font-semibold",children:["",((((N=h.products)==null?void 0:N.price)||h.price_at_time)*h.quantity).toLocaleString()]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-white",children:["",(((P=h.products)==null?void 0:P.price)||h.price_at_time).toLocaleString()]}),i.jsx("p",{className:"text-muted text-sm",children:"each"})]})]},h.id)})})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-xl font-serif text-[var(--gold-primary)] mb-4",children:"Choose Payment Method"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("button",{onClick:w,disabled:s||!f,className:"group relative overflow-hidden bg-black border border-[#FFC92E]/30 hover:border-[#FFC92E] text-white py-8 px-6 rounded-xl flex flex-col items-center justify-center gap-4 transition-all duration-500 hover:shadow-[0_0_30px_rgba(255,201,46,0.2)] hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:border-[#FFC92E]/30",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#FFC92E]/0 via-[#FFC92E]/5 to-[#FFC92E]/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),i.jsx("div",{className:"p-4 rounded-full bg-[#FFC92E]/10 group-hover:bg-[#FFC92E]/20 transition-colors duration-300",children:i.jsx(px,{className:"text-[#FFC92E]",size:32})}),i.jsxs("div",{className:"flex flex-col items-center gap-1 z-10",children:[i.jsx("span",{className:"text-gray-300 font-medium tracking-wide uppercase text-sm",children:"Pay with Paystack"}),i.jsxs("span",{className:"text-white font-bold text-2xl font-serif tracking-wider",children:["",g.toLocaleString()]})]})]}),i.jsxs("button",{onClick:p,disabled:s||!f,className:"group relative overflow-hidden bg-black border border-[#FFC92E]/30 hover:border-[#FFC92E] text-white py-8 px-6 rounded-xl flex flex-col items-center justify-center gap-4 transition-all duration-500 hover:shadow-[0_0_30px_rgba(255,201,46,0.2)] hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:border-[#FFC92E]/30",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#FFC92E]/0 via-[#FFC92E]/5 to-[#FFC92E]/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-1000"}),i.jsx("div",{className:"p-4 rounded-full bg-[#FFC92E]/10 group-hover:bg-[#FFC92E]/20 transition-colors duration-300",children:i.jsx(ca,{className:"text-[#FFC92E]",size:32})}),i.jsxs("div",{className:"flex flex-col items-center gap-1 z-10",children:[i.jsx("span",{className:"text-gray-300 font-medium tracking-wide uppercase text-sm",children:"Pay with Stripe"}),i.jsxs("span",{className:"text-white font-bold text-2xl font-serif tracking-wider",children:["",g.toLocaleString()]})]})]})]}),s&&i.jsxs("div",{className:"flex items-center justify-center gap-2 text-[var(--gold-primary)] py-4",children:[i.jsx(J,{className:"animate-spin",size:20}),i.jsx("span",{children:"Processing payment..."})]})]})]}),i.jsx("div",{children:i.jsxs("div",{className:"card-black sticky top-24",children:[i.jsx("h3",{className:"font-serif text-xl mb-6",style:{fontFamily:"'Oswald', sans-serif"},children:"Order Summary"}),i.jsxs("div",{className:"space-y-4 text-gray-400",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("span",{children:["Subtotal (",d.length," items)"]}),i.jsxs("span",{className:"text-white",children:["",g.toLocaleString()]})]}),i.jsxs("div",{className:"border-t border-white/10 pt-4 mt-4",children:[i.jsx("p",{className:"text-xs text-muted mb-2",children:"Fees calculated at checkout"}),i.jsxs("div",{className:"flex justify-between text-white font-bold text-lg",children:[i.jsx("span",{children:"Subtotal"}),i.jsxs("span",{className:"text-[var(--gold-primary)]",children:["",g.toLocaleString()]})]})]})]})]})})]})]}),c&&i.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"card-black max-w-md w-full relative",children:[i.jsx("button",{onClick:()=>u(!1),className:"absolute top-4 right-4 text-muted hover:text-white transition-colors",children:i.jsx(et,{size:24})}),i.jsxs("div",{className:"text-center py-8",children:[i.jsx(zi,{className:"mx-auto mb-4 text-orange-500",size:64}),i.jsx("h3",{className:"text-2xl font-serif text-white mb-4",children:"Shipping Address Required"}),i.jsx("p",{className:"text-muted mb-8",children:"You need to add a delivery address before you can proceed with payment. Please go to your account page and add your shipping address."}),i.jsxs("div",{className:"flex gap-4 justify-center",children:[i.jsx("button",{onClick:()=>u(!1),className:"btn-outline-gold",children:"Cancel"}),i.jsx("button",{onClick:()=>e("/account"),className:"btn-primary",children:"Go to Account"})]})]})]})})]})}function pw(){var S;const[e]=Af(),t=e.get("order_id"),r=e.get("reference"),[n,s]=_.useState(!0),[a,o]=_.useState(null),[l,c]=_.useState(null),[u,d]=_.useState([]),[m,f]=_.useState(null),[y,v]=_.useState(null),[g,w]=_.useState(!1),p=_.useCallback(async()=>{s(!0),o(null);try{let k=null;if(t)k=t;else if(r){const{data:B,error:G}=await T.from("payments").select("order_id, status, provider_payment_id, amount, currency, created_at").eq("provider_payment_id",r).maybeSingle();if(G&&console.warn("Payment lookup error:",G),B&&B.order_id)k=B.order_id,f(B);else{c(null),d([]),f(null),v(null),s(!1);return}}else{o("No order reference provided in the URL."),s(!1);return}const{data:j,error:N}=await T.from("orders").select("*").eq("id",k).maybeSingle();if(N)throw new Error("Order fetch failed");if(!j){o("Order not found"),s(!1);return}c(j);const{data:P,error:C}=await T.from("order_items").select("id, quantity, unit_price, product_id").eq("order_id",k);if(C)throw new Error("Failed to load order items");const F=(P||[]).map(B=>B.product_id).filter(Boolean);let I=[];if(F.length>0){const{data:B,error:G}=await T.from("products").select("id, name, slug, product_images(url)").in("id",F);G?console.warn("Failed to load product details",G):I=B||[]}const H=(P||[]).map(B=>({...B,product:I.find(G=>G.id===B.product_id)}));if(d(H),!m){const{data:B,error:G}=await T.from("payments").select("*").eq("order_id",k).maybeSingle();G?console.warn("Payment not found yet:",G):B&&f(B)}if(j.shipping_address_id){const{data:B,error:G}=await T.from("addresses").select("*").eq("id",j.shipping_address_id).maybeSingle();!G&&B&&v(B)}o(null)}catch(k){console.error("Error fetching order:",k),o(k instanceof Error?k.message:"Failed to load order")}finally{s(!1)}},[t,r,m]);_.useEffect(()=>{p()},[p]),_.useEffect(()=>{if(!(!!l&&l.status!=="paid"||!!r&&!l)){w(!1);return}w(!0);const j=setInterval(()=>{p()},3e3);return()=>clearInterval(j)},[l,r,p]);const h=()=>{s(!0),p()};if(n&&!l)return i.jsx("div",{className:"section flex items-center justify-center min-h-[60vh]",children:i.jsx(J,{className:"animate-spin text-[var(--gold-primary)]",size:48})});if(a||!l&&!n)return i.jsx("div",{className:"section",children:i.jsxs("div",{className:"card-black p-16 text-center max-w-2xl mx-auto",children:[i.jsx(zi,{size:64,className:"mx-auto mb-6 text-red-500"}),i.jsx("h2",{className:"text-2xl font-serif text-white mb-4",children:"Order Not Found"}),i.jsx("p",{className:"text-muted mb-8",children:a||"Invalid order reference"}),i.jsx(Jt,{to:"/cart",className:"btn-primary no-underline",children:"Return to Cart"})]})});const x=(l==null?void 0:l.status)==="paid",b=(l==null?void 0:l.status)==="pending"||!l&&!!r;return i.jsx("div",{className:"section relative",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("div",{className:"flex justify-center mb-6",children:x?i.jsx(Tf,{size:80,className:"text-[var(--gold-primary)]",strokeWidth:1.5}):i.jsx(J,{size:80,className:"animate-spin text-orange-500",strokeWidth:1.5})}),i.jsx("h1",{className:"font-serif text-4xl mb-4 bg-gradient-to-r from-[var(--gold-light)] via-[var(--gold-primary)] to-[var(--gold-dark)] bg-clip-text text-transparent",children:x?"Order Confirmed!":"Waiting for Payment..."}),i.jsx("p",{className:"text-gray-400 text-lg mb-2",children:x?"Thank you for your purchase. Your order has been confirmed.":"Please complete your payment in the Paystack window."}),i.jsxs("p",{className:"text-muted",children:["Order ID: ",i.jsx("span",{className:"text-[var(--gold-primary)] font-mono",children:((S=l==null?void 0:l.id)==null?void 0:S.slice(0,8).toUpperCase())??""})]}),g&&i.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 text-sm text-orange-400",children:[i.jsx(J,{size:16,className:"animate-spin"}),i.jsx("span",{children:"Checking payment status..."})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[i.jsxs("div",{className:"card-black",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(ca,{className:"text-[var(--gold-primary)]",size:24}),i.jsx("h3",{className:"text-xl font-serif text-[var(--gold-primary)]",children:"Payment Details"})]}),m?i.jsxs("div",{className:"space-y-3 text-gray-400",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Provider"}),i.jsx("span",{className:"text-white capitalize",children:m.provider})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Amount"}),i.jsxs("span",{className:"text-white",children:[m.currency," ",m.amount.toLocaleString(void 0,{minimumFractionDigits:2})]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Status"}),i.jsx("span",{className:`font-semibold ${m.status==="success"?"text-green-400":"text-orange-400"}`,children:m.status.toUpperCase()})]}),m.provider_payment_id&&i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Transaction ID"}),i.jsxs("span",{className:"text-white font-mono text-sm",children:[m.provider_payment_id.slice(0,12),"..."]})]})]}):i.jsx("p",{className:"text-muted",children:"Payment information not available yet"})]}),y&&i.jsxs("div",{className:"card-black",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(cr,{className:"text-[var(--gold-primary)]",size:24}),i.jsx("h3",{className:"text-xl font-serif text-[var(--gold-primary)]",children:"Shipping Address"})]}),i.jsxs("div",{className:"text-gray-400",children:[y.label&&i.jsx("p",{className:"text-[var(--gold-primary)] font-semibold mb-2",children:y.label}),i.jsx("p",{className:"text-white",children:y.line1}),y.line2&&i.jsx("p",{className:"text-white",children:y.line2}),i.jsxs("p",{className:"text-white",children:[y.city,", ",y.state," ",y.postal_code]}),i.jsx("p",{className:"text-white",children:y.country})]})]})]}),i.jsxs("div",{className:"card-black mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx(gt,{className:"text-[var(--gold-primary)]",size:24}),i.jsx("h3",{className:"text-xl font-serif text-[var(--gold-primary)]",children:"Order Items"})]}),i.jsx("div",{className:"space-y-4",children:u.map(k=>{var j,N,P,C,F;return i.jsxs("div",{className:"flex gap-4 bg-white/5 p-4 rounded-lg",children:[i.jsx("div",{className:"w-20 h-20 flex-shrink-0",children:i.jsx(gn,{src:((P=(N=(j=k.product)==null?void 0:j.product_images)==null?void 0:N[0])==null?void 0:P.url)||"https://via.placeholder.com/150",alt:(C=k.product)==null?void 0:C.name,className:"w-full h-full object-cover rounded"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-white font-semibold mb-1",children:(F=k.product)==null?void 0:F.name}),i.jsxs("p",{className:"text-muted text-sm",children:["Quantity: ",k.quantity]}),i.jsxs("p",{className:"text-[var(--gold-primary)] font-semibold",children:["",(k.unit_price*k.quantity).toLocaleString()]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-white",children:["",k.unit_price.toLocaleString()]}),i.jsx("p",{className:"text-muted text-sm",children:"each"})]})]},k.id)})}),i.jsx("div",{className:"mt-6 pt-6 border-t border-white/10",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-xl font-serif text-white",children:"Total Amount"}),i.jsxs("span",{className:"text-2xl font-bold text-[var(--gold-primary)]",children:[l==null?void 0:l.currency," ",l==null?void 0:l.total_amount.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[b&&i.jsxs("button",{onClick:h,disabled:n,className:"btn-outline-gold flex items-center gap-2",children:[i.jsx(ux,{size:20,className:n?"animate-spin":""}),"Refresh Payment Status"]}),x&&i.jsxs(i.Fragment,{children:[i.jsx(Jt,{to:"/account",className:"btn-outline-gold no-underline",children:"View Orders"}),i.jsx(Jt,{to:"/shop",className:"btn-primary no-underline",children:"Continue Shopping"})]})]}),i.jsxs("div",{className:"text-center mt-8 text-muted text-sm",children:["Order placed: ",l&&new Date(l.placed_at).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]})]})})}function mw(){const e=me(),[t,r]=_.useState("login"),[n,s]=_.useState(!1),[a,o]=_.useState(""),[l,c]=_.useState(""),[u,d]=_.useState(""),[m,f]=_.useState(null),y=async()=>{try{s(!0),f(null);const{error:g}=await T.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/account`}});if(g)throw g}catch(g){f(g.message),s(!1)}},v=async g=>{g.preventDefault(),s(!0),f(null);try{if(t==="login"){const{error:w}=await T.auth.signInWithPassword({email:a,password:l});if(w)throw w;e("/account")}else{const{error:w}=await T.auth.signUp({email:a,password:l,options:{data:{full_name:u}}});if(w)throw w;alert("Registration successful! Please check your email to confirm your account."),r("login")}}catch(w){f(w.message)}finally{s(!1)}};return i.jsx("div",{className:"page-fade section flex items-center justify-center min-h-[70vh]",children:i.jsxs("div",{className:"card-black max-w-md w-full p-8 border border-[#FFC92E]/20 shadow-[0_0_40px_rgba(255,201,46,0.1)]",children:[i.jsxs("div",{className:"flex border-b border-white/10 mb-8",children:[i.jsxs("button",{className:`flex-1 pb-4 text-center font-serif text-lg transition-colors relative ${t==="login"?"text-[var(--gold-primary)]":"text-gray-500 hover:text-gray-300"}`,onClick:()=>r("login"),children:["Login",t==="login"&&i.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-[#FFC92E] to-[#DE9D0D]"})]}),i.jsxs("button",{className:`flex-1 pb-4 text-center font-serif text-lg transition-colors relative ${t==="register"?"text-[var(--gold-primary)]":"text-gray-500 hover:text-gray-300"}`,onClick:()=>r("register"),children:["Register",t==="register"&&i.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-[#FFC92E] to-[#DE9D0D]"})]})]}),m&&i.jsxs("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/30 rounded-lg flex items-center gap-3 text-red-200 text-sm",children:[i.jsx(zi,{size:18}),m]}),t==="login"?i.jsxs("form",{className:"space-y-6",onSubmit:v,children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-400 mb-2 text-sm uppercase tracking-wider font-medium",children:"Email Address"}),i.jsx("input",{type:"email",className:"w-full  bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors",value:a,onChange:g=>o(g.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-400 mb-2 text-sm uppercase tracking-wider font-medium",children:"Password"}),i.jsx("input",{type:"password",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors",value:l,onChange:g=>c(g.target.value),required:!0})]}),i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsxs("label",{className:"flex items-center gap-2 text-gray-400 cursor-pointer hover:text-white transition-colors",children:[i.jsx("input",{type:"checkbox",className:"accent-[#FFC92E]"}),i.jsx("span",{children:"Remember me"})]}),i.jsx("a",{href:"#",className:"text-[#FFC92E] hover:text-[#FFE55C] transition-colors",children:"Forgot Password?"})]}),i.jsxs("button",{type:"submit",disabled:n,className:"btn-gold",children:[n&&i.jsx(J,{className:"animate-spin inline mr-2",size:16}),"Sign In"]}),i.jsx("div",{children:i.jsxs("p",{className:"text-center text-gray-500 text-sm",children:["Don't have an account?"," ",i.jsx("span",{className:"text-[#FFC92E] hover:text-[#FFE55C] cursor-pointer font-medium",onClick:()=>r("register"),children:"Register"})]})})]}):i.jsxs("form",{className:"space-y-6",onSubmit:v,children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-400 mb-2 text-sm uppercase tracking-wider font-medium",children:"Full Name"}),i.jsx("input",{type:"text",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors",value:u,onChange:g=>d(g.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-400 mb-2 text-sm uppercase tracking-wider font-medium",children:"Email Address"}),i.jsx("input",{type:"email",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors",value:a,onChange:g=>o(g.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-400 mb-2 text-sm uppercase tracking-wider font-medium",children:"Password"}),i.jsx("input",{type:"password",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors",value:l,onChange:g=>c(g.target.value),required:!0})]}),i.jsxs("button",{type:"submit",disabled:n,className:"btn-gold2",children:[n&&i.jsx(J,{className:"animate-spin inline mr-2",size:16}),"Create Account"]}),i.jsxs("p",{className:"text-center text-gray-500 text-sm",children:["Already have an account?"," ",i.jsx("span",{className:"text-[#FFC92E] hover:text-[#FFE55C] cursor-pointer font-medium",onClick:()=>r("login"),children:"Login"})]})]}),i.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2",children:[i.jsx("div",{className:"h-px w-12 bg-gradient-to-r from-transparent to-[#FFC92E]/30"}),i.jsx("span",{className:"text-xs uppercase tracking-widest text-[#FFC92E]/50 font-medium",children:"Or"}),i.jsx("div",{className:"h-px w-12 bg-gradient-to-l from-transparent to-[#FFC92E]/30"})]}),i.jsx("div",{className:"mt-8 pt-6 border-t border-white/10",children:i.jsxs("button",{onClick:y,type:"button",className:"group w-full relative overflow-hidden bg-[#000] border border-[#333] hover:border-[#FFC92E]/50 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center gap-3 transition-all duration-300 hover:shadow-[0_0_15px_rgba(255,201,46,0.15)]",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#FFC92E]/0 via-[#FFC92E]/10 to-[#FFC92E]/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),i.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[i.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),i.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),i.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),i.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),i.jsx("span",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Sign in with Google"})]})})]})})}async function td(e){if(!e)return null;try{if(e.startsWith("http://")||e.startsWith("https://"))return e;const{data:t}=T.storage.from("avatars").getPublicUrl(e);return(t==null?void 0:t.publicUrl)||null}catch(t){return console.error("Error getting avatar URL:",t),null}}const gw="AIzaSyAVamyyQXuecYqP-WyQsVuNdi5mEwUnSGc";function xw(){return new Promise((e,t)=>{if(!navigator.geolocation){t(new Error("Geolocation not supported"));return}const r=setTimeout(()=>{t(new Error("Device location request timed out"))},1e4);navigator.geolocation.getCurrentPosition(n=>{clearTimeout(r),e({lat:n.coords.latitude,lng:n.coords.longitude,accuracy:n.coords.accuracy})},n=>{clearTimeout(r),t(n)},{enableHighAccuracy:!0,timeout:8e3,maximumAge:0})})}async function yw(){const e=[{name:"ipapi.co",url:"https://ipapi.co/json/",parse:t=>({lat:t.latitude,lng:t.longitude})},{name:"geolocation-db",url:"https://geolocation-db.com/json/",parse:t=>({lat:parseFloat(t.latitude),lng:parseFloat(t.longitude)})}];for(const t of e)try{const r=await fetch(t.url,{headers:{Accept:"application/json"}});if(!r.ok)continue;const n=await r.json();if(n.latitude&&n.longitude)return t.parse(n)}catch{continue}throw new Error("IP geolocation failed")}async function vw(){console.log("[Geolocation] Starting location acquisition...");try{console.log("[Geolocation] Attempting device geolocation...");const e=await xw();return console.log(`[Geolocation] Device location: ${e.lat}, ${e.lng} (accuracy: ${e.accuracy.toFixed(0)}m)`),e}catch(e){console.warn("[Geolocation] Device location unavailable:",e.message),console.log("[Geolocation] Falling back to IP geolocation...");try{const t=await yw();return console.log(`[Geolocation] IP location: ${t.lat}, ${t.lng}`),t}catch{throw console.error("[Geolocation] All methods failed"),new Error("Unable to determine location. Please enable device location or check internet connection.")}}}async function ww(e,t){try{console.log("[ReverseGeocode] Converting coordinates to address...");const r=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${e},${t}&language=en&key=${gw}`);if(!r.ok)throw new Error(`Geocoding API error: ${r.status}`);const n=await r.json();if(n.status==="ZERO_RESULTS")return console.warn("[ReverseGeocode] No address found for coordinates"),{line1:`${e.toFixed(5)}, ${t.toFixed(5)}`,neighborhood:"",city:"Unknown",state:"Unknown",country:"Unknown",postal_code:""};if(!n.results||n.results.length===0)throw new Error("No geocoding results");const s=n.results.sort((l,c)=>{const u=d=>{var v;let m=0;const f=d.types||[],y=(v=d.geometry)==null?void 0:v.location_type;return y==="ROOFTOP"?m+=20:y==="RANGE_INTERPOLATED"?m+=10:y==="GEOMETRIC_CENTER"&&(m+=5),f.includes("subpremise")?m+=5:f.includes("premise")?m+=4:f.includes("street_address")?m+=3:f.includes("route")?m+=2:f.includes("intersection")&&(m+=1),m};return u(c)-u(l)})[0],a=l=>{const c=s.address_components.find(u=>l.some(d=>u.types.includes(d)));return(c==null?void 0:c.long_name)||(c==null?void 0:c.short_name)||""},o={line1:s.formatted_address.split(",")[0].trim(),neighborhood:a(["neighborhood","sublocality_level_1","sublocality"]),city:a(["locality","administrative_area_level_2","administrative_area_level_3"]),state:a(["administrative_area_level_1"]),country:a(["country"]),postal_code:a(["postal_code"])};return console.log("[ReverseGeocode] Address extracted:",o),o}catch(r){throw console.error("[ReverseGeocode] Error:",r),r}}async function bw(){try{console.log("[AddressTracking] Getting delivery address...");const e=await vw(),t=await ww(e.lat,e.lng),r={lat:e.lat,lng:e.lng,...t};return console.log("[AddressTracking] Delivery address obtained successfully"),r}catch(e){throw console.error("[AddressTracking] Failed:",e),e}}function _w(){var Sr,R,U,M,te,de;const{user:e,signOut:t,loading:r}=uc(),n=me(),[s,a]=_.useState("orders"),[o,l]=_.useState([]),[c,u]=_.useState([]),[d,m]=_.useState(null),[f,y]=_.useState([]),[v,g]=_.useState(null),[w,p]=_.useState(!1),[h,x]=_.useState(!1),[b,S]=_.useState({display_name:"",email:""}),[k,j]=_.useState({line1:"",line2:"",neighborhood:"",city:"",state:"",country:"",postal_code:"",label:"Home"}),[N,P]=_.useState(!1);_.useEffect(()=>{!r&&!e&&n("/login"),e&&C()},[e,r,n]);const C=async()=>{var E;p(!0);try{const{data:V}=await T.from("user_profiles").select("*").eq("user_id",e.id).single();if(m(V),S({display_name:(V==null?void 0:V.display_name)||"",email:(e==null?void 0:e.email)||""}),V!=null&&V.avatar_url){const ut=await td(V.avatar_url);g(ut)}else if((E=e==null?void 0:e.user_metadata)!=null&&E.avatar_url){const ut=await td(e.user_metadata.avatar_url);g(ut)}const{data:Q}=await T.from("addresses").select("*").eq("user_id",e.id);y(Q||[]);const{data:re}=await T.from("orders").select("*").eq("user_id",e.id).order("placed_at",{ascending:!1});if(re&&re.length>0){const ut=re.map(As=>As.id),{data:Er}=await T.from("order_items").select("*, products(name, product_images(url))").in("order_id",ut),hp=re.map(As=>({...As,order_items:(Er==null?void 0:Er.filter(fp=>fp.order_id===As.id))||[]}));l(hp)}else l([]);const{data:Te}=await T.from("carts").select("id").eq("user_id",e.id).single();if(Te!=null&&Te.id){const{data:ut}=await T.from("cart_items").select("*, products ( name, price, product_images ( url ) )").eq("cart_id",Te.id);u(ut||[])}else u([])}catch(V){console.error("Error fetching data:",V),u([])}finally{p(!1)}},F=async()=>{await t(),n("/login")},I=()=>{S({display_name:(d==null?void 0:d.display_name)||"",email:(e==null?void 0:e.email)||""}),x(!0)},H=async()=>{try{p(!0);const{error:E}=await T.from("user_profiles").update({display_name:b.display_name}).eq("user_id",e.id);if(E)throw E;console.log("[Profile] Profile updated successfully"),m({...d,display_name:b.display_name}),x(!1)}catch(E){console.error("[Profile] Error saving profile:",E)}finally{p(!1)}},B=async()=>{try{P(!0);const E=await bw();j({line1:E.line1,neighborhood:E.neighborhood,city:E.city,state:E.state,country:E.country,postal_code:E.postal_code,label:"Current Location"})}catch(E){const V=E.message;let Q="Failed to get location.";V.includes("not supported")?Q="Geolocation is not supported in your browser.":V.includes("permission denied")?Q="Please enable location access in your browser settings and try again.":V.includes("timed out")?Q="Location request timed out. Please ensure location services are enabled.":V.includes("internet")&&(Q="Please check your internet connection and try again."),alert(Q),console.error("[AddressTracking] Location error:",E)}finally{P(!1)}},G=async()=>{try{p(!0);const E=[k.line1,k.neighborhood].filter(Boolean).join(", ");console.log("[Address] Saving address:",{...k,line1:E});const{data:V}=await T.from("addresses").select("id").eq("user_id",e.id).single(),Q={user_id:e.id,label:k.label,line1:E,line2:k.line2,city:k.city,state:k.state,country:k.country,postal_code:k.postal_code};if(V){const{error:re}=await T.from("addresses").update(Q).eq("id",V.id);if(re)throw re}else{const{error:re}=await T.from("addresses").insert(Q);if(re)throw re}console.log("[Address] Address saved successfully"),await C(),x(!1)}catch(E){console.error("[Address] Error saving address:",E)}finally{p(!1)}},Nr=[{id:"orders",label:"Orders",icon:Pu,description:"Track your purchases"},{id:"cart",label:"Cart",icon:sn,description:"Items in your cart"},{id:"addresses",label:"Addresses",icon:nr,description:"Delivery locations"},{id:"payment",label:"Payment",icon:ca,description:"Cards & billing"},{id:"profile",label:"Profile",icon:Hn,description:"Personal info"}];return r||w&&!d&&!o.length?i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:i.jsxs("div",{className:"text-center",children:[i.jsx(J,{className:"animate-spin text-[#FFC92E] mx-auto mb-4",size:48}),i.jsx("p",{className:"text-gray-500",children:"Loading your dashboard..."})]})}):i.jsxs("div",{className:"min-h-screen bg-black text-white",children:[i.jsx("div",{className:"section py-12",children:i.jsxs("div",{className:"max-w-7xl mx-auto",children:[i.jsxs("div",{className:"mb-8 relative overflow-hidden rounded-2xl bg-gradient-to-r from-[#0B0B0B] via-[#111] to-[#0B0B0B] p-8 border border-[#FFC92E]/30 shadow-[0_0_30px_rgba(255,201,46,0.1)]",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#FEFDFE] via-[#FFC92E] to-[#DE9D0D] opacity-5"}),i.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#FFC92E] rounded-full blur-[80px] opacity-10"}),i.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("div",{className:"p-2 bg-[#FFC92E]/10 rounded-full border border-[#FFC92E]/20",children:i.jsx(Pu,{className:"text-[#FFC92E]",size:28,strokeWidth:1.5})}),i.jsx("h1",{className:"text-4xl font-serif font-bold bg-gradient-to-r from-[#FEFDFE] via-[#FFC92E] to-[#DE9D0D] bg-clip-text text-transparent drop-shadow-[0_2px_4px_rgba(0,0,0,0.5)]",children:"Welcome Back"})]}),i.jsx("p",{className:"text-gray-400 text-lg",children:(d==null?void 0:d.display_name)||((Sr=e==null?void 0:e.user_metadata)==null?void 0:Sr.full_name)||"Valued Customer"})]}),i.jsxs("div",{className:"flex items-center gap-8 bg-white/5 px-6 py-3 rounded-xl border border-white/5",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-1 font-bold",children:"Total Orders"}),i.jsx("p",{className:"text-2xl font-bold bg-gradient-to-b from-[#FFC92E] to-[#DE9D0D] bg-clip-text text-transparent",children:o.length})]}),i.jsx("div",{className:"w-px h-10 bg-gradient-to-b from-transparent via-white/10 to-transparent"}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-1 font-bold",children:"Member Tier"}),i.jsxs("p",{className:"text-lg font-semibold text-white flex items-center gap-1 justify-end",children:[i.jsx(Hn,{size:14,className:"fill-[#FFC92E] text-[#FFC92E]"}),"Gold"]})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[i.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-[#0F0F0F] p-6 border border-[#FFC92E]/20 shadow-xl group",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#FFC92E]/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#FEFDFE] via-[#FFC92E] to-[#DE9D0D] rounded-full blur opacity-40 group-hover:opacity-60 transition-opacity duration-500"}),i.jsx("div",{className:"relative w-24 h-24 rounded-full p-[2px] bg-gradient-to-r from-[#FEFDFE] via-[#FFC92E] to-[#DE9D0D]",children:i.jsx("div",{className:"w-full h-full rounded-full bg-[#0B0B0B] flex items-center justify-center overflow-hidden",children:v?i.jsx("img",{src:v,alt:"Profile",className:"w-full h-full object-cover"}):i.jsx("span",{className:"text-3xl font-bold bg-gradient-to-r from-[#FFC92E] to-[#DE9D0D] bg-clip-text text-transparent",children:(((R=d==null?void 0:d.display_name)==null?void 0:R[0])||((U=e==null?void 0:e.email)==null?void 0:U[0])||"U").toUpperCase()})})}),i.jsx("div",{className:"absolute bottom-0 right-0 bg-[#0B0B0B] rounded-full p-1 border border-[#FFC92E]",children:i.jsx("div",{className:"w-3 h-3 bg-[#00FF00] rounded-full animate-pulse"})})]}),i.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:(d==null?void 0:d.display_name)||((M=e==null?void 0:e.user_metadata)==null?void 0:M.full_name)||"Valued Customer"}),i.jsx("p",{className:"text-xs text-gray-500 mb-6 font-mono",children:e==null?void 0:e.email}),i.jsx("button",{onClick:I,className:"w-full py-2 rounded-lg bg-[#FFC92E]/10 border border-[#FFC92E]/30 text-[#FFC92E] text-xs font-bold uppercase tracking-widest hover:bg-[#FFC92E] hover:text-black transition-all duration-300",children:"Edit Profile"})]})]}),i.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/5 bg-[#0F0F0F] shadow-lg",children:[Nr.map(E=>i.jsxs("button",{onClick:()=>a(E.id),className:`w-full flex items-center gap-4 p-5 transition-all duration-300 text-left border-b border-white/5 last:border-b-0 group relative overflow-hidden
                                            ${s===E.id?"bg-white/5":"hover:bg-white/5"}`,children:[s===E.id&&i.jsx("div",{className:"absolute inset-y-0 left-0 w-1 bg-gradient-to-b from-[#FFC92E] to-[#DE9D0D]"}),i.jsx("div",{className:`relative z-10 p-2 rounded-lg transition-all duration-300 ${s===E.id?"bg-gradient-to-br from-[#FFC92E] to-[#DE9D0D] text-black shadow-[0_0_15px_rgba(255,201,46,0.3)]":"bg-white/5 text-gray-400 group-hover:text-[#FFC92E] group-hover:bg-[#FFC92E]/10"}`,children:i.jsx(E.icon,{size:18,strokeWidth:s===E.id?2.5:2})}),i.jsxs("div",{className:"flex-1 relative z-10",children:[i.jsx("div",{className:`text-sm font-bold tracking-wide transition-colors ${s===E.id?"text-white":"text-gray-400 group-hover:text-white"}`,children:E.label}),i.jsx("div",{className:`text-[10px] uppercase tracking-wider ${s===E.id?"text-[#FFC92E]":"text-gray-600"}`,children:E.description})]}),i.jsx(Es,{size:16,className:`relative z-10 transition-all duration-300 ${s===E.id?"text-[#FFC92E] translate-x-0":"text-gray-600 -translate-x-2 opacity-0 group-hover:opacity-100 group-hover:translate-x-0"}`})]},E.id)),i.jsxs("button",{onClick:F,className:"w-full flex items-center gap-4 p-5 text-gray-500 hover:text-red-400 transition-all text-left group relative overflow-hidden hover:bg-red-500/5",children:[i.jsx("div",{className:"p-2 rounded-lg bg-white/5 group-hover:bg-red-500/10 transition-all",children:i.jsx(Rf,{size:18,strokeWidth:2})}),i.jsx("span",{className:"font-medium text-sm tracking-wide",children:"Sign Out"})]})]})]}),i.jsxs("div",{className:"lg:col-span-3",children:[i.jsx("div",{className:"mb-6 flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("h2",{className:"text-2xl font-serif font-bold text-white",children:(te=Nr.find(E=>E.id===s))==null?void 0:te.label}),i.jsx("div",{className:"h-px w-12 bg-[#FFC92E]/30"})]})}),s==="orders"&&i.jsx("div",{className:"space-y-6",children:o.length===0?i.jsx("div",{className:"relative overflow-hidden rounded-2xl bg-[#0F0F0F] p-16 text-center border border-dashed border-[#FFC92E]/20",children:i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-20 h-20 bg-[#FFC92E]/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-[#FFC92E]/20",children:i.jsx(sn,{size:32,className:"text-[#FFC92E]",strokeWidth:1.5})}),i.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"No orders placed yet"}),i.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Start your collection of premium products today."}),i.jsxs("button",{onClick:()=>n("/shop"),className:"inline-flex items-center gap-2 px-8 py-3 bg-gradient-to-r from-[#FFC92E] to-[#DE9D0D] text-black font-bold rounded-lg hover:shadow-[0_0_20px_rgba(255,201,46,0.3)] transition-all transform hover:-translate-y-0.5",children:[i.jsx(nr,{size:18}),"Explore Shop"]})]})}):o.map(E=>{var V;return i.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-[#0F0F0F] border border-white/5 shadow-lg hover:border-[#FFC92E]/30 transition-all duration-300 group",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#FFC92E]/0 via-[#FFC92E]/5 to-[#FFC92E]/0 opacity-0 group-hover:opacity-100 transition-opacity"}),i.jsx("div",{className:"relative z-10 p-6 border-b border-white/5 bg-white/[0.02]",children:i.jsxs("div",{className:"flex flex-wrap gap-6 justify-between items-center",children:[i.jsxs("div",{className:"flex gap-8",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-1 font-bold",children:"Order ID"}),i.jsxs("p",{className:"font-mono text-white text-sm",children:["#",E.id.slice(0,8).toUpperCase()]})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-1 font-bold",children:"Date"}),i.jsx("p",{className:"text-gray-300 text-sm",children:new Date(E.placed_at).toLocaleDateString()})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-1 font-bold",children:"Total"}),i.jsxs("p",{className:"text-lg font-bold text-[#FFC92E]",children:["$",E.total_amount.toLocaleString()]})]})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsx("span",{className:"px-3 py-1 rounded border border-[#FFC92E]/30 text-[10px] font-bold uppercase tracking-widest text-[#FFC92E] bg-[#FFC92E]/10",children:E.status})})]})}),i.jsx("div",{className:"relative z-10 p-6 space-y-4",children:(V=E.order_items)==null?void 0:V.map(Q=>{var re,Te,ut,Er;return i.jsxs("div",{className:"flex gap-4 items-center p-3 rounded-lg hover:bg-white/5 transition-colors border border-transparent hover:border-white/5",children:[i.jsx("div",{className:"w-16 h-16 bg-white/5 rounded overflow-hidden flex-shrink-0 border border-white/10",children:((ut=(Te=(re=Q.products)==null?void 0:re.product_images)==null?void 0:Te[0])==null?void 0:ut.url)&&i.jsx("img",{src:Q.products.product_images[0].url,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity",alt:""})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-white font-medium mb-1",children:(Er=Q.products)==null?void 0:Er.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",Q.quantity,"  $",Q.unit_price]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"font-bold text-white",children:["$",(Q.quantity*Q.unit_price).toLocaleString()]})})]},Q.id)})})]},E.id)})}),s==="cart"&&i.jsx("div",{className:"space-y-6",children:c.length===0?i.jsx("div",{className:"relative overflow-hidden rounded-2xl bg-[#0F0F0F] p-16 text-center border border-dashed border-[#FFC92E]/20",children:i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"w-20 h-20 bg-[#FFC92E]/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-[#FFC92E]/20",children:i.jsx(gt,{size:32,className:"text-[#FFC92E]",strokeWidth:1.5})}),i.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Your cart is empty"}),i.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Add items to your cart to get started."}),i.jsxs("button",{onClick:()=>n("/shop"),className:"inline-flex items-center gap-2 px-8 py-3 bg-gradient-to-r from-[#FFC92E] to-[#DE9D0D] text-black font-bold rounded-lg hover:shadow-[0_0_20px_rgba(255,201,46,0.3)] transition-all transform hover:-translate-y-0.5",children:[i.jsx(nr,{size:18}),"Start Shopping"]})]})}):i.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-[#0F0F0F] border border-white/5 shadow-lg group",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#FFC92E]/0 via-[#FFC92E]/5 to-[#FFC92E]/0 opacity-0 group-hover:opacity-100 transition-opacity"}),i.jsx("div",{className:"relative z-10 p-6 border-b border-white/5 bg-white/[0.02]",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-bold text-white",children:"Cart Preview"}),i.jsxs("span",{className:"px-3 py-1 rounded bg-[#FFC92E]/10 border border-[#FFC92E]/30 text-[#FFC92E] text-sm font-bold",children:[c.length," item",c.length!==1?"s":""]})]})}),i.jsx("div",{className:"relative z-10 p-6 space-y-4",children:c.map(E=>{var V,Q,re,Te;return i.jsxs("div",{className:"flex gap-4 items-center p-3 rounded-lg hover:bg-white/5 transition-colors border border-transparent hover:border-white/5",children:[i.jsx("div",{className:"w-16 h-16 bg-white/5 rounded overflow-hidden flex-shrink-0 border border-white/10",children:((re=(Q=(V=E.products)==null?void 0:V.product_images)==null?void 0:Q[0])==null?void 0:re.url)&&i.jsx("img",{src:E.products.product_images[0].url,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity",alt:""})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-white font-medium mb-1",children:(Te=E.products)==null?void 0:Te.name}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",E.quantity,"  $",parseFloat(E.price_at_time).toFixed(2)]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"font-bold text-white",children:["$",(E.quantity*parseFloat(E.price_at_time)).toLocaleString(void 0,{maximumFractionDigits:2})]})})]},E.id)})}),i.jsxs("div",{className:"relative z-10 p-6 border-t border-white/5 bg-white/[0.01]",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("p",{className:"text-gray-400",children:"Subtotal"}),i.jsxs("p",{className:"text-white font-bold",children:["$",c.reduce((E,V)=>E+V.quantity*parseFloat(V.price_at_time),0).toLocaleString(void 0,{maximumFractionDigits:2})]})]}),i.jsxs("button",{onClick:()=>n("/cart"),className:"w-full py-3 bg-gradient-to-r from-[#FFC92E] to-[#DE9D0D] text-black font-bold rounded-lg hover:shadow-[0_0_20px_rgba(255,201,46,0.3)] transition-all flex items-center justify-center gap-2",children:[i.jsx(sn,{size:18}),"View Full Cart"]})]})]})}),s==="addresses"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-[#0F0F0F] p-8 border border-[#FFC92E]/20 shadow-lg",children:[i.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#FFC92E] rounded-full blur-[100px] opacity-5"}),i.jsxs("div",{className:"relative z-10 max-w-3xl mx-auto",children:[i.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2 mb-8",children:[i.jsx(cr,{size:24,className:"text-[#FFC92E]"}),"Delivery Addresses"]}),f.length>0&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-10",children:f.map(E=>i.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:border-[#FFC92E]/30 transition-all group relative overflow-hidden",children:[i.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-0 group-hover:opacity-100 transition-opacity",children:i.jsx("div",{className:"w-2 h-2 rounded-full bg-[#FFC92E] shadow-[0_0_10px_#FFC92E]"})}),i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("p",{className:"font-bold text-white text-base",children:E.label}),i.jsx("span",{className:"p-1 rounded-full bg-[#FFC92E]/10 text-[#FFC92E]",children:i.jsx(cr,{size:12})})]}),i.jsxs("div",{className:"space-y-1 text-sm text-gray-400",children:[i.jsx("p",{className:"text-gray-300 font-medium",children:E.line1}),E.line2&&i.jsx("p",{children:E.line2}),i.jsxs("p",{children:[E.city,", ",E.state," ",E.postal_code]}),i.jsx("p",{children:E.country})]})]},E.id))}),i.jsxs("div",{className:"bg-white/[0.02] rounded-xl p-6 border border-white/5",children:[i.jsxs("h4",{className:"text-lg font-bold text-white mb-6 flex items-center gap-2",children:[i.jsx(nr,{size:16,className:"text-[#FFC92E]"}),"Add / Update Address"]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Address Label"}),i.jsx("input",{type:"text",value:k.label,onChange:E=>j({...k,label:E.target.value}),placeholder:"e.g., Home, Work",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Address Line 1"}),i.jsx("input",{type:"text",value:k.line1,onChange:E=>j({...k,line1:E.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Neighborhood/Region (Added to Line 1)"}),i.jsx("input",{type:"text",value:k.neighborhood,onChange:E=>j({...k,neighborhood:E.target.value}),placeholder:"e.g., Shonibare Estate",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Address Line 2 (Optional)"}),i.jsx("input",{type:"text",value:k.line2,onChange:E=>j({...k,line2:E.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"City"}),i.jsx("input",{type:"text",value:k.city,onChange:E=>j({...k,city:E.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"State/Province"}),i.jsx("input",{type:"text",value:k.state,onChange:E=>j({...k,state:E.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Country"}),i.jsx("input",{type:"text",value:k.country,onChange:E=>j({...k,country:E.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Postal Code"}),i.jsx("input",{type:"text",value:k.postal_code,onChange:E=>j({...k,postal_code:E.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]})]}),i.jsx("button",{onClick:B,disabled:N,className:"w-full py-3 bg-white/5 border border-white/10 hover:border-[#FFC92E]/50 text-white font-bold rounded-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",title:"Uses device GPS for accuracy, falls back to IP geolocation",children:N?i.jsxs(i.Fragment,{children:[i.jsx(J,{size:18,className:"animate-spin"}),"Getting Location..."]}):i.jsxs(i.Fragment,{children:[i.jsx(cr,{size:18}),"Use Current Location"]})}),i.jsx("button",{onClick:G,disabled:w,className:"w-full py-4 bg-gradient-to-r from-[#FFC92E] to-[#DE9D0D] text-black font-bold rounded-lg hover:shadow-[0_0_20px_rgba(255,201,46,0.2)] transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:w?i.jsxs(i.Fragment,{children:[i.jsx(J,{size:18,className:"animate-spin"}),"Saving Address..."]}):i.jsxs(i.Fragment,{children:[i.jsx(nr,{size:18}),"Save Address"]})})]})]})]})]})}),s==="profile"&&i.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-[#0F0F0F] p-8 border border-[#FFC92E]/20 shadow-lg",children:[i.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#FFC92E] rounded-full blur-[100px] opacity-5"}),i.jsxs("form",{className:"relative z-10 space-y-6 max-w-2xl",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Full Name"}),i.jsx("input",{type:"text",defaultValue:(d==null?void 0:d.display_name)||((de=e==null?void 0:e.user_metadata)==null?void 0:de.full_name),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Phone"}),i.jsx("input",{type:"tel",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Email"}),i.jsx("input",{disabled:!0,value:e==null?void 0:e.email,className:"w-full bg-black/20 border border-white/5 rounded-lg p-3 text-gray-500 cursor-not-allowed"})]}),i.jsxs("button",{type:"button",className:"px-8 py-3 bg-gradient-to-r from-[#FFC92E] to-[#DE9D0D] text-black font-bold rounded-lg hover:shadow-[0_0_20px_rgba(255,201,46,0.2)] transition-all flex items-center gap-2",children:[i.jsx(nr,{size:18}),"Save Changes"]})]})]})]})]})]})}),h&&i.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-[#0F0F0F] border border-[#FFC92E]/30 shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"sticky top-0 p-6 border-b border-white/5 bg-gradient-to-r from-[#0B0B0B] via-[#111] to-[#0B0B0B] flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Edit Profile & Addresses"}),i.jsx("button",{onClick:()=>x(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:i.jsx(et,{size:24,className:"text-white"})})]}),i.jsxs("div",{className:"p-6 space-y-8",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[i.jsx(Hn,{size:20,className:"text-[#FFC92E]"}),"Personal Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Full Name"}),i.jsx("input",{type:"text",value:b.display_name,onChange:E=>S({...b,display_name:E.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Email"}),i.jsx("input",{type:"email",disabled:!0,value:b.email,className:"w-full bg-black/20 border border-white/5 rounded-lg p-3 text-gray-500 cursor-not-allowed"})]})]})]}),i.jsxs("div",{className:"space-y-4 border-t border-white/5 pt-8",children:[i.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[i.jsx(cr,{size:20,className:"text-[#FFC92E]"}),"Delivery Addresses"]}),f.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-sm text-gray-400",children:"Your saved addresses:"}),f.map(E=>i.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10",children:[i.jsx("p",{className:"font-semibold text-white text-sm mb-1",children:E.label}),i.jsx("p",{className:"text-xs text-gray-400",children:E.line1}),E.neighborhood&&i.jsx("p",{className:"text-xs text-gray-400",children:E.neighborhood}),E.line2&&i.jsx("p",{className:"text-xs text-gray-400",children:E.line2}),i.jsxs("p",{className:"text-xs text-gray-400",children:[E.city,", ",E.state," ",E.postal_code]})]},E.id))]}),i.jsxs("div",{className:"space-y-4 mt-6 p-4 rounded-lg bg-white/[0.02] border border-white/5",children:[i.jsx("h4",{className:"text-sm font-bold text-white",children:"Add New Address"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Address Label"}),i.jsx("input",{type:"text",value:k.label,onChange:E=>j({...k,label:E.target.value}),placeholder:"e.g., Home, Work, Apartment",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Address Line 1"}),i.jsx("input",{type:"text",value:k.line1,onChange:E=>j({...k,line1:E.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Neighborhood/Region"}),i.jsx("input",{type:"text",value:k.neighborhood,onChange:E=>j({...k,neighborhood:E.target.value}),placeholder:"e.g., Shonibare Estate, Maryland",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Address Line 2 (Optional)"}),i.jsx("input",{type:"text",value:k.line2,onChange:E=>j({...k,line2:E.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"City"}),i.jsx("input",{type:"text",value:k.city,onChange:E=>j({...k,city:E.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"State/Province"}),i.jsx("input",{type:"text",value:k.state,onChange:E=>j({...k,state:E.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Country"}),i.jsx("input",{type:"text",value:k.country,onChange:E=>j({...k,country:E.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Postal Code"}),i.jsx("input",{type:"text",value:k.postal_code,onChange:E=>j({...k,postal_code:E.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]})]}),i.jsx("button",{onClick:B,disabled:N,className:"w-full py-3 bg-white/5 border border-white/10 hover:border-[#FFC92E]/50 text-white font-bold rounded-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",title:"Uses device GPS for accuracy, falls back to IP geolocation",children:N?i.jsxs(i.Fragment,{children:[i.jsx(J,{size:18,className:"animate-spin"}),"Getting Location..."]}):i.jsxs(i.Fragment,{children:[i.jsx(cr,{size:18}),"Use Current Location"]})})]})]})]}),i.jsxs("div",{className:"sticky bottom-0 p-6 border-t border-white/5 bg-gradient-to-r from-[#0B0B0B] via-[#111] to-[#0B0B0B] flex gap-4",children:[i.jsx("button",{onClick:()=>x(!1),className:"flex-1 py-3 bg-white/5 border border-white/10 text-white font-bold rounded-lg hover:bg-white/10 transition-all",children:"Cancel"}),i.jsx("button",{onClick:()=>{H(),G()},disabled:w,className:"flex-1 py-3 bg-gradient-to-r from-[#FFC92E] to-[#DE9D0D] text-black font-bold rounded-lg hover:shadow-[0_0_20px_rgba(255,201,46,0.3)] transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:w?i.jsxs(i.Fragment,{children:[i.jsx(J,{size:18,className:"animate-spin"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(nr,{size:18}),"Save Changes"]})})]})]})})]})}function jw({products:e,onProductClick:t}){const r=_.useRef(null),[n,s]=_.useState(0),[a,o]=_.useState(!1),l=300,c=24,u=3e3;_.useEffect(()=>{if(a)return;const f=setInterval(()=>{const y=(n+1)%e.length;d(y)},u);return()=>clearInterval(f)},[n,a,e.length]);const d=f=>{r.current&&(r.current.scrollTo({left:f*(l+c),behavior:"smooth"}),s(f))},m=()=>{if(!r.current)return;const f=r.current.scrollLeft,y=Math.round(f/(l+c));s(y)};return i.jsxs("div",{className:"relative w-full py-12 overflow-hidden",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[i.jsx("div",{ref:r,onScroll:m,className:`\r
          flex gap-6 px-12 overflow-x-auto\r
          scroll-smooth\r
          snap-x snap-mandatory\r
          overflow-y-hidden\r
        `,style:{minHeight:"500px",msOverflowStyle:"none",scrollbarWidth:"none"},children:e.map((f,y)=>{const v=y===n;return i.jsx("div",{className:`
                snap-center shrink-0 transition-all duration-500
                ${v?"scale-100 opacity-100":"scale-90 opacity-50"}
              `,style:{width:l,minHeight:"420px",display:"flex",alignItems:"center"},children:i.jsx("div",{className:"glass-border shadow-2xl w-full",style:{height:"450px"},children:i.jsx(ip,{product:f,onProductClick:t})})},f.id)})}),i.jsx("div",{className:"flex justify-center gap-2 mt-6",children:e.map((f,y)=>i.jsx("button",{onClick:()=>d(y),className:`rounded-full transition-all duration-300 ${y===n?"w-3 h-3 bg-[#D4AF37]":"w-2 h-2 bg-white/30 hover:bg-white/50"}`},y))})]})}const kw=({texts:e,speed:t=18,pause:r=1300})=>{const[n,s]=_.useState(0),[a,o]=_.useState(""),[l,c]=_.useState(!1);return _.useEffect(()=>{let u=!0,d;const m=e[n%e.length],f=()=>{u&&(o(y=>l?m.substring(0,y.length-1):m.substring(0,y.length+1)),!l&&a===m?d=window.setTimeout(()=>c(!0),r):l&&a===""?(c(!1),s(y=>y+1)):d=window.setTimeout(f,l?t/2:t))};return d=window.setTimeout(f,t),()=>{u=!1,clearTimeout(d)}},[a,l,n,e,t,r]),i.jsxs("span",{className:"typing-text",children:[a,i.jsx("span",{className:"typing-caret","aria-hidden":!0,children:""})]})},Ja=({children:e,className:t=""})=>{const r=_.useRef(null);return _.useEffect(()=>{const n=r.current;if(!n||!("IntersectionObserver"in window)){n==null||n.classList.add("in-view");return}const s=new IntersectionObserver(a=>{a.forEach(o=>{o.isIntersecting&&(o.target.classList.add("in-view"),s.unobserve(o.target))})},{threshold:.15});return s.observe(n),()=>s.disconnect()},[]),i.jsx("div",{ref:r,className:`reveal ${t}`,children:e})};function Nw({onNavigate:e}){var o,l;const t=me(),[r,n]=_.useState([]),[s,a]=_.useState(!0);return _.useEffect(()=>{(async()=>{try{const{data:u,error:d}=await T.from("products").select(`
            *,
            product_images (url, alt_text, position),
            product_categories (
              categories (name)
            )
          `).eq("published",!0).order("created_at",{ascending:!1}).limit(8);if(d)throw d;u&&n(u.map(m=>{var f,y,v,g,w,p;return{id:m.id,name:m.name,brand:m.brand,short_description:m.short_description,image:((y=(f=m.product_images)==null?void 0:f.sort((h,x)=>(h.position||0)-(x.position||0))[0])==null?void 0:y.url)||null,product_images:((v=m.product_images)==null?void 0:v.sort((h,x)=>(h.position||0)-(x.position||0)))||[],category:((p=(w=(g=m.product_categories)==null?void 0:g[0])==null?void 0:w.categories)==null?void 0:p.name)||"Uncategorized"}}))}catch(u){console.error("Error loading featured products:",u)}finally{a(!1)}})()},[]),i.jsxs("div",{children:[i.jsx("main",{className:"flex items-center justify-center w-full py-12 lg:py-20 px-6 lg:px-10",children:i.jsx("div",{className:"w-full max-w-[1280px]",children:i.jsxs("div",{className:"flex flex-col-reverse lg:flex-row items-center gap-16 lg:gap-32",children:[i.jsxs("div",{className:"flex flex-col gap-8 flex-1 lg:max-w-[50%]",children:[i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"h-px w-8 bg-[#d4af37]"}),i.jsx("span",{className:"text-[#d4af37] text-xs font-bold uppercase tracking-widest",children:"Est. 2024"})]}),i.jsx("h1",{className:"text-slate-900 text-5xl sm:text-6xl lg:text-7xl font-extrabold leading-[1.1]",style:{fontFamily:"'Oswald', sans-serif",textShadow:"0 0 6px rgba(236,211,141,0.03), 0 0 14px rgba(231,227,214,0.36)"},children:i.jsx(kw,{texts:["Collect the Exceptional.","Embrace Luxury.","Redefine Excellence."]})}),i.jsx("p",{className:"text-lg sm:text-xl text-slate-600 max-w-[540px]",children:"Discover a curated selection of artifacts designed for the few, not the many. Elevate your everyday with unparalleled craftsmanship."})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[i.jsx("button",{onClick:()=>t("/shop"),className:"group relative h-14 px-8 min-w-[180px] rounded-lg bg-gradient-to-r from-[#BF953F] via-[#FCF6BA] to-[#B38728] text-white font-bold uppercase shadow-lg transition active:scale-95",children:"Shop Collection"}),i.jsx("button",{onClick:()=>t("/shop"),className:"h-14 px-8 min-w-[180px] rounded-lg border border-slate-200 font-bold uppercase hover:bg-slate-50",children:"Explore More"}),i.jsx("button",{onClick:()=>t("/vendor/dashboard"),className:"h-14 px-8 min-w-[180px] rounded-lg bg-slate-900 text-white font-bold uppercase border border-slate-700 hover:bg-slate-800",children:"Vendor Portal"})]}),i.jsxs("div",{className:"flex items-center gap-8 pt-8 border-t border-slate-100",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"text-2xl font-bold",children:[r.length,"+"]}),i.jsx("p",{className:"text-sm text-slate-500",children:"Exclusive Items"})]}),i.jsx("div",{className:"w-px h-10 bg-slate-200"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold",children:"Global"}),i.jsx("p",{className:"text-sm text-slate-500",children:"Shipping Available"})]})]})]}),i.jsx("div",{className:"relative w-full lg:flex-1 aspect-square max-h-[700px]",children:i.jsxs("div",{className:"absolute inset-0 rounded-2xl overflow-hidden bg-slate-100 shadow-2xl",children:[(o=r[0])!=null&&o.image?i.jsx("img",{src:r[0].image,alt:r[0].name,className:"w-full h-full object-cover transition-transform duration-700 hover:scale-105"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-400",children:"Premium Collection"}),i.jsxs("div",{className:"absolute bottom-6 left-6 right-6 bg-white/95 backdrop-blur p-5 rounded-xl flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-500 font-bold",children:"Featured Collection"}),i.jsx("p",{className:"font-bold text-lg",children:((l=r[0])==null?void 0:l.name)||"Luxury Items"})]}),i.jsx("button",{onClick:()=>{var c;return e("product",(c=r[0])==null?void 0:c.id)},className:"size-10 rounded-full bg-black text-white flex items-center justify-center",children:i.jsx(Es,{size:20})})]})]})})]})})}),i.jsxs("section",{className:"section",children:[i.jsxs("div",{className:"flex justify-between items-end mb-12",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-serif text-[#D4AF37] mb-4",children:"Featured Collection"}),i.jsx("p",{className:"text-muted max-w-xl",children:"Curated selection of our most exclusive pieces."})]}),i.jsx("button",{onClick:()=>e("shop"),className:"link-gold",children:"View All "})]}),!s&&i.jsx(jw,{products:r,onProductClick:c=>e("product",c)})]}),i.jsx("section",{className:"features-section",children:i.jsxs("div",{className:"container grid grid-cols-3 gap-12",children:[i.jsxs(Ja,{className:"feature-item",children:[i.jsx(Hn,{size:32}),i.jsx("h4",{children:"Premium Quality"}),i.jsx("p",{children:"Only the finest materials"})]}),i.jsxs(Ja,{className:"feature-item",children:[i.jsx(Df,{size:32}),i.jsx("h4",{children:"Authenticity Guaranteed"}),i.jsx("p",{children:"Verified & certified"})]}),i.jsxs(Ja,{className:"feature-item",children:[i.jsx(Uf,{size:32}),i.jsx("h4",{children:"White Glove Delivery"}),i.jsx("p",{children:"Luxury shipping worldwide"})]})]})})]})}const lp=_.createContext({currentSeason:"none",showGreeting:!1,dismissGreeting:()=>{}});function Sw({children:e}){const[t,r]=_.useState("none"),[n,s]=_.useState(!1);_.useEffect(()=>{const l=new Date().getMonth();let c="none";if(l===11?c="winter":l===1&&(c="valentine"),r(c),c!=="none"){const u=localStorage.getItem("lastGreetingDate"),d=new Date().toDateString();u!==d&&s(!0)}},[]);const a=()=>{s(!1);const o=new Date().toDateString();localStorage.setItem("lastGreetingDate",o)};return i.jsx(lp.Provider,{value:{currentSeason:t,showGreeting:n,dismissGreeting:a},children:e})}const cp=()=>_.useContext(lp);function Ew(){const[e,t]=_.useState([]);_.useEffect(()=>{let n=new Date().toISOString();const s=T.channel("public:global_notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"global_notifications"},o=>{console.log("Realtime notification received:",o);const l=o.new;l.created_at>n&&(n=l.created_at),t(c=>c.some(u=>u.id===l.id)?c:[l,...c].slice(0,3)),setTimeout(()=>{t(c=>c.filter(u=>u.id!==l.id))},8e3)}).subscribe(),a=setInterval(async()=>{const{data:o}=await T.from("global_notifications").select("*").gt("created_at",n).order("created_at",{ascending:!0});o&&o.length>0&&(console.log("Polled new notifications:",o),n=o[o.length-1].created_at,o.forEach(l=>{t(c=>c.some(u=>u.id===l.id)?c:[l,...c].slice(0,3)),setTimeout(()=>{t(c=>c.filter(u=>u.id!==l.id))},8e3)}))},3e3);return()=>{clearInterval(a),T.removeChannel(s)}},[]);const r=n=>{t(s=>s.filter(a=>a.id!==n))};return console.log("GlobalNotifications rendering with:",e.length,"notifications"),e.length===0?null:i.jsx("div",{className:"fixed bottom-5 left-5 z-50 flex flex-col gap-3 max-w-sm w-full pointer-events-none",style:{zIndex:9999},children:e.map((n,s)=>i.jsx("div",{className:"pointer-events-auto bg-[#0A0A0A]/90 backdrop-blur-md border border-(--gold-primary)/30 p-4 rounded-lg shadow-2xl transform transition-all duration-500 ease-out animate-in slide-in-from-left-full",style:{animationDelay:`${s*100}ms`},children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"p-2 bg-(--gold-primary)/10 rounded-full shrink-0",children:i.jsx(sn,{size:18,className:"text-(--gold-primary)"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-white/90 text-sm leading-relaxed font-light",children:n.message}),i.jsx("span",{className:"text-[10px] text-white/40 mt-1 block",children:"Just now"})]}),i.jsx("button",{onClick:()=>r(n.id),className:"text-white/40 hover:text-white transition-colors shrink-0",children:i.jsx(et,{size:14})})]})},n.id))})}function Cw(){const{currentSeason:e}=cp();if(e==="none")return null;const r=(n=>Array.from({length:n},(s,a)=>({id:a,left:Math.random()*100,animationDelay:Math.random()*5})))(20);return i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"seasonal-overlay",children:[e==="winter"&&i.jsx(i.Fragment,{children:r.map(n=>i.jsx("div",{className:"snowflake",style:{left:`${n.left}%`,animationDelay:`${n.animationDelay}s`},children:""},n.id))}),e==="valentine"&&i.jsx(i.Fragment,{children:r.map(n=>i.jsx("div",{className:"heart",style:{left:`${n.left}%`,animationDelay:`${n.animationDelay}s`},children:""},n.id))})]}),i.jsx("div",{className:"seasonal-banner",children:i.jsx("div",{className:`corner-ribbon ${e==="valentine"?"valentine":""}`,children:e==="winter"?"Season's Greetings":"Happy Valentine's"})})]})}function Pw(){const{currentSeason:e,showGreeting:t,dismissGreeting:r}=cp();if(!t||e==="none")return null;const s={winter:{icon:"",title:"Happy Holidays!",message:"Wishing you a wonderful holiday season filled with joy and warmth."},valentine:{icon:"",title:"Happy Valentine's!",message:"Spread love and kindness this Valentine's Day."}}[e],a=o=>{o.target===o.currentTarget&&r()};return i.jsx("div",{className:"greeting-modal-backdrop",onClick:a,children:i.jsx("div",{className:"greeting-modal",children:i.jsxs("div",{className:"greeting-modal-content",children:[i.jsx("div",{className:"greeting-modal-icon",children:s.icon}),i.jsx("h2",{className:"greeting-modal-title",children:s.title}),i.jsx("p",{className:"greeting-modal-message",children:s.message}),i.jsx("button",{className:"greeting-modal-close",onClick:r,children:"Continue Shopping"})]})})})}function Ps(){const[e,t]=_.useState(null),[r,n]=_.useState(!0),[s,a]=_.useState(null),[o,l]=_.useState(!1),c=async()=>{try{n(!0),a(null);const{data:{user:u},error:d}=await T.auth.getUser();if(d)throw d;if(!u){t(null),l(!1);return}const{data:m,error:f}=await T.from("vendors").select("*").eq("user_id",u.id).single();if(f)if(f.code==="PGRST116")t(null),l(!1);else throw f;else t(m),l(!0)}catch(u){console.error("Error fetching vendor:",u),a(u instanceof Error?u.message:"Failed to fetch vendor data"),l(!1)}finally{n(!1)}};return _.useEffect(()=>{c()},[]),{vendor:e,loading:r,error:s,isVendor:o,refetch:c}}function Aw({children:e}){const t=me(),{vendor:r}=Ps(),n=async()=>{await T.auth.signOut(),t("/")},s=[{to:"/vendor/dashboard",icon:ax,label:"Dashboard"},{to:"/vendor/products",icon:gt,label:"Products"},{to:"/vendor/orders",icon:ps,label:"Orders"},{to:"/vendor/profile",icon:oc,label:"Profile"}];return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white border-b border-gray-200",children:i.jsx("div",{className:"max-w-full mx-auto px-4",children:i.jsxs("div",{className:"flex items-center justify-between h-16",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("button",{onClick:()=>t("/"),className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 transition",children:[i.jsx(sc,{size:20}),i.jsx("span",{className:"hidden sm:inline",children:"Back to Store"})]}),i.jsx("div",{className:"h-6 w-px bg-gray-300"}),i.jsx("h1",{className:"text-xl font-bold text-gray-900",children:(r==null?void 0:r.business_name)||"Vendor Portal"})]}),i.jsxs("button",{onClick:n,className:"inline-flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition",children:[i.jsx(Rf,{size:18}),i.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]})]})})}),i.jsx("div",{className:"bg-white border-b border-gray-200",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4",children:i.jsx("nav",{className:"flex gap-1 overflow-x-auto",children:s.map(a=>i.jsxs(W0,{to:a.to,className:({isActive:o})=>`inline-flex items-center gap-2 px-4 py-3 border-b-2 font-medium transition whitespace-nowrap ${o?"border-[#D4AF37] text-[#D4AF37]":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:[i.jsx(a.icon,{size:18}),a.label]},a.to))})})}),i.jsx("main",{className:"max-w-full mx-auto",children:e}),i.jsx("footer",{className:"bg-white border-t border-gray-200 mt-12",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:i.jsxs("p",{className:"text-center text-sm text-gray-600",children:[" ",new Date().getFullYear()," ",(r==null?void 0:r.business_name)||"My Superstore",". All rights reserved."]})})})]})}function Tw(){const e=me(),{vendor:t,loading:r,isVendor:n}=Ps(),[s,a]=_.useState({totalProducts:0,publishedProducts:0,pendingOrders:0,totalRevenue:0,totalViews:0}),[o,l]=_.useState(!0);_.useEffect(()=>{t&&c()},[t]);const c=async()=>{if(t)try{l(!0);const{data:u,error:d}=await T.from("products").select("id, published, view_count").eq("seller_id",t.id);if(d)throw d;const m=(u==null?void 0:u.length)||0,f=(u==null?void 0:u.filter(h=>h.published).length)||0,y=(u==null?void 0:u.reduce((h,x)=>h+(x.view_count||0),0))||0,v=(u==null?void 0:u.map(h=>h.id))||[];let g=0,w=[];if(v.length>0){const{count:h,error:x}=await T.from("order_items").select("order_id",{count:"exact",head:!0}).in("product_id",v).eq("orders.status","pending");x&&console.error("Error fetching orders:",x),g=h||0;const{data:b,error:S}=await T.from("order_items").select("quantity, unit_price").in("product_id",v);S&&console.error("Error fetching revenue:",S),w=b||[]}const p=(w==null?void 0:w.reduce((h,x)=>h+x.quantity*x.unit_price,0))||0;a({totalProducts:m,publishedProducts:f,pendingOrders:g,totalRevenue:p,totalViews:y})}catch(u){console.error("Error fetching stats:",u)}finally{l(!1)}};return r?i.jsx("div",{className:"flex justify-center items-center min-h-screen",children:i.jsx(J,{className:"animate-spin text-[#D4AF37]",size:48})}):!n||!t?i.jsx("div",{className:"flex flex-col items-center justify-center min-h-[60vh] px-4",children:i.jsxs("div",{className:"max-w-lg w-full bg-white rounded-lg shadow-lg p-8 border-2 border-[#D4AF37] text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-[#D4AF37]/10 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-[#D4AF37]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No Vendor Profile Found"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Set up your vendor profile to start selling products and managing your inventory."}),i.jsxs("button",{onClick:()=>e("/vendor/profile"),className:"btn-primary inline-flex items-center justify-center gap-2 mx-auto",children:[i.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Set Up Vendor Profile"]})]})}):o?i.jsx("div",{className:"flex justify-center items-center min-h-screen",children:i.jsx(J,{className:"animate-spin text-[#D4AF37]",size:48})}):i.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",t.business_name,"!"]}),i.jsx("p",{className:"text-gray-600",children:"Here's what's happening with your store today."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:i.jsx(gt,{className:"text-blue-600",size:24})}),i.jsx(zf,{className:"text-green-500",size:20})]}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalProducts}),i.jsx("p",{className:"text-sm text-gray-600",children:"Total Products"}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[s.publishedProducts," published"]})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:i.jsx(X0,{className:"text-green-600",size:24})})}),i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",s.totalRevenue.toFixed(2)]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All-time sales"})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:i.jsx(ps,{className:"text-yellow-600",size:24})})}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.pendingOrders}),i.jsx("p",{className:"text-sm text-gray-600",children:"Pending Orders"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Awaiting processing"})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[i.jsx("div",{className:"flex items-center justify-between mb-4",children:i.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:i.jsx(ic,{className:"text-purple-600",size:24})})}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalViews}),i.jsx("p",{className:"text-sm text-gray-600",children:"Total Views"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Product page views"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-8",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("button",{onClick:()=>e("/vendor/products/new"),className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:border-[#D4AF37] hover:bg-[#D4AF37]/5 transition",children:[i.jsx("div",{className:"p-2 bg-[#D4AF37]/10 rounded-lg",children:i.jsx(mn,{className:"text-[#D4AF37]",size:20})}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-medium text-gray-900",children:"Add Product"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Create a new listing"})]})]}),i.jsxs("button",{onClick:()=>e("/vendor/products"),className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:border-[#D4AF37] hover:bg-[#D4AF37]/5 transition",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:i.jsx(gt,{className:"text-blue-600",size:20})}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-medium text-gray-900",children:"View Products"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Manage your inventory"})]})]}),i.jsxs("button",{onClick:()=>e("/vendor/orders"),className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:border-[#D4AF37] hover:bg-[#D4AF37]/5 transition",children:[i.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:i.jsx(ps,{className:"text-yellow-600",size:20})}),i.jsxs("div",{className:"text-left",children:[i.jsx("p",{className:"font-medium text-gray-900",children:"View Orders"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Check pending orders"})]})]})]})]}),!t.is_verified&&i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:i.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-yellow-900 mb-1",children:"Account Verification Pending"}),i.jsx("p",{className:"text-sm text-yellow-800 mb-3",children:"Your vendor account is pending verification. Complete your profile to speed up the process."}),i.jsx("button",{onClick:()=>e("/vendor/profile"),className:"text-sm font-medium text-yellow-900 hover:underline",children:"Complete Profile "})]})]})})]})}function Fw(e={}){const{search:t="",publishedOnly:r=!1,limit:n=20,offset:s=0}=e,[a,o]=_.useState([]),[l,c]=_.useState(!0),[u,d]=_.useState(null),[m,f]=_.useState(0),y=async()=>{try{c(!0),d(null);const{data:{user:v},error:g}=await T.auth.getUser();if(g)throw g;if(!v)throw new Error("User not authenticated");const{data:w,error:p}=await T.from("vendors").select("id").eq("user_id",v.id).single();if(p)throw p;if(!w)throw new Error("Vendor profile not found");let h=T.from("products").select(`
          *,
          product_images(id, url, alt_text, position),
          product_specs(id, spec_key, spec_value),
          product_categories(categories(id, name, slug))
        `,{count:"exact"}).eq("seller_id",w.id).order("created_at",{ascending:!1});t&&(h=h.or(`name.ilike.%${t}%,sku.ilike.%${t}%,description.ilike.%${t}%`)),r&&(h=h.eq("published",!0)),h=h.range(s,s+n-1);const{data:x,error:b,count:S}=await h;if(b)throw b;o(x||[]),f(S||0)}catch(v){console.error("Error fetching vendor products:",v),d(v instanceof Error?v.message:"Failed to fetch products")}finally{c(!1)}};return _.useEffect(()=>{y()},[t,r,n,s]),{products:a,loading:l,error:u,total:m,refetch:y}}function Rw({product:e,onEdit:t,onDelete:r,onView:n}){var o;const s=(o=e.product_images)==null?void 0:o[0],a=s==null?void 0:s.url;return i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow h-full flex flex-col w-full max-w-[280px]",children:[i.jsxs("div",{className:"aspect-4/3 bg-gray-100 relative",children:[a?i.jsx("img",{src:s.url,alt:s.alt_text||e.name,className:"w-full h-full object-contain"}):i.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),i.jsx("div",{className:"absolute top-1 right-1",children:e.published?i.jsx("span",{className:"px-1 py-0.5 bg-green-500 text-white text-[9px] font-medium rounded",children:"Published"}):i.jsx("span",{className:"px-1 py-0.5 bg-gray-500 text-white text-[9px] font-medium rounded",children:"Draft"})}),e.stock===0&&i.jsx("div",{className:"absolute top-1 left-1",children:i.jsx("span",{className:"px-1 py-0.5 bg-red-500 text-white text-[9px] font-medium rounded",children:"Out of Stock"})})]}),i.jsxs("div",{className:"p-2 flex-1 flex flex-col",children:[i.jsx("h3",{className:"font-semibold text-xs text-gray-900 mb-0.5 line-clamp-2 leading-tight",children:e.name}),e.sku&&i.jsxs("p",{className:"text-[9px] text-gray-500 mb-1",children:["SKU: ",e.sku]}),i.jsxs("div",{className:"flex items-baseline gap-1.5 mb-1.5",children:[i.jsxs("span",{className:"text-base font-bold text-[#D4AF37]",children:["$",e.price.toFixed(2)]}),i.jsxs("span",{className:"text-[10px] text-gray-500",children:["Stock: ",e.stock]})]}),e.short_description&&i.jsx("p",{className:"text-[10px] text-gray-600 mb-1.5 line-clamp-2 leading-tight",children:e.short_description}),i.jsxs("div",{className:"flex gap-2 text-[9px] text-gray-500 mb-2 pb-1.5 border-b",children:[i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-gray-700",children:e.view_count})," views"]}),e.brand&&i.jsx("div",{className:"truncate",children:i.jsx("span",{className:"font-medium text-gray-700",children:e.brand})})]}),i.jsxs("div",{className:"flex gap-1 mt-auto",children:[i.jsxs("button",{onClick:()=>n(e.id),className:"flex-1 inline-flex items-center justify-center gap-0.5 px-1.5 py-1 text-[10px] font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded transition",children:[i.jsx(ic,{size:12}),"View"]}),i.jsxs("button",{onClick:()=>t(e.id),className:"flex-1 inline-flex items-center justify-center gap-0.5 px-1.5 py-1 text-[10px] font-medium text-white bg-[#D4AF37] hover:bg-[#B8941F] rounded transition",children:[i.jsx(Lf,{size:12}),"Edit"]}),i.jsx("button",{onClick:()=>r(e.id),className:"px-1.5 py-1 text-red-600 hover:bg-red-50 rounded transition","aria-label":"Delete product",children:i.jsx($f,{size:12})})]})]})]})}function up({isOpen:e,title:t,message:r,confirmText:n="Confirm",cancelText:s="Cancel",onConfirm:a,onCancel:o,variant:l="danger"}){return e?i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:o}),i.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6 animate-in fade-in zoom-in duration-200",children:[i.jsx("button",{onClick:o,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition",children:i.jsx(et,{size:20})}),i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center ${l==="danger"?"bg-red-100":"bg-yellow-100"}`,children:i.jsx(J0,{className:l==="danger"?"text-red-600":"text-yellow-600",size:24})}),i.jsxs("div",{className:"flex-1 pt-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t}),i.jsx("p",{className:"text-sm text-gray-600",children:r})]})]}),i.jsxs("div",{className:"flex gap-3 mt-6",children:[i.jsx("button",{onClick:o,className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition",children:s}),i.jsx("button",{onClick:a,className:`flex-1 px-4 py-2 text-sm font-medium text-white rounded-lg transition ${l==="danger"?"bg-red-600 hover:bg-red-700":"bg-yellow-600 hover:bg-yellow-700"}`,children:n})]})]})]}):null}function Ow(){const e=me(),[t,r]=_.useState(""),[n,s]=_.useState(!1),[a,o]=_.useState(0),[l,c]=_.useState(!1),[u,d]=_.useState(null),[m,f]=_.useState(!1),y=12,v=a*y,{products:g,loading:w,error:p,total:h,refetch:x}=Fw({search:t,publishedOnly:n,limit:y,offset:v}),b=Math.ceil(h/y),S=async()=>{if(u){f(!0);try{const{error:j}=await T.from("products").delete().eq("id",u);if(j)throw j;c(!1),d(null),x()}catch(j){console.error("Error deleting product:",j),alert("Failed to delete product")}finally{f(!1)}}},k=j=>{d(j),c(!0)};return i.jsxs("div",{className:"max-w-full mx-auto px-4 py-8",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Products"}),i.jsxs("p",{className:"text-gray-600 mt-1",children:[h," products total"]})]}),i.jsxs("button",{onClick:()=>e("/vendor/products/new"),className:"btn-primary inline-flex items-center gap-2",children:[i.jsx(mn,{size:20}),"Add Product"]})]}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(ac,{className:"absolute left-3 top-2.5 text-gray-400",size:20}),i.jsx("input",{type:"text",value:t,onChange:j=>{r(j.target.value),o(0)},placeholder:"Search products by name, SKU, or description...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent"})]}),i.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:n,onChange:j=>{s(j.target.checked),o(0)},className:"w-4 h-4 text-[#D4AF37] border-gray-300 rounded focus:ring-[#D4AF37]"}),i.jsx("span",{className:"text-sm text-gray-700",children:"Published only"})]})]})}),p&&i.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg mb-6",children:p}),w&&i.jsx("div",{className:"flex justify-center items-center py-20",children:i.jsx(J,{className:"animate-spin text-[#D4AF37]",size:48})}),!w&&g.length===0&&i.jsxs("div",{className:"text-center py-20",children:[i.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:t?"No products found":"No products yet"}),i.jsx("p",{className:"text-gray-600 mb-6",children:t?"Try adjusting your search or filters":"Get started by adding your first product"}),!t&&i.jsxs("button",{onClick:()=>e("/vendor/products/new"),className:"btn-primary inline-flex items-center gap-2",children:[i.jsx(mn,{size:20}),"Add Your First Product"]})]}),!w&&g.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 justify-items-center mb-8",children:g.map(j=>i.jsx(Rw,{product:j,onEdit:N=>e(`/vendor/products/${N}/edit`),onDelete:k,onView:N=>e(`/vendor/products/${N}`)},j.id))}),b>1&&i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("button",{onClick:()=>o(Math.max(0,a-1)),disabled:a===0,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Previous"}),i.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",a+1," of ",b]}),i.jsx("button",{onClick:()=>o(Math.min(b-1,a+1)),disabled:a>=b-1,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Next"})]})]}),i.jsx(up,{isOpen:l,title:"Delete Product",message:"Are you sure you want to delete this product? This action cannot be undone.",confirmText:m?"Deleting...":"Delete",onConfirm:S,onCancel:()=>{c(!1),d(null)},variant:"danger"})]})}const Iw="69bcf51fbec18d562474ec6674ff8539",Dw="https://api.imgbb.com/1/upload";async function dp(e){if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(e.type))throw new Error("Invalid file type. Only JPEG, PNG, WEBP, and GIF are allowed.");const r=5*1024*1024;if(e.size>r)throw new Error("File size exceeds 5MB limit");const n=new FormData;n.append("image",e),n.append("key",Iw);try{const s=await fetch(Dw,{method:"POST",body:n});if(!s.ok)throw new Error(`Upload failed: ${s.statusText}`);const a=await s.json();if(!a.success)throw new Error("ImgBB upload failed");return{url:a.data.url,displayUrl:a.data.display_url,deleteUrl:a.data.delete_url}}catch(s){throw console.error("ImgBB upload error:",s),new Error(s instanceof Error?s.message:"Failed to upload image to ImgBB")}}async function Lw(e){try{const r=(await fetch(e,{method:"HEAD"})).headers.get("content-type");return(r==null?void 0:r.startsWith("image/"))??!1}catch{return!1}}function $w({images:e,onChange:t,maxImages:r=10}){const[n,s]=_.useState("file"),[a,o]=_.useState(""),[l,c]=_.useState(!1),[u,d]=_.useState(null),[m,f]=_.useState(null),y=_.useRef(null),v=async k=>{if(!k||k.length===0)return;const j=k[0];c(!0),d(null);try{const P={url:(await dp(j)).displayUrl,alt_text:j.name.replace(/\.[^/.]+$/,""),position:e.length};t([...e,P])}catch(N){d(N instanceof Error?N.message:"Upload failed")}finally{c(!1)}},g=async()=>{if(a.trim()){c(!0),d(null);try{if(!await Lw(a))throw new Error("Invalid image URL");const j={url:a,alt_text:"",position:e.length};t([...e,j]),o("")}catch(k){d(k instanceof Error?k.message:"Invalid URL")}finally{c(!1)}}},w=k=>{const N=e.filter((P,C)=>C!==k).map((P,C)=>({...P,position:C}));t(N)},p=(k,j)=>{const N=[...e];N[k]={...N[k],alt_text:j},t(N)},h=k=>{f(k)},x=(k,j)=>{if(k.preventDefault(),m===null||m===j)return;const N=[...e],P=N[m];N.splice(m,1),N.splice(j,0,P);const C=N.map((F,I)=>({...F,position:I}));t(C),f(j)},b=()=>{f(null)},S=e.length<r;return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-2 mb-4",children:[i.jsx("button",{type:"button",onClick:()=>s("file"),className:`px-4 py-2 rounded-lg font-medium transition ${n==="file"?"bg-[#D4AF37] text-black":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Upload File"}),i.jsx("button",{type:"button",onClick:()=>s("url"),className:`px-4 py-2 rounded-lg font-medium transition ${n==="url"?"bg-[#D4AF37] text-black":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Paste URL"})]}),S&&i.jsxs(i.Fragment,{children:[n==="file"&&i.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[i.jsx("input",{ref:y,type:"file",accept:"image/*",onChange:k=>v(k.target.files),className:"hidden"}),i.jsx(Jo,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),i.jsx("p",{className:"text-gray-600 mb-2",children:"Drag & drop or click to upload"}),i.jsx("button",{type:"button",onClick:()=>{var k;return(k=y.current)==null?void 0:k.click()},disabled:l,className:"btn-primary inline-flex items-center gap-2",children:l?i.jsxs(i.Fragment,{children:[i.jsx(J,{className:"animate-spin",size:16}),"Uploading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Jo,{size:16}),"Choose File"]})}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"PNG, JPG, WEBP up to 5MB"})]}),n==="url"&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"url",value:a,onChange:k=>o(k.target.value),placeholder:"https://example.com/image.jpg",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",onKeyDown:k=>k.key==="Enter"&&g()})}),i.jsx("button",{type:"button",onClick:g,disabled:l||!a.trim(),className:"btn-primary inline-flex items-center gap-2",children:l?i.jsx(J,{className:"animate-spin",size:16}):i.jsxs(i.Fragment,{children:[i.jsx(ox,{size:16}),"Add URL"]})})]})]}),u&&i.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg",children:u}),e.length>0&&i.jsxs("div",{className:"space-y-3",children:[i.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Images (",e.length,"/",r,")"]}),e.map((k,j)=>i.jsxs("div",{draggable:!0,onDragStart:()=>h(j),onDragOver:N=>x(N,j),onDragEnd:b,className:"flex items-start gap-3 p-3 border border-gray-200 rounded-lg bg-white hover:border-gray-300 transition cursor-move",children:[i.jsx(tx,{className:"text-gray-400 mt-1 flex-shrink-0",size:20}),i.jsx("img",{src:k.url,alt:k.alt_text||"Product image",className:"w-20 h-20 object-cover rounded border border-gray-200 flex-shrink-0"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("input",{type:"text",value:k.alt_text||"",onChange:N=>p(j,N.target.value),placeholder:"Alt text (optional)",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent"}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1 truncate",children:["Position: ",j+1]})]}),i.jsx("button",{type:"button",onClick:()=>w(j),className:"p-2 text-red-600 hover:bg-red-50 rounded transition flex-shrink-0",children:i.jsx(et,{size:18})})]},j))]}),!S&&i.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Maximum ",r," images reached"]})]})}function zw({specs:e,onChange:t}){const r=()=>{const o={spec_key:"",spec_value:""};t([...e,o])},n=o=>{t(e.filter((l,c)=>c!==o))},s=(o,l)=>{const c=[...e];c[o]={...c[o],spec_key:l},t(c)},a=(o,l)=>{const c=[...e];c[o]={...c[o],spec_value:l},t(c)};return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Specifications"}),i.jsxs("button",{type:"button",onClick:r,className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-[#D4AF37] hover:bg-[#D4AF37]/10 rounded-lg transition",children:[i.jsx(mn,{size:16}),"Add Spec"]})]}),e.length===0&&i.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[i.jsx("p",{className:"text-gray-500 text-sm",children:"No specifications added yet"}),i.jsx("button",{type:"button",onClick:r,className:"mt-2 text-[#D4AF37] hover:underline text-sm font-medium",children:"Add your first specification"})]}),e.length>0&&i.jsx("div",{className:"space-y-2",children:e.map((o,l)=>i.jsxs("div",{className:"flex gap-2 items-start",children:[i.jsx("input",{type:"text",value:o.spec_key,onChange:c=>s(l,c.target.value),placeholder:"Key (e.g., Weight)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent"}),i.jsx("input",{type:"text",value:o.spec_value||"",onChange:c=>a(l,c.target.value),placeholder:"Value (e.g., 2.5kg)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent"}),i.jsx("button",{type:"button",onClick:()=>n(l),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition","aria-label":"Remove specification",children:i.jsx(et,{size:20})})]},l))}),e.length>0&&i.jsxs("p",{className:"text-xs text-gray-500",children:[e.length," specification",e.length!==1?"s":""," added"]})]})}function Uw({selectedIds:e,onChange:t}){const[r,n]=_.useState([]),[s,a]=_.useState(!0),[o,l]=_.useState(!1);_.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:f,error:y}=await T.from("categories").select("*").order("name");if(y)throw y;n(f||[])}catch(f){console.error("Error fetching categories:",f)}finally{a(!1)}},u=f=>{e.includes(f)?t(e.filter(y=>y!==f)):t([...e,f])},d=f=>{t(e.filter(y=>y!==f))},m=r.filter(f=>e.includes(f.id));return i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Categories"}),m.length>0&&i.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:m.map(f=>i.jsxs("div",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-[#D4AF37]/10 text-[#D4AF37] rounded-full text-sm font-medium",children:[f.name,i.jsx("button",{type:"button",onClick:()=>d(f.id),className:"hover:bg-[#D4AF37]/20 rounded-full p-0.5",children:i.jsx(et,{size:14})})]},f.id))}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{type:"button",onClick:()=>l(!o),className:"w-full px-4 py-2 text-left border border-gray-300 rounded-lg bg-white hover:border-gray-400 focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent transition flex items-center justify-between",children:[i.jsx("span",{className:"text-gray-700",children:e.length>0?`${e.length} selected`:"Select categories"}),i.jsx(la,{className:`text-gray-400 transition-transform ${o?"rotate-180":""}`,size:20})]}),o&&i.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[s&&i.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"Loading categories..."}),!s&&r.length===0&&i.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No categories available"}),!s&&r.map(f=>{const y=e.includes(f.id);return i.jsxs("label",{className:"flex items-center px-4 py-2 hover:bg-gray-50 cursor-pointer transition",children:[i.jsx("input",{type:"checkbox",checked:y,onChange:()=>u(f.id),className:"w-4 h-4 text-[#D4AF37] border-gray-300 rounded focus:ring-[#D4AF37]"}),i.jsx("span",{className:"ml-3 text-sm text-gray-700",children:f.name})]},f.id)})]})]}),e.length===0&&i.jsx("p",{className:"text-xs text-gray-500",children:"Select at least one category for your product"})]})}function rd(){const{id:e}=nc(),t=me(),{vendor:r,loading:n}=Ps(),s=!!e,[a,o]=_.useState({name:"",sku:"",price:0,stock:0,short_description:"",description:"",brand:"",published:!1,images:[],specs:[],category_ids:[]}),[l,c]=_.useState(s),[u,d]=_.useState(!1),[m,f]=_.useState(null),[y,v]=_.useState(!1),[g,w]=_.useState(0),[p,h]=_.useState(0);_.useEffect(()=>{s&&e&&x(e)},[e,s]);const x=async j=>{try{c(!0);const{data:N,error:P}=await T.from("products").select(`
          *,
          product_images(*),
          product_specs(*),
          product_categories(category_id)
        `).eq("id",j).single();if(P)throw P;N&&o({name:N.name,sku:N.sku||"",price:N.price,stock:N.stock,short_description:N.short_description||"",description:N.description||"",brand:N.brand||"",published:N.published,images:(N.product_images||[]).sort((C,F)=>C.position-F.position),specs:N.product_specs||[],category_ids:(N.product_categories||[]).map(C=>C.category_id)})}catch(N){console.error("Error fetching product:",N),f("Failed to load product")}finally{c(!1)}},b=async j=>{if(j.preventDefault(),!r){f("Vendor profile not found");return}d(!0),f(null);try{if(!a.name.trim())throw new Error("Product name is required");if(a.price<=0)throw new Error("Price must be greater than 0");if(a.category_ids.length===0)throw new Error("Select at least one category");s&&e?await k(e):await S(),t("/vendor/products")}catch(N){console.error("Error saving product:",N),f(N instanceof Error?N.message:"Failed to save product")}finally{d(!1)}},S=async()=>{if(!r)return;const j=a.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),{data:N,error:P}=await T.from("products").insert({name:a.name,slug:j,sku:a.sku||null,short_description:a.short_description||null,description:a.description||null,price:a.price,stock:a.stock,brand:a.brand||null,published:a.published,seller_id:r.id}).select().single();if(P)throw P;if(a.images.length>0){const C=a.images.map(I=>({product_id:N.id,url:I.url,alt_text:I.alt_text,position:I.position})),{error:F}=await T.from("product_images").insert(C);if(F)throw F}if(a.specs.length>0){const C=a.specs.filter(F=>F.spec_key.trim()).map(F=>({product_id:N.id,spec_key:F.spec_key,spec_value:F.spec_value}));if(C.length>0){const{error:F}=await T.from("product_specs").insert(C);if(F)throw F}}if(a.category_ids.length>0){const C=a.category_ids.map(I=>({product_id:N.id,category_id:I})),{error:F}=await T.from("product_categories").insert(C);if(F)throw F}},k=async j=>{const{error:N}=await T.from("products").update({name:a.name,sku:a.sku||null,short_description:a.short_description||null,description:a.description||null,price:a.price,stock:a.stock,brand:a.brand||null,published:a.published,updated_at:new Date().toISOString()}).eq("id",j);if(N)throw N;if(await T.from("product_images").delete().eq("product_id",j),a.images.length>0){const C=a.images.map(I=>({product_id:j,url:I.url,alt_text:I.alt_text,position:I.position})),{error:F}=await T.from("product_images").insert(C);if(F)throw F}await T.from("product_specs").delete().eq("product_id",j);const P=a.specs.filter(C=>C.spec_key.trim());if(P.length>0){const C=P.map(I=>({product_id:j,spec_key:I.spec_key,spec_value:I.spec_value})),{error:F}=await T.from("product_specs").insert(C);if(F)throw F}if(await T.from("product_categories").delete().eq("product_id",j),a.category_ids.length>0){const C=a.category_ids.map(I=>({product_id:j,category_id:I})),{error:F}=await T.from("product_categories").insert(C);if(F)throw F}};return n||l?i.jsx("div",{className:"flex items-center justify-center min-h-screen",children:i.jsx(J,{className:"animate-spin text-[#D4AF37]",size:48})}):r?i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("button",{onClick:()=>t("/vendor/products"),className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[i.jsx(sc,{size:20}),"Back to Products"]}),i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s?"Edit Product":"New Product"})]}),m&&i.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg mb-6",children:m}),i.jsxs("form",{onSubmit:b,className:"space-y-8",children:[i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Basic Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),i.jsx("input",{type:"text",value:a.name,onChange:j=>o({...a,name:j.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"Enter product name"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU"}),i.jsx("input",{type:"text",value:a.sku,onChange:j=>o({...a,sku:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"e.g., PROD-001"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),i.jsx("input",{type:"text",value:a.brand,onChange:j=>o({...a,brand:j.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"Enter brand name"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price *"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",id:"isPriceRange",checked:y,onChange:j=>v(j.target.checked),className:"w-4 h-4 cursor-pointer"}),i.jsx("label",{htmlFor:"isPriceRange",className:"text-sm text-gray-600 cursor-pointer",children:"Use price range"})]}),y?i.jsxs("div",{className:"space-y-2",children:[i.jsx("p",{children:"Min Price"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:"$"}),i.jsx("input",{type:"number",value:g,onChange:j=>w(parseFloat(j.target.value)||0),min:"0",step:"0.01",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"Min: 0.00"})]}),i.jsx("p",{children:"Max Price"}),i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:"$"}),i.jsx("input",{type:"number",value:p,onChange:j=>h(parseFloat(j.target.value)||0),min:"0",step:"0.01",className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"Max: 0.00"})]})]}):i.jsxs("div",{className:"relative",children:[i.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:"$"}),i.jsx("input",{type:"number",value:a.price,onChange:j=>o({...a,price:parseFloat(j.target.value)||0}),min:"0",step:"0.01",required:!0,className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"0.00"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock *"}),i.jsx("input",{type:"number",value:a.stock,onChange:j=>o({...a,stock:parseInt(j.target.value)||0}),min:"0",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"0"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Short Description"}),i.jsx("input",{type:"text",value:a.short_description,onChange:j=>o({...a,short_description:j.target.value}),maxLength:200,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"Brief product description (max 200 characters)"}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.short_description.length,"/200 characters"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("textarea",{value:a.description,onChange:j=>o({...a,description:j.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"Detailed product description"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Images"}),i.jsx($w,{images:a.images,onChange:j=>o({...a,images:j}),maxImages:10})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Categories *"}),i.jsx(Uw,{selectedIds:a.category_ids,onChange:j=>o({...a,category_ids:j})})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Specifications"}),i.jsx(zw,{specs:a.specs,onChange:j=>o({...a,specs:j})})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Publishing"}),i.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:a.published,onChange:j=>o({...a,published:j.target.checked}),className:"w-5 h-5 text-[#D4AF37] border-gray-300 rounded focus:ring-[#D4AF37]"}),i.jsxs("div",{children:[i.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Publish this product"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Published products are visible to customers"})]})]})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("button",{type:"button",onClick:()=>t("/vendor/products"),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:u,className:"flex-1 btn-primary inline-flex items-center justify-center gap-2",children:u?i.jsxs(i.Fragment,{children:[i.jsx(J,{className:"animate-spin",size:20}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(If,{size:20}),s?"Update Product":"Create Product"]})})]})]})]}):i.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-12 text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Vendor Access Required"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"You need a vendor account to manage products."}),i.jsx("button",{onClick:()=>t("/vendor/profile"),className:"btn-primary",children:"Set Up Vendor Profile"})]})}function Mw(){var g,w;const{id:e}=nc(),t=me(),[r,n]=_.useState(null),[s,a]=_.useState(!0),[o,l]=_.useState(!1),[c,u]=_.useState(!1);_.useEffect(()=>{e&&d(e)},[e]);const d=async p=>{try{const{data:h,error:x}=await T.from("products").select(`
          *,
          product_images(*),
          product_specs(*),
          product_categories(categories(*))
        `).eq("id",p).single();if(x)throw x;n(h)}catch(h){console.error("Error fetching product:",h)}finally{a(!1)}},m=async()=>{if(e){u(!0);try{const{error:p}=await T.from("products").delete().eq("id",e);if(p)throw p;t("/vendor/products")}catch(p){console.error("Error deleting product:",p),alert("Failed to delete product")}finally{u(!1)}}};if(s)return i.jsx("div",{className:"flex justify-center items-center min-h-screen",children:i.jsx(J,{className:"animate-spin text-[#D4AF37]",size:48})});if(!r)return i.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-12 text-center",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product Not Found"}),i.jsx("button",{onClick:()=>t("/vendor/products"),className:"btn-primary",children:"Back to Products"})]});const f=((g=r.product_images)==null?void 0:g.sort((p,h)=>p.position-h.position))||[],y=r.product_specs||[],v=((w=r.product_categories)==null?void 0:w.map(p=>p.categories).filter(Boolean))||[];return i.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsxs("button",{onClick:()=>t("/vendor/products"),className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[i.jsx(sc,{size:20}),"Back to Products"]}),i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r.name}),r.published?i.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-sm font-medium rounded-full",children:"Published"}):i.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm font-medium rounded-full",children:"Draft"})]}),r.sku&&i.jsxs("p",{className:"text-gray-500",children:["SKU: ",r.sku]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>t(`/vendor/products/${r.id}/edit`),className:"btn-primary inline-flex items-center gap-2",children:[i.jsx(Lf,{size:18}),"Edit"]}),i.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 text-red-600 border border-red-600 hover:bg-red-50 rounded-lg transition",children:i.jsx($f,{size:18})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-[#D4AF37]/10 rounded-lg",children:i.jsx(gt,{className:"text-[#D4AF37]",size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.stock}),i.jsx("p",{className:"text-sm text-gray-600",children:"In Stock"})]})]})}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:i.jsx(ic,{className:"text-blue-600",size:24})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.view_count}),i.jsx("p",{className:"text-sm text-gray-600",children:"Views"})]})]})}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:i.jsx(zf,{className:"text-green-600",size:24})}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",r.price.toFixed(2)]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Price"})]})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Images"}),f.length>0?i.jsx("div",{className:"space-y-4",children:f.map((p,h)=>i.jsxs("div",{children:[i.jsx("img",{src:p.url,alt:p.alt_text||`Product image ${h+1}`,className:"w-full rounded-lg border border-gray-200"}),p.alt_text&&i.jsx("p",{className:"text-sm text-gray-600 mt-2",children:p.alt_text})]},p.id||h))}):i.jsx("p",{className:"text-gray-500 text-sm",children:"No images uploaded"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Details"}),i.jsxs("dl",{className:"space-y-3",children:[r.brand&&i.jsxs("div",{children:[i.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Brand"}),i.jsx("dd",{className:"text-sm text-gray-900",children:r.brand})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Price"}),i.jsxs("dd",{className:"text-2xl font-bold text-[#D4AF37]",children:["$",r.price.toFixed(2)]})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Stock"}),i.jsx("dd",{className:`text-sm font-medium ${r.stock>0?"text-green-600":"text-red-600"}`,children:r.stock>0?`${r.stock} units available`:"Out of stock"})]})]})]}),v.length>0&&i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Categories"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(p=>i.jsx("span",{className:"px-3 py-1 bg-[#D4AF37]/10 text-[#D4AF37] rounded-full text-sm font-medium",children:p.name},p.id))})]}),y.length>0&&i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Specifications"}),i.jsx("dl",{className:"space-y-2",children:y.map(p=>i.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 last:border-0",children:[i.jsx("dt",{className:"text-sm font-medium text-gray-700",children:p.spec_key}),i.jsx("dd",{className:"text-sm text-gray-900",children:p.spec_value})]},p.id))})]})]})]}),(r.short_description||r.description)&&i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mt-8",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Description"}),r.short_description&&i.jsx("p",{className:"text-gray-700 mb-4 font-medium",children:r.short_description}),r.description&&i.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:r.description})]}),i.jsx(up,{isOpen:o,title:"Delete Product",message:"Are you sure you want to delete this product? This action cannot be undone.",confirmText:c?"Deleting...":"Delete",onConfirm:m,onCancel:()=>l(!1),variant:"danger"})]})}function Bw(){const{vendor:e,loading:t}=Ps(),[r,n]=_.useState([]),[s,a]=_.useState(!0),[o,l]=_.useState("all"),[c,u]=_.useState(null);_.useEffect(()=>{e&&d()},[e,o]);const d=async()=>{if(e)try{a(!0),console.log("Fetching orders for vendor:",e.id);const{data:g,error:w}=await T.from("order_items").select("*").eq("vendor_id",e.id);if(console.log("Step 1 - Order items:",{orderItems:g,error:w}),w)throw w;if(!g||g.length===0){console.warn("No order items found for vendor:",e.id),n([]);return}const p=[...new Set(g.map(I=>I.order_id).filter(Boolean))];if(console.log("Order IDs from order_items:",p),p.length===0){n([]);return}const{data:h,error:x}=await T.from("orders").select("*").in("id",p).eq("status","paid");if(console.log("Step 2 - Orders:",{ordersData:h,error:x}),x)throw x;if(!h||h.length===0){console.warn("No paid orders found"),n([]);return}const b=[...new Set(g.map(I=>I.product_id).filter(Boolean))];let S=[];if(b.length>0){const{data:I,error:H}=await T.from("products").select("id, name, price, sku, product_images(url, position)").in("id",b);console.log("Step 3 - Products:",{products:I,error:H}),H?console.error("Error fetching products:",H):S=I||[]}const k=[...new Set(h.map(I=>I.shipping_address_id).filter(Boolean))];let j=[];if(k.length>0){const{data:I,error:H}=await T.from("addresses").select("*").in("id",k);console.log("Step 4 - Addresses:",{addresses:I,error:H}),H?console.error("Error fetching addresses:",H):j=I||[]}const{data:N,error:P}=await T.from("payments").select("*").in("order_id",p.map(I=>I));console.log("Step 5 - Payments:",{paymentsData:N,error:P}),P&&console.error("Error fetching payments:",P);const C=new Map;h.forEach(I=>{const H=j.find(B=>B.id===I.shipping_address_id);C.set(I.id,{...I,order_items:[],payments:(N==null?void 0:N.filter(B=>B.order_id===I.id))||[],shipping_address:H||null})}),g.forEach(I=>{const H=C.get(I.order_id);if(H){const B=S.find(G=>G.id===I.product_id);H.order_items=H.order_items||[],H.order_items.push({...I,products:B||null})}});let F=Array.from(C.values());o!=="all"&&o!=="paid"&&(F=F.filter(I=>I.status===o)),console.log("Final orders list:",F.length,F),n(F)}catch(g){console.error("Error fetching orders:",g)}finally{a(!1)}};if(t||s)return i.jsx("div",{className:"flex justify-center items-center min-h-screen",children:i.jsx(J,{className:"animate-spin text-[#D4AF37]",size:48})});const m=g=>{switch(g){case"pending":return i.jsx(Q0,{className:"text-yellow-600",size:20});case"completed":return i.jsx(Tf,{className:"text-green-600",size:20});case"shipped":return i.jsx(gt,{className:"text-blue-600",size:20});case"cancelled":return i.jsx(mx,{className:"text-red-600",size:20});default:return null}},f=g=>{switch(g){case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"shipped":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=async(g,w)=>{if(!g)return;const p=`${g.line1||""}${g.line2?`
`+g.line2:""}
${g.city||""}, ${g.state||""} ${g.postal_code||""}
${g.country||""}`;try{await navigator.clipboard.writeText(p),u(w),setTimeout(()=>u(null),2e3)}catch(h){console.error("Failed to copy address:",h)}},v=g=>{switch(g.toLowerCase()){case"success":case"paid":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return i.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Orders"}),i.jsx("p",{className:"text-gray-600",children:"Manage orders containing your products"})]}),i.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-6",children:i.jsx("div",{className:"flex gap-2 overflow-x-auto",children:["all","pending","shipped","completed","cancelled"].map(g=>i.jsx("button",{onClick:()=>l(g),className:`px-4 py-2 rounded-lg font-medium transition whitespace-nowrap ${o===g?"bg-[#D4AF37] text-black":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:g.charAt(0).toUpperCase()+g.slice(1)},g))})}),r.length===0?i.jsxs("div",{className:"text-center py-20 bg-white rounded-lg border border-gray-200",children:[i.jsx(gt,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Orders Found"}),i.jsx("p",{className:"text-gray-600",children:o==="all"?"No orders containing your products yet":`No ${o} orders`})]}):i.jsx("div",{className:"space-y-4",children:r.map(g=>{var w;return i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4 pb-4 border-b border-gray-200",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Order #",g.id.slice(0,8)]}),i.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${f(g.status)}`,children:[m(g.status),g.status.charAt(0).toUpperCase()+g.status.slice(1)]})]}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Placed on ",new Date(g.placed_at).toLocaleDateString()," at"," ",new Date(g.placed_at).toLocaleTimeString()]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-2xl font-bold text-[#D4AF37]",children:["$",g.total_amount.toFixed(2)]}),i.jsx("p",{className:"text-sm text-gray-600",children:g.currency})]})]}),i.jsxs("div",{className:"space-y-3 mb-4",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"Your Products in this Order:"}),(w=g.order_items)==null?void 0:w.map(p=>{var h,x,b,S,k;return i.jsxs("div",{className:"flex items-center gap-4 py-2 px-3 bg-gray-50 rounded-lg",children:[(b=(x=(h=p.products)==null?void 0:h.product_images)==null?void 0:x[0])!=null&&b.url?i.jsx("img",{src:p.products.product_images[0].url,alt:p.products.name||"Product",className:"w-16 h-16 object-cover rounded flex-shrink-0"}):i.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded flex-shrink-0 flex items-center justify-center",children:i.jsx(gt,{className:"text-gray-400",size:24})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-gray-900",children:((S=p.products)==null?void 0:S.name)||"Unknown Product"}),((k=p.products)==null?void 0:k.sku)&&i.jsxs("p",{className:"text-xs text-gray-500",children:["SKU: ",p.products.sku]}),i.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",p.quantity,"  $",p.unit_price.toFixed(2)]})]}),i.jsxs("p",{className:"font-semibold text-gray-900",children:["$",(p.quantity*p.unit_price).toFixed(2)]})]},p.id)})]}),g.payments&&g.payments.length>0&&i.jsxs("div",{className:"pt-4 border-t border-gray-200 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(ca,{className:"text-gray-600",size:18}),i.jsx("h4",{className:"font-medium text-gray-900",children:"Payment Information"})]}),g.payments.map(p=>i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Provider"}),i.jsx("span",{className:"text-sm font-medium text-gray-900 capitalize",children:p.provider})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Status"}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${v(p.status)}`,children:p.status.toUpperCase()})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Amount"}),i.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:[p.currency," ",p.amount.toFixed(2)]})]}),p.provider_payment_id&&i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"Transaction ID"}),i.jsxs("span",{className:"text-xs font-mono text-gray-700",children:[p.provider_payment_id.slice(0,20),"..."]})]})]},p.id))]}),g.shipping_address&&i.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:"Shipping Address"}),i.jsxs("button",{onClick:()=>y(g.shipping_address,g.id),className:"flex items-center gap-1 px-3 py-1 text-sm text-blue-600 hover:text-blue-800 hover:bg-blue-50 rounded transition-colors",children:[i.jsx(Y0,{size:14}),c===g.id?"Copied!":"Copy"]})]}),i.jsxs("div",{className:"text-sm text-gray-600 bg-gray-50 p-3 rounded-lg",children:[i.jsx("p",{className:"text-gray-900",children:g.shipping_address.line1}),g.shipping_address.line2&&i.jsx("p",{className:"text-gray-900",children:g.shipping_address.line2}),i.jsxs("p",{className:"text-gray-900",children:[g.shipping_address.city,", ",g.shipping_address.state," ",g.shipping_address.postal_code]}),i.jsx("p",{className:"text-gray-900",children:g.shipping_address.country})]})]})]},g.id)})})]})}function Ww(){const{vendor:e,loading:t,refetch:r}=Ps(),[n,s]=_.useState({business_name:"",email:"",phone:"",country:"",city:"",address:"",bank_name:"",bank_account_number:"",bank_account_name:"",payout_currency:"USD",logo_url:""}),[a,o]=_.useState(!1),[l,c]=_.useState(!1),[u,d]=_.useState(null),[m,f]=_.useState(!1);_.useEffect(()=>{e&&s({business_name:e.business_name,email:e.email,phone:e.phone||"",country:e.country||"",city:e.city||"",address:e.address||"",bank_name:e.bank_name||"",bank_account_number:e.bank_account_number||"",bank_account_name:e.bank_account_name||"",payout_currency:e.payout_currency||"USD",logo_url:e.logo_url||""})},[e]);const y=async g=>{o(!0),d(null);try{const w=await dp(g);s({...n,logo_url:w.displayUrl})}catch(w){d(w instanceof Error?w.message:"Logo upload failed")}finally{o(!1)}},v=async g=>{var w,p;g.preventDefault(),c(!0),d(null),f(!1);try{if(!((w=n.business_name)!=null&&w.trim()))throw new Error("Business name is required");if(!((p=n.email)!=null&&p.trim()))throw new Error("Email is required");if(e){const{error:h}=await T.from("vendors").update({business_name:n.business_name,email:n.email,phone:n.phone,country:n.country,city:n.city,address:n.address,bank_name:n.bank_name,bank_account_number:n.bank_account_number,bank_account_name:n.bank_account_name,payout_currency:n.payout_currency,logo_url:n.logo_url,updated_at:new Date().toISOString()}).eq("id",e.id);if(h)throw h}else{const{data:{user:h},error:x}=await T.auth.getUser();if(x)throw x;if(!h)throw new Error("User not authenticated");const{data:b}=await T.from("user_profiles").select("id").eq("user_id",h.id).maybeSingle();if(!b){const{error:k}=await T.from("user_profiles").insert({user_id:h.id,email:h.email,display_name:n.business_name||"Vendor"});if(k&&(console.error("Error creating user profile:",k),k.code!=="23505"))throw new Error(`Failed to create base user profile: ${k.message}`)}const{error:S}=await T.from("vendors").insert({user_id:h.id,business_name:n.business_name,email:n.email,phone:n.phone,country:n.country,city:n.city,address:n.address,bank_name:n.bank_name,bank_account_number:n.bank_account_number,bank_account_name:n.bank_account_name,payout_currency:n.payout_currency,logo_url:n.logo_url});if(S)throw S}f(!0),await r(),setTimeout(()=>f(!1),3e3)}catch(h){console.error("Error saving vendor profile:",h),d(h instanceof Error?h.message:"Failed to save profile")}finally{c(!1)}};return t?i.jsx("div",{className:"flex justify-center items-center min-h-screen",children:i.jsx(J,{className:"animate-spin text-[#D4AF37]",size:48})}):i.jsx("section",{children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-8 flex flex-col items-center justify-center",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Vendor Profile"}),i.jsx("p",{className:"text-gray-600",children:e?"Update your vendor information":"Create your vendor profile"})]}),u&&i.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg mb-6",children:u}),m&&i.jsx("div",{className:"bg-green-50 text-green-600 px-4 py-3 rounded-lg mb-6",children:"Profile saved successfully!"}),e&&!e.is_verified&&i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:i.jsxs("p",{className:"text-sm text-yellow-800",children:[i.jsx("strong",{children:"Verification Pending:"})," Your vendor account is under review. You can still manage products, but they may not be visible to customers until verified."]})}),i.jsxs("form",{onSubmit:v,className:"space-y-8 flex flex-col  ",children:[i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Business Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Logo"}),i.jsxs("div",{className:"flex items-center gap-4",children:[n.logo_url&&i.jsx("img",{src:n.logo_url,alt:"Business logo",className:"w-24 h-24 object-cover rounded-lg border border-gray-200"}),i.jsxs("label",{className:"cursor-pointer",children:[i.jsx("input",{type:"file",accept:"image/*",onChange:g=>{var w;(w=g.target.files)!=null&&w[0]&&y(g.target.files[0])},className:"hidden"}),i.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:a?i.jsxs(i.Fragment,{children:[i.jsx(J,{className:"animate-spin",size:16}),"Uploading..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Jo,{size:16}),"Upload Logo"]})})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Name *"}),i.jsx("input",{type:"text",value:n.business_name,onChange:g=>s({...n,business_name:g.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"Your business name"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),i.jsx("input",{type:"email",value:n.email,onChange:g=>s({...n,email:g.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"business@example.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),i.jsx("input",{type:"tel",value:n.phone||"",onChange:g=>s({...n,phone:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"+1 234 567 8900"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),i.jsx("input",{type:"text",value:n.country||"",onChange:g=>s({...n,country:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"United States"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),i.jsx("input",{type:"text",value:n.city||"",onChange:g=>s({...n,city:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"New York"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),i.jsx("textarea",{value:n.address||"",onChange:g=>s({...n,address:g.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"Full business address"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Bank Details"}),i.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Required for receiving payments from sales"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name"}),i.jsx("input",{type:"text",value:n.bank_name||"",onChange:g=>s({...n,bank_name:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"e.g., Chase Bank"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Number"}),i.jsx("input",{type:"text",value:n.bank_account_number||"",onChange:g=>s({...n,bank_account_number:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"Account number"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Holder Name"}),i.jsx("input",{type:"text",value:n.bank_account_name||"",onChange:g=>s({...n,bank_account_name:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"Name on bank account"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payout Currency"}),i.jsxs("select",{value:n.payout_currency,onChange:g=>s({...n,payout_currency:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",children:[i.jsx("option",{value:"USD",children:"USD - US Dollar"}),i.jsx("option",{value:"EUR",children:"EUR - Euro"}),i.jsx("option",{value:"GBP",children:"GBP - British Pound"}),i.jsx("option",{value:"NGN",children:"NGN - Nigerian Naira"})]})]})]})]}),i.jsx("div",{className:"flex gap-4",children:i.jsx("button",{type:"submit",disabled:l,className:"flex-1 btn-primary inline-flex items-center justify-center gap-2",children:l?i.jsxs(i.Fragment,{children:[i.jsx(J,{className:"animate-spin",size:20}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(If,{size:20}),"Save Profile"]})})})]})]})})}const Vw=()=>{const{itemCount:e}=pa();return i.jsx(tw,{cartItemCount:e})};function qw(){const e=me(),t=(r,n)=>{switch(r){case"home":e("/");break;case"shop":e("/shop",{state:n});break;case"product":n&&e(`/product/${n}`);break;case"vendor/dashboard":e("/vendor/dashboard");break;default:e(`/${r}`)}};return i.jsx(cw,{children:i.jsx(uw,{children:i.jsxs(Sw,{children:[i.jsx(Cw,{}),i.jsx(Pw,{}),i.jsx(Ew,{}),i.jsxs("div",{className:"min-h-screen flex flex-col",children:[i.jsx(Vw,{}),i.jsx("main",{className:"grow px-0 sm:px-0 lg:px-0 pb-0 md:pb-0 mb-20 md:mb-0",children:i.jsxs(Su,{children:[i.jsx(ge,{path:"/",element:i.jsx(ed,{})}),i.jsx(ge,{path:"/shop",element:i.jsx(ow,{onNavigate:t})}),i.jsx(ge,{path:"/product/:id",element:i.jsx(dw,{})}),i.jsx(ge,{path:"/cart",element:i.jsx(hw,{onNavigate:t})}),i.jsx(ge,{path:"/checkout",element:i.jsx(fw,{})}),i.jsx(ge,{path:"/order-confirmation",element:i.jsx(pw,{})}),i.jsx(ge,{path:"/login",element:i.jsx(mw,{})}),i.jsx(ge,{path:"/account",element:i.jsx(_w,{})}),i.jsx(ge,{path:"/about",element:i.jsx(Nw,{onNavigate:t})}),i.jsx(ge,{path:"/vendor/*",element:i.jsx(Aw,{children:i.jsxs(Su,{children:[i.jsx(ge,{path:"dashboard",element:i.jsx(Tw,{})}),i.jsx(ge,{path:"products",element:i.jsx(Ow,{})}),i.jsx(ge,{path:"products/new",element:i.jsx(rd,{})}),i.jsx(ge,{path:"products/:id",element:i.jsx(Mw,{})}),i.jsx(ge,{path:"products/:id/edit",element:i.jsx(rd,{})}),i.jsx(ge,{path:"orders",element:i.jsx(Bw,{})}),i.jsx(ge,{path:"profile",element:i.jsx(Ww,{})})]})})}),i.jsx(ge,{path:"*",element:i.jsx(ed,{})})]})}),i.jsx(rw,{}),i.jsx(nw,{})]})]})})})}xf(document.getElementById("root")).render(i.jsx(_.StrictMode,{children:i.jsx(U0,{children:i.jsx(qw,{})})}));
