function gd(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function _m(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function jm(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var vd={exports:{}},Ki={},yd={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gs=Symbol.for("react.element"),km=Symbol.for("react.portal"),Nm=Symbol.for("react.fragment"),Sm=Symbol.for("react.strict_mode"),Em=Symbol.for("react.profiler"),Cm=Symbol.for("react.provider"),Pm=Symbol.for("react.context"),Tm=Symbol.for("react.forward_ref"),Om=Symbol.for("react.suspense"),Am=Symbol.for("react.memo"),Rm=Symbol.for("react.lazy"),Nc=Symbol.iterator;function Fm(t){return t===null||typeof t!="object"?null:(t=Nc&&t[Nc]||t["@@iterator"],typeof t=="function"?t:null)}var xd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wd=Object.assign,bd={};function gn(t,e,r){this.props=t,this.context=e,this.refs=bd,this.updater=r||xd}gn.prototype.isReactComponent={};gn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};gn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _d(){}_d.prototype=gn.prototype;function pl(t,e,r){this.props=t,this.context=e,this.refs=bd,this.updater=r||xd}var ml=pl.prototype=new _d;ml.constructor=pl;wd(ml,gn.prototype);ml.isPureReactComponent=!0;var Sc=Array.isArray,jd=Object.prototype.hasOwnProperty,gl={current:null},kd={key:!0,ref:!0,__self:!0,__source:!0};function Nd(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)jd.call(e,n)&&!kd.hasOwnProperty(n)&&(s[n]=e[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:gs,type:t,key:i,ref:o,props:s,_owner:gl.current}}function Im(t,e){return{$$typeof:gs,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vl(t){return typeof t=="object"&&t!==null&&t.$$typeof===gs}function Dm(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Ec=/\/+/g;function va(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Dm(""+t.key):e.toString(36)}function Qs(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case gs:case km:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+va(o,0):n,Sc(s)?(r="",t!=null&&(r=t.replace(Ec,"$&/")+"/"),Qs(s,e,r,"",function(u){return u})):s!=null&&(vl(s)&&(s=Im(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ec,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",Sc(t))for(var l=0;l<t.length;l++){i=t[l];var c=n+va(i,l);o+=Qs(i,e,r,c,s)}else if(c=Fm(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=n+va(i,l++),o+=Qs(i,e,r,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ns(t,e,r){if(t==null)return t;var n=[],s=0;return Qs(t,n,"","",function(i){return e.call(r,i,s++)}),n}function $m(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pe={current:null},Ys={transition:null},Lm={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:Ys,ReactCurrentOwner:gl};function Sd(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:Ns,forEach:function(t,e,r){Ns(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ns(t,function(){e++}),e},toArray:function(t){return Ns(t,function(e){return e})||[]},only:function(t){if(!vl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};z.Component=gn;z.Fragment=Nm;z.Profiler=Em;z.PureComponent=pl;z.StrictMode=Sm;z.Suspense=Om;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lm;z.act=Sd;z.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=wd({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=gl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)jd.call(e,c)&&!kd.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:gs,type:t.type,key:s,ref:i,props:n,_owner:o}};z.createContext=function(t){return t={$$typeof:Pm,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Cm,_context:t},t.Consumer=t};z.createElement=Nd;z.createFactory=function(t){var e=Nd.bind(null,t);return e.type=t,e};z.createRef=function(){return{current:null}};z.forwardRef=function(t){return{$$typeof:Tm,render:t}};z.isValidElement=vl;z.lazy=function(t){return{$$typeof:Rm,_payload:{_status:-1,_result:t},_init:$m}};z.memo=function(t,e){return{$$typeof:Am,type:t,compare:e===void 0?null:e}};z.startTransition=function(t){var e=Ys.transition;Ys.transition={};try{t()}finally{Ys.transition=e}};z.unstable_act=Sd;z.useCallback=function(t,e){return Pe.current.useCallback(t,e)};z.useContext=function(t){return Pe.current.useContext(t)};z.useDebugValue=function(){};z.useDeferredValue=function(t){return Pe.current.useDeferredValue(t)};z.useEffect=function(t,e){return Pe.current.useEffect(t,e)};z.useId=function(){return Pe.current.useId()};z.useImperativeHandle=function(t,e,r){return Pe.current.useImperativeHandle(t,e,r)};z.useInsertionEffect=function(t,e){return Pe.current.useInsertionEffect(t,e)};z.useLayoutEffect=function(t,e){return Pe.current.useLayoutEffect(t,e)};z.useMemo=function(t,e){return Pe.current.useMemo(t,e)};z.useReducer=function(t,e,r){return Pe.current.useReducer(t,e,r)};z.useRef=function(t){return Pe.current.useRef(t)};z.useState=function(t){return Pe.current.useState(t)};z.useSyncExternalStore=function(t,e,r){return Pe.current.useSyncExternalStore(t,e,r)};z.useTransition=function(){return Pe.current.useTransition()};z.version="18.3.1";yd.exports=z;var _=yd.exports;const Um=_m(_),zm=gd({__proto__:null,default:Um},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm=_,Mm=Symbol.for("react.element"),Wm=Symbol.for("react.fragment"),Vm=Object.prototype.hasOwnProperty,qm=Bm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hm={key:!0,ref:!0,__self:!0,__source:!0};function Ed(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Vm.call(e,n)&&!Hm.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Mm,type:t,key:i,ref:o,props:s,_owner:qm.current}}Ki.Fragment=Wm;Ki.jsx=Ed;Ki.jsxs=Ed;vd.exports=Ki;var a=vd.exports,Cd={exports:{}},We={},Pd={exports:{}},Td={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,L){var U=P.length;P.push(L);e:for(;0<U;){var G=U-1>>>1,ne=P[G];if(0<s(ne,L))P[G]=L,P[U]=ne,U=G;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var L=P[0],U=P.pop();if(U!==L){P[0]=U;e:for(var G=0,ne=P.length,C=ne>>>1;G<C;){var M=2*(G+1)-1,Q=P[M],ke=M+1,Ne=P[ke];if(0>s(Q,U))ke<ne&&0>s(Ne,Q)?(P[G]=Ne,P[ke]=U,G=ke):(P[G]=Q,P[M]=U,G=M);else if(ke<ne&&0>s(Ne,U))P[G]=Ne,P[ke]=U,G=ke;else break e}}return L}function s(P,L){var U=P.sortIndex-L.sortIndex;return U!==0?U:P.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,v=!1,g=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=P)n(u),L.sortIndex=L.expirationTime,e(c,L);else break;L=r(u)}}function b(P){if(x=!1,y(P),!g)if(r(c)!==null)g=!0,Er(k);else{var L=r(u);L!==null&&Cr(b,L.startTime-P)}}function k(P,L){g=!1,x&&(x=!1,f(S),S=-1),v=!0;var U=m;try{for(y(L),h=r(c);h!==null&&(!(h.expirationTime>L)||P&&!pe());){var G=h.callback;if(typeof G=="function"){h.callback=null,m=h.priorityLevel;var ne=G(h.expirationTime<=L);L=t.unstable_now(),typeof ne=="function"?h.callback=ne:h===r(c)&&n(c),y(L)}else n(c);h=r(c)}if(h!==null)var C=!0;else{var M=r(u);M!==null&&Cr(b,M.startTime-L),C=!1}return C}finally{h=null,m=U,v=!1}}var j=!1,N=null,S=-1,D=5,F=-1;function pe(){return!(t.unstable_now()-F<D)}function mt(){if(N!==null){var P=t.unstable_now();F=P;var L=!0;try{L=N(!0,P)}finally{L?rr():(j=!1,N=null)}}else j=!1}var rr;if(typeof p=="function")rr=function(){p(mt)};else if(typeof MessageChannel<"u"){var ks=new MessageChannel,ga=ks.port2;ks.port1.onmessage=mt,rr=function(){ga.postMessage(null)}}else rr=function(){w(mt,0)};function Er(P){N=P,j||(j=!0,rr())}function Cr(P,L){S=w(function(){P(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){g||v||(g=!0,Er(k))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(P){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var U=m;m=L;try{return P()}finally{m=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var U=m;m=P;try{return L()}finally{m=U}},t.unstable_scheduleCallback=function(P,L,U){var G=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?G+U:G):U=G,P){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=U+ne,P={id:d++,callback:L,priorityLevel:P,startTime:U,expirationTime:ne,sortIndex:-1},U>G?(P.sortIndex=U,e(u,P),r(c)===null&&P===r(u)&&(x?(f(S),S=-1):x=!0,Cr(b,U-G))):(P.sortIndex=ne,e(c,P),g||v||(g=!0,Er(k))),P},t.unstable_shouldYield=pe,t.unstable_wrapCallback=function(P){var L=m;return function(){var U=m;m=L;try{return P.apply(this,arguments)}finally{m=U}}}})(Td);Pd.exports=Td;var Km=Pd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gm=_,Me=Km;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Od=new Set,Jn={};function kr(t,e){nn(t,e),nn(t+"Capture",e)}function nn(t,e){for(Jn[t]=e,t=0;t<e.length;t++)Od.add(e[t])}var bt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xa=Object.prototype.hasOwnProperty,Jm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cc={},Pc={};function Qm(t){return Xa.call(Pc,t)?!0:Xa.call(Cc,t)?!1:Jm.test(t)?Pc[t]=!0:(Cc[t]=!0,!1)}function Ym(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Xm(t,e,r,n){if(e===null||typeof e>"u"||Ym(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Te(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xe[t]=new Te(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xe[e]=new Te(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xe[t]=new Te(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xe[t]=new Te(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xe[t]=new Te(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xe[t]=new Te(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xe[t]=new Te(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xe[t]=new Te(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xe[t]=new Te(t,5,!1,t.toLowerCase(),null,!1,!1)});var yl=/[\-:]([a-z])/g;function xl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yl,xl);xe[e]=new Te(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yl,xl);xe[e]=new Te(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yl,xl);xe[e]=new Te(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xe[t]=new Te(t,1,!1,t.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xe[t]=new Te(t,1,!1,t.toLowerCase(),null,!0,!0)});function wl(t,e,r,n){var s=xe.hasOwnProperty(e)?xe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Xm(e,r,s,n)&&(r=null),n||s===null?Qm(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Nt=Gm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ss=Symbol.for("react.element"),Dr=Symbol.for("react.portal"),$r=Symbol.for("react.fragment"),bl=Symbol.for("react.strict_mode"),Za=Symbol.for("react.profiler"),Ad=Symbol.for("react.provider"),Rd=Symbol.for("react.context"),_l=Symbol.for("react.forward_ref"),eo=Symbol.for("react.suspense"),to=Symbol.for("react.suspense_list"),jl=Symbol.for("react.memo"),Pt=Symbol.for("react.lazy"),Fd=Symbol.for("react.offscreen"),Tc=Symbol.iterator;function jn(t){return t===null||typeof t!="object"?null:(t=Tc&&t[Tc]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,ya;function An(t){if(ya===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);ya=e&&e[1]||""}return`
`+ya+t}var xa=!1;function wa(t,e){if(!t||xa)return"";xa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{xa=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?An(t):""}function Zm(t){switch(t.tag){case 5:return An(t.type);case 16:return An("Lazy");case 13:return An("Suspense");case 19:return An("SuspenseList");case 0:case 2:case 15:return t=wa(t.type,!1),t;case 11:return t=wa(t.type.render,!1),t;case 1:return t=wa(t.type,!0),t;default:return""}}function ro(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $r:return"Fragment";case Dr:return"Portal";case Za:return"Profiler";case bl:return"StrictMode";case eo:return"Suspense";case to:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Rd:return(t.displayName||"Context")+".Consumer";case Ad:return(t._context.displayName||"Context")+".Provider";case _l:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jl:return e=t.displayName||null,e!==null?e:ro(t.type)||"Memo";case Pt:e=t._payload,t=t._init;try{return ro(t(e))}catch{}}return null}function eg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ro(e);case 8:return e===bl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Id(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tg(t){var e=Id(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Es(t){t._valueTracker||(t._valueTracker=tg(t))}function Dd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Id(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function di(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function no(t,e){var r=e.checked;return ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Oc(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Gt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $d(t,e){e=e.checked,e!=null&&wl(t,"checked",e,!1)}function so(t,e){$d(t,e);var r=Gt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?io(t,e.type,r):e.hasOwnProperty("defaultValue")&&io(t,e.type,Gt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ac(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function io(t,e,r){(e!=="number"||di(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Rn=Array.isArray;function Gr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Gt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ao(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Rc(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(E(92));if(Rn(r)){if(1<r.length)throw Error(E(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Gt(r)}}function Ld(t,e){var r=Gt(e.value),n=Gt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Fc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ud(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ud(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Cs,zd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Cs=Cs||document.createElement("div"),Cs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Cs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Un={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rg=["Webkit","ms","Moz","O"];Object.keys(Un).forEach(function(t){rg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Un[e]=Un[t]})});function Bd(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Un.hasOwnProperty(t)&&Un[t]?(""+e).trim():e+"px"}function Md(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Bd(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var ng=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lo(t,e){if(e){if(ng[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function co(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uo=null;function kl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ho=null,Jr=null,Qr=null;function Ic(t){if(t=xs(t)){if(typeof ho!="function")throw Error(E(280));var e=t.stateNode;e&&(e=Xi(e),ho(t.stateNode,t.type,e))}}function Wd(t){Jr?Qr?Qr.push(t):Qr=[t]:Jr=t}function Vd(){if(Jr){var t=Jr,e=Qr;if(Qr=Jr=null,Ic(t),e)for(t=0;t<e.length;t++)Ic(e[t])}}function qd(t,e){return t(e)}function Hd(){}var ba=!1;function Kd(t,e,r){if(ba)return t(e,r);ba=!0;try{return qd(t,e,r)}finally{ba=!1,(Jr!==null||Qr!==null)&&(Hd(),Vd())}}function Yn(t,e){var r=t.stateNode;if(r===null)return null;var n=Xi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(E(231,e,typeof r));return r}var fo=!1;if(bt)try{var kn={};Object.defineProperty(kn,"passive",{get:function(){fo=!0}}),window.addEventListener("test",kn,kn),window.removeEventListener("test",kn,kn)}catch{fo=!1}function sg(t,e,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var zn=!1,hi=null,fi=!1,po=null,ig={onError:function(t){zn=!0,hi=t}};function ag(t,e,r,n,s,i,o,l,c){zn=!1,hi=null,sg.apply(ig,arguments)}function og(t,e,r,n,s,i,o,l,c){if(ag.apply(this,arguments),zn){if(zn){var u=hi;zn=!1,hi=null}else throw Error(E(198));fi||(fi=!0,po=u)}}function Nr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Gd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Dc(t){if(Nr(t)!==t)throw Error(E(188))}function lg(t){var e=t.alternate;if(!e){if(e=Nr(t),e===null)throw Error(E(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Dc(s),t;if(i===n)return Dc(s),e;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?t:e}function Jd(t){return t=lg(t),t!==null?Qd(t):null}function Qd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Qd(t);if(e!==null)return e;t=t.sibling}return null}var Yd=Me.unstable_scheduleCallback,$c=Me.unstable_cancelCallback,cg=Me.unstable_shouldYield,ug=Me.unstable_requestPaint,se=Me.unstable_now,dg=Me.unstable_getCurrentPriorityLevel,Nl=Me.unstable_ImmediatePriority,Xd=Me.unstable_UserBlockingPriority,pi=Me.unstable_NormalPriority,hg=Me.unstable_LowPriority,Zd=Me.unstable_IdlePriority,Gi=null,ht=null;function fg(t){if(ht&&typeof ht.onCommitFiberRoot=="function")try{ht.onCommitFiberRoot(Gi,t,void 0,(t.current.flags&128)===128)}catch{}}var it=Math.clz32?Math.clz32:gg,pg=Math.log,mg=Math.LN2;function gg(t){return t>>>=0,t===0?32:31-(pg(t)/mg|0)|0}var Ps=64,Ts=4194304;function Fn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function mi(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=Fn(l):(i&=o,i!==0&&(n=Fn(i)))}else o=r&~s,o!==0?n=Fn(o):i!==0&&(n=Fn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-it(e),s=1<<r,n|=t[r],e&=~s;return n}function vg(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yg(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-it(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=vg(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function mo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function eh(){var t=Ps;return Ps<<=1,!(Ps&4194240)&&(Ps=64),t}function _a(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function vs(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-it(e),t[e]=r}function xg(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-it(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function Sl(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-it(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var W=0;function th(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rh,El,nh,sh,ih,go=!1,Os=[],Lt=null,Ut=null,zt=null,Xn=new Map,Zn=new Map,Ot=[],wg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lc(t,e){switch(t){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Xn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(e.pointerId)}}function Nn(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=xs(e),e!==null&&El(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function bg(t,e,r,n,s){switch(e){case"focusin":return Lt=Nn(Lt,t,e,r,n,s),!0;case"dragenter":return Ut=Nn(Ut,t,e,r,n,s),!0;case"mouseover":return zt=Nn(zt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Xn.set(i,Nn(Xn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Zn.set(i,Nn(Zn.get(i)||null,t,e,r,n,s)),!0}return!1}function ah(t){var e=hr(t.target);if(e!==null){var r=Nr(e);if(r!==null){if(e=r.tag,e===13){if(e=Gd(r),e!==null){t.blockedOn=e,ih(t.priority,function(){nh(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=vo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);uo=n,r.target.dispatchEvent(n),uo=null}else return e=xs(r),e!==null&&El(e),t.blockedOn=r,!1;e.shift()}return!0}function Uc(t,e,r){Xs(t)&&r.delete(e)}function _g(){go=!1,Lt!==null&&Xs(Lt)&&(Lt=null),Ut!==null&&Xs(Ut)&&(Ut=null),zt!==null&&Xs(zt)&&(zt=null),Xn.forEach(Uc),Zn.forEach(Uc)}function Sn(t,e){t.blockedOn===e&&(t.blockedOn=null,go||(go=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,_g)))}function es(t){function e(s){return Sn(s,t)}if(0<Os.length){Sn(Os[0],t);for(var r=1;r<Os.length;r++){var n=Os[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Lt!==null&&Sn(Lt,t),Ut!==null&&Sn(Ut,t),zt!==null&&Sn(zt,t),Xn.forEach(e),Zn.forEach(e),r=0;r<Ot.length;r++)n=Ot[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ot.length&&(r=Ot[0],r.blockedOn===null);)ah(r),r.blockedOn===null&&Ot.shift()}var Yr=Nt.ReactCurrentBatchConfig,gi=!0;function jg(t,e,r,n){var s=W,i=Yr.transition;Yr.transition=null;try{W=1,Cl(t,e,r,n)}finally{W=s,Yr.transition=i}}function kg(t,e,r,n){var s=W,i=Yr.transition;Yr.transition=null;try{W=4,Cl(t,e,r,n)}finally{W=s,Yr.transition=i}}function Cl(t,e,r,n){if(gi){var s=vo(t,e,r,n);if(s===null)Aa(t,e,n,vi,r),Lc(t,n);else if(bg(s,t,e,r,n))n.stopPropagation();else if(Lc(t,n),e&4&&-1<wg.indexOf(t)){for(;s!==null;){var i=xs(s);if(i!==null&&rh(i),i=vo(t,e,r,n),i===null&&Aa(t,e,n,vi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Aa(t,e,n,null,r)}}var vi=null;function vo(t,e,r,n){if(vi=null,t=kl(n),t=hr(t),t!==null)if(e=Nr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Gd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vi=t,null}function oh(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dg()){case Nl:return 1;case Xd:return 4;case pi:case hg:return 16;case Zd:return 536870912;default:return 16}default:return 16}}var It=null,Pl=null,Zs=null;function lh(){if(Zs)return Zs;var t,e=Pl,r=e.length,n,s="value"in It?It.value:It.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Zs=s.slice(t,1<n?1-n:void 0)}function ei(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function As(){return!0}function zc(){return!1}function Ve(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?As:zc,this.isPropagationStopped=zc,this}return ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=As)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=As)},persist:function(){},isPersistent:As}),e}var vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tl=Ve(vn),ys=ee({},vn,{view:0,detail:0}),Ng=Ve(ys),ja,ka,En,Ji=ee({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ol,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==En&&(En&&t.type==="mousemove"?(ja=t.screenX-En.screenX,ka=t.screenY-En.screenY):ka=ja=0,En=t),ja)},movementY:function(t){return"movementY"in t?t.movementY:ka}}),Bc=Ve(Ji),Sg=ee({},Ji,{dataTransfer:0}),Eg=Ve(Sg),Cg=ee({},ys,{relatedTarget:0}),Na=Ve(Cg),Pg=ee({},vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Tg=Ve(Pg),Og=ee({},vn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ag=Ve(Og),Rg=ee({},vn,{data:0}),Mc=Ve(Rg),Fg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ig={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $g(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dg[t])?!!e[t]:!1}function Ol(){return $g}var Lg=ee({},ys,{key:function(t){if(t.key){var e=Fg[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ei(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ig[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ol,charCode:function(t){return t.type==="keypress"?ei(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ei(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ug=Ve(Lg),zg=ee({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wc=Ve(zg),Bg=ee({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ol}),Mg=Ve(Bg),Wg=ee({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vg=Ve(Wg),qg=ee({},Ji,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hg=Ve(qg),Kg=[9,13,27,32],Al=bt&&"CompositionEvent"in window,Bn=null;bt&&"documentMode"in document&&(Bn=document.documentMode);var Gg=bt&&"TextEvent"in window&&!Bn,ch=bt&&(!Al||Bn&&8<Bn&&11>=Bn),Vc=" ",qc=!1;function uh(t,e){switch(t){case"keyup":return Kg.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dh(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lr=!1;function Jg(t,e){switch(t){case"compositionend":return dh(e);case"keypress":return e.which!==32?null:(qc=!0,Vc);case"textInput":return t=e.data,t===Vc&&qc?null:t;default:return null}}function Qg(t,e){if(Lr)return t==="compositionend"||!Al&&uh(t,e)?(t=lh(),Zs=Pl=It=null,Lr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ch&&e.locale!=="ko"?null:e.data;default:return null}}var Yg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Yg[t.type]:e==="textarea"}function hh(t,e,r,n){Wd(n),e=yi(e,"onChange"),0<e.length&&(r=new Tl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Mn=null,ts=null;function Xg(t){jh(t,0)}function Qi(t){var e=Br(t);if(Dd(e))return t}function Zg(t,e){if(t==="change")return e}var fh=!1;if(bt){var Sa;if(bt){var Ea="oninput"in document;if(!Ea){var Kc=document.createElement("div");Kc.setAttribute("oninput","return;"),Ea=typeof Kc.oninput=="function"}Sa=Ea}else Sa=!1;fh=Sa&&(!document.documentMode||9<document.documentMode)}function Gc(){Mn&&(Mn.detachEvent("onpropertychange",ph),ts=Mn=null)}function ph(t){if(t.propertyName==="value"&&Qi(ts)){var e=[];hh(e,ts,t,kl(t)),Kd(Xg,e)}}function e0(t,e,r){t==="focusin"?(Gc(),Mn=e,ts=r,Mn.attachEvent("onpropertychange",ph)):t==="focusout"&&Gc()}function t0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qi(ts)}function r0(t,e){if(t==="click")return Qi(e)}function n0(t,e){if(t==="input"||t==="change")return Qi(e)}function s0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ot=typeof Object.is=="function"?Object.is:s0;function rs(t,e){if(ot(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Xa.call(e,s)||!ot(t[s],e[s]))return!1}return!0}function Jc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qc(t,e){var r=Jc(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jc(r)}}function mh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gh(){for(var t=window,e=di();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=di(t.document)}return e}function Rl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function i0(t){var e=gh(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&mh(r.ownerDocument.documentElement,r)){if(n!==null&&Rl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Qc(r,i);var o=Qc(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var a0=bt&&"documentMode"in document&&11>=document.documentMode,Ur=null,yo=null,Wn=null,xo=!1;function Yc(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xo||Ur==null||Ur!==di(n)||(n=Ur,"selectionStart"in n&&Rl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Wn&&rs(Wn,n)||(Wn=n,n=yi(yo,"onSelect"),0<n.length&&(e=new Tl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ur)))}function Rs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var zr={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},Ca={},vh={};bt&&(vh=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Yi(t){if(Ca[t])return Ca[t];if(!zr[t])return t;var e=zr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in vh)return Ca[t]=e[r];return t}var yh=Yi("animationend"),xh=Yi("animationiteration"),wh=Yi("animationstart"),bh=Yi("transitionend"),_h=new Map,Xc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(t,e){_h.set(t,e),kr(e,[t])}for(var Pa=0;Pa<Xc.length;Pa++){var Ta=Xc[Pa],o0=Ta.toLowerCase(),l0=Ta[0].toUpperCase()+Ta.slice(1);Yt(o0,"on"+l0)}Yt(yh,"onAnimationEnd");Yt(xh,"onAnimationIteration");Yt(wh,"onAnimationStart");Yt("dblclick","onDoubleClick");Yt("focusin","onFocus");Yt("focusout","onBlur");Yt(bh,"onTransitionEnd");nn("onMouseEnter",["mouseout","mouseover"]);nn("onMouseLeave",["mouseout","mouseover"]);nn("onPointerEnter",["pointerout","pointerover"]);nn("onPointerLeave",["pointerout","pointerover"]);kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var In="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c0=new Set("cancel close invalid load scroll toggle".split(" ").concat(In));function Zc(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,og(n,e,void 0,t),t.currentTarget=null}function jh(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Zc(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Zc(s,l,u),i=c}}}if(fi)throw t=po,fi=!1,po=null,t}function H(t,e){var r=e[ko];r===void 0&&(r=e[ko]=new Set);var n=t+"__bubble";r.has(n)||(kh(e,t,2,!1),r.add(n))}function Oa(t,e,r){var n=0;e&&(n|=4),kh(r,t,n,e)}var Fs="_reactListening"+Math.random().toString(36).slice(2);function ns(t){if(!t[Fs]){t[Fs]=!0,Od.forEach(function(r){r!=="selectionchange"&&(c0.has(r)||Oa(r,!1,t),Oa(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fs]||(e[Fs]=!0,Oa("selectionchange",!1,e))}}function kh(t,e,r,n){switch(oh(e)){case 1:var s=jg;break;case 4:s=kg;break;default:s=Cl}r=s.bind(null,e,r,t),s=void 0,!fo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Aa(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=hr(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}Kd(function(){var u=i,d=kl(r),h=[];e:{var m=_h.get(t);if(m!==void 0){var v=Tl,g=t;switch(t){case"keypress":if(ei(r)===0)break e;case"keydown":case"keyup":v=Ug;break;case"focusin":g="focus",v=Na;break;case"focusout":g="blur",v=Na;break;case"beforeblur":case"afterblur":v=Na;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Bc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Eg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Mg;break;case yh:case xh:case wh:v=Tg;break;case bh:v=Vg;break;case"scroll":v=Ng;break;case"wheel":v=Hg;break;case"copy":case"cut":case"paste":v=Ag;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Wc}var x=(e&4)!==0,w=!x&&t==="scroll",f=x?m!==null?m+"Capture":null:m;x=[];for(var p=u,y;p!==null;){y=p;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,f!==null&&(b=Yn(p,f),b!=null&&x.push(ss(p,b,y)))),w)break;p=p.return}0<x.length&&(m=new v(m,g,null,r,d),h.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&r!==uo&&(g=r.relatedTarget||r.fromElement)&&(hr(g)||g[_t]))break e;if((v||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,v?(g=r.relatedTarget||r.toElement,v=u,g=g?hr(g):null,g!==null&&(w=Nr(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(v=null,g=u),v!==g)){if(x=Bc,b="onMouseLeave",f="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(x=Wc,b="onPointerLeave",f="onPointerEnter",p="pointer"),w=v==null?m:Br(v),y=g==null?m:Br(g),m=new x(b,p+"leave",v,r,d),m.target=w,m.relatedTarget=y,b=null,hr(d)===u&&(x=new x(f,p+"enter",g,r,d),x.target=y,x.relatedTarget=w,b=x),w=b,v&&g)t:{for(x=v,f=g,p=0,y=x;y;y=Pr(y))p++;for(y=0,b=f;b;b=Pr(b))y++;for(;0<p-y;)x=Pr(x),p--;for(;0<y-p;)f=Pr(f),y--;for(;p--;){if(x===f||f!==null&&x===f.alternate)break t;x=Pr(x),f=Pr(f)}x=null}else x=null;v!==null&&eu(h,m,v,x,!1),g!==null&&w!==null&&eu(h,w,g,x,!0)}}e:{if(m=u?Br(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var k=Zg;else if(Hc(m))if(fh)k=n0;else{k=t0;var j=e0}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=r0);if(k&&(k=k(t,u))){hh(h,k,r,d);break e}j&&j(t,m,u),t==="focusout"&&(j=m._wrapperState)&&j.controlled&&m.type==="number"&&io(m,"number",m.value)}switch(j=u?Br(u):window,t){case"focusin":(Hc(j)||j.contentEditable==="true")&&(Ur=j,yo=u,Wn=null);break;case"focusout":Wn=yo=Ur=null;break;case"mousedown":xo=!0;break;case"contextmenu":case"mouseup":case"dragend":xo=!1,Yc(h,r,d);break;case"selectionchange":if(a0)break;case"keydown":case"keyup":Yc(h,r,d)}var N;if(Al)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Lr?uh(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(ch&&r.locale!=="ko"&&(Lr||S!=="onCompositionStart"?S==="onCompositionEnd"&&Lr&&(N=lh()):(It=d,Pl="value"in It?It.value:It.textContent,Lr=!0)),j=yi(u,S),0<j.length&&(S=new Mc(S,t,null,r,d),h.push({event:S,listeners:j}),N?S.data=N:(N=dh(r),N!==null&&(S.data=N)))),(N=Gg?Jg(t,r):Qg(t,r))&&(u=yi(u,"onBeforeInput"),0<u.length&&(d=new Mc("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=N))}jh(h,e)})}function ss(t,e,r){return{instance:t,listener:e,currentTarget:r}}function yi(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Yn(t,r),i!=null&&n.unshift(ss(t,i,s)),i=Yn(t,e),i!=null&&n.push(ss(t,i,s))),t=t.return}return n}function Pr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eu(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Yn(r,i),c!=null&&o.unshift(ss(r,c,l))):s||(c=Yn(r,i),c!=null&&o.push(ss(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var u0=/\r\n?/g,d0=/\u0000|\uFFFD/g;function tu(t){return(typeof t=="string"?t:""+t).replace(u0,`
`).replace(d0,"")}function Is(t,e,r){if(e=tu(e),tu(t)!==e&&r)throw Error(E(425))}function xi(){}var wo=null,bo=null;function _o(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var jo=typeof setTimeout=="function"?setTimeout:void 0,h0=typeof clearTimeout=="function"?clearTimeout:void 0,ru=typeof Promise=="function"?Promise:void 0,f0=typeof queueMicrotask=="function"?queueMicrotask:typeof ru<"u"?function(t){return ru.resolve(null).then(t).catch(p0)}:jo;function p0(t){setTimeout(function(){throw t})}function Ra(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),es(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);es(e)}function Bt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var yn=Math.random().toString(36).slice(2),dt="__reactFiber$"+yn,is="__reactProps$"+yn,_t="__reactContainer$"+yn,ko="__reactEvents$"+yn,m0="__reactListeners$"+yn,g0="__reactHandles$"+yn;function hr(t){var e=t[dt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[_t]||r[dt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=nu(t);t!==null;){if(r=t[dt])return r;t=nu(t)}return e}t=r,r=t.parentNode}return null}function xs(t){return t=t[dt]||t[_t],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Br(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function Xi(t){return t[is]||null}var No=[],Mr=-1;function Xt(t){return{current:t}}function K(t){0>Mr||(t.current=No[Mr],No[Mr]=null,Mr--)}function q(t,e){Mr++,No[Mr]=t.current,t.current=e}var Jt={},je=Xt(Jt),Fe=Xt(!1),xr=Jt;function sn(t,e){var r=t.type.contextTypes;if(!r)return Jt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ie(t){return t=t.childContextTypes,t!=null}function wi(){K(Fe),K(je)}function su(t,e,r){if(je.current!==Jt)throw Error(E(168));q(je,e),q(Fe,r)}function Nh(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(E(108,eg(t)||"Unknown",s));return ee({},r,n)}function bi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Jt,xr=je.current,q(je,t),q(Fe,Fe.current),!0}function iu(t,e,r){var n=t.stateNode;if(!n)throw Error(E(169));r?(t=Nh(t,e,xr),n.__reactInternalMemoizedMergedChildContext=t,K(Fe),K(je),q(je,t)):K(Fe),q(Fe,r)}var vt=null,Zi=!1,Fa=!1;function Sh(t){vt===null?vt=[t]:vt.push(t)}function v0(t){Zi=!0,Sh(t)}function Zt(){if(!Fa&&vt!==null){Fa=!0;var t=0,e=W;try{var r=vt;for(W=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}vt=null,Zi=!1}catch(s){throw vt!==null&&(vt=vt.slice(t+1)),Yd(Nl,Zt),s}finally{W=e,Fa=!1}}return null}var Wr=[],Vr=0,_i=null,ji=0,qe=[],He=0,wr=null,yt=1,xt="";function ir(t,e){Wr[Vr++]=ji,Wr[Vr++]=_i,_i=t,ji=e}function Eh(t,e,r){qe[He++]=yt,qe[He++]=xt,qe[He++]=wr,wr=t;var n=yt;t=xt;var s=32-it(n)-1;n&=~(1<<s),r+=1;var i=32-it(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,yt=1<<32-it(e)+s|r<<s|n,xt=i+t}else yt=1<<i|r<<s|n,xt=t}function Fl(t){t.return!==null&&(ir(t,1),Eh(t,1,0))}function Il(t){for(;t===_i;)_i=Wr[--Vr],Wr[Vr]=null,ji=Wr[--Vr],Wr[Vr]=null;for(;t===wr;)wr=qe[--He],qe[He]=null,xt=qe[--He],qe[He]=null,yt=qe[--He],qe[He]=null}var Be=null,ze=null,J=!1,st=null;function Ch(t,e){var r=Ke(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function au(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Be=t,ze=Bt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Be=t,ze=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=wr!==null?{id:yt,overflow:xt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ke(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Be=t,ze=null,!0):!1;default:return!1}}function So(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Eo(t){if(J){var e=ze;if(e){var r=e;if(!au(t,e)){if(So(t))throw Error(E(418));e=Bt(r.nextSibling);var n=Be;e&&au(t,e)?Ch(n,r):(t.flags=t.flags&-4097|2,J=!1,Be=t)}}else{if(So(t))throw Error(E(418));t.flags=t.flags&-4097|2,J=!1,Be=t}}}function ou(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Be=t}function Ds(t){if(t!==Be)return!1;if(!J)return ou(t),J=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_o(t.type,t.memoizedProps)),e&&(e=ze)){if(So(t))throw Ph(),Error(E(418));for(;e;)Ch(t,e),e=Bt(e.nextSibling)}if(ou(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ze=Bt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ze=null}}else ze=Be?Bt(t.stateNode.nextSibling):null;return!0}function Ph(){for(var t=ze;t;)t=Bt(t.nextSibling)}function an(){ze=Be=null,J=!1}function Dl(t){st===null?st=[t]:st.push(t)}var y0=Nt.ReactCurrentBatchConfig;function Cn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,t))}return t}function $s(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lu(t){var e=t._init;return e(t._payload)}function Th(t){function e(f,p){if(t){var y=f.deletions;y===null?(f.deletions=[p],f.flags|=16):y.push(p)}}function r(f,p){if(!t)return null;for(;p!==null;)e(f,p),p=p.sibling;return null}function n(f,p){for(f=new Map;p!==null;)p.key!==null?f.set(p.key,p):f.set(p.index,p),p=p.sibling;return f}function s(f,p){return f=qt(f,p),f.index=0,f.sibling=null,f}function i(f,p,y){return f.index=y,t?(y=f.alternate,y!==null?(y=y.index,y<p?(f.flags|=2,p):y):(f.flags|=2,p)):(f.flags|=1048576,p)}function o(f){return t&&f.alternate===null&&(f.flags|=2),f}function l(f,p,y,b){return p===null||p.tag!==6?(p=Ba(y,f.mode,b),p.return=f,p):(p=s(p,y),p.return=f,p)}function c(f,p,y,b){var k=y.type;return k===$r?d(f,p,y.props.children,b,y.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Pt&&lu(k)===p.type)?(b=s(p,y.props),b.ref=Cn(f,p,y),b.return=f,b):(b=oi(y.type,y.key,y.props,null,f.mode,b),b.ref=Cn(f,p,y),b.return=f,b)}function u(f,p,y,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=Ma(y,f.mode,b),p.return=f,p):(p=s(p,y.children||[]),p.return=f,p)}function d(f,p,y,b,k){return p===null||p.tag!==7?(p=yr(y,f.mode,b,k),p.return=f,p):(p=s(p,y),p.return=f,p)}function h(f,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ba(""+p,f.mode,y),p.return=f,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ss:return y=oi(p.type,p.key,p.props,null,f.mode,y),y.ref=Cn(f,null,p),y.return=f,y;case Dr:return p=Ma(p,f.mode,y),p.return=f,p;case Pt:var b=p._init;return h(f,b(p._payload),y)}if(Rn(p)||jn(p))return p=yr(p,f.mode,y,null),p.return=f,p;$s(f,p)}return null}function m(f,p,y,b){var k=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return k!==null?null:l(f,p,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ss:return y.key===k?c(f,p,y,b):null;case Dr:return y.key===k?u(f,p,y,b):null;case Pt:return k=y._init,m(f,p,k(y._payload),b)}if(Rn(y)||jn(y))return k!==null?null:d(f,p,y,b,null);$s(f,y)}return null}function v(f,p,y,b,k){if(typeof b=="string"&&b!==""||typeof b=="number")return f=f.get(y)||null,l(p,f,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ss:return f=f.get(b.key===null?y:b.key)||null,c(p,f,b,k);case Dr:return f=f.get(b.key===null?y:b.key)||null,u(p,f,b,k);case Pt:var j=b._init;return v(f,p,y,j(b._payload),k)}if(Rn(b)||jn(b))return f=f.get(y)||null,d(p,f,b,k,null);$s(p,b)}return null}function g(f,p,y,b){for(var k=null,j=null,N=p,S=p=0,D=null;N!==null&&S<y.length;S++){N.index>S?(D=N,N=null):D=N.sibling;var F=m(f,N,y[S],b);if(F===null){N===null&&(N=D);break}t&&N&&F.alternate===null&&e(f,N),p=i(F,p,S),j===null?k=F:j.sibling=F,j=F,N=D}if(S===y.length)return r(f,N),J&&ir(f,S),k;if(N===null){for(;S<y.length;S++)N=h(f,y[S],b),N!==null&&(p=i(N,p,S),j===null?k=N:j.sibling=N,j=N);return J&&ir(f,S),k}for(N=n(f,N);S<y.length;S++)D=v(N,f,S,y[S],b),D!==null&&(t&&D.alternate!==null&&N.delete(D.key===null?S:D.key),p=i(D,p,S),j===null?k=D:j.sibling=D,j=D);return t&&N.forEach(function(pe){return e(f,pe)}),J&&ir(f,S),k}function x(f,p,y,b){var k=jn(y);if(typeof k!="function")throw Error(E(150));if(y=k.call(y),y==null)throw Error(E(151));for(var j=k=null,N=p,S=p=0,D=null,F=y.next();N!==null&&!F.done;S++,F=y.next()){N.index>S?(D=N,N=null):D=N.sibling;var pe=m(f,N,F.value,b);if(pe===null){N===null&&(N=D);break}t&&N&&pe.alternate===null&&e(f,N),p=i(pe,p,S),j===null?k=pe:j.sibling=pe,j=pe,N=D}if(F.done)return r(f,N),J&&ir(f,S),k;if(N===null){for(;!F.done;S++,F=y.next())F=h(f,F.value,b),F!==null&&(p=i(F,p,S),j===null?k=F:j.sibling=F,j=F);return J&&ir(f,S),k}for(N=n(f,N);!F.done;S++,F=y.next())F=v(N,f,S,F.value,b),F!==null&&(t&&F.alternate!==null&&N.delete(F.key===null?S:F.key),p=i(F,p,S),j===null?k=F:j.sibling=F,j=F);return t&&N.forEach(function(mt){return e(f,mt)}),J&&ir(f,S),k}function w(f,p,y,b){if(typeof y=="object"&&y!==null&&y.type===$r&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ss:e:{for(var k=y.key,j=p;j!==null;){if(j.key===k){if(k=y.type,k===$r){if(j.tag===7){r(f,j.sibling),p=s(j,y.props.children),p.return=f,f=p;break e}}else if(j.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Pt&&lu(k)===j.type){r(f,j.sibling),p=s(j,y.props),p.ref=Cn(f,j,y),p.return=f,f=p;break e}r(f,j);break}else e(f,j);j=j.sibling}y.type===$r?(p=yr(y.props.children,f.mode,b,y.key),p.return=f,f=p):(b=oi(y.type,y.key,y.props,null,f.mode,b),b.ref=Cn(f,p,y),b.return=f,f=b)}return o(f);case Dr:e:{for(j=y.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){r(f,p.sibling),p=s(p,y.children||[]),p.return=f,f=p;break e}else{r(f,p);break}else e(f,p);p=p.sibling}p=Ma(y,f.mode,b),p.return=f,f=p}return o(f);case Pt:return j=y._init,w(f,p,j(y._payload),b)}if(Rn(y))return g(f,p,y,b);if(jn(y))return x(f,p,y,b);$s(f,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(r(f,p.sibling),p=s(p,y),p.return=f,f=p):(r(f,p),p=Ba(y,f.mode,b),p.return=f,f=p),o(f)):r(f,p)}return w}var on=Th(!0),Oh=Th(!1),ki=Xt(null),Ni=null,qr=null,$l=null;function Ll(){$l=qr=Ni=null}function Ul(t){var e=ki.current;K(ki),t._currentValue=e}function Co(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Xr(t,e){Ni=t,$l=qr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Re=!0),t.firstContext=null)}function Je(t){var e=t._currentValue;if($l!==t)if(t={context:t,memoizedValue:e,next:null},qr===null){if(Ni===null)throw Error(E(308));qr=t,Ni.dependencies={lanes:0,firstContext:t}}else qr=qr.next=t;return e}var fr=null;function zl(t){fr===null?fr=[t]:fr.push(t)}function Ah(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,zl(e)):(r.next=s.next,s.next=r),e.interleaved=r,jt(t,n)}function jt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Tt=!1;function Bl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function wt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,B&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,jt(t,r)}return s=n.interleaved,s===null?(e.next=e,zl(n)):(e.next=s.next,s.next=e),n.interleaved=e,jt(t,r)}function ti(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Sl(t,r)}}function cu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Si(t,e,r,n){var s=t.updateQueue;Tt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var m=l.lane,v=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=t,x=l;switch(m=e,v=r,x.tag){case 1:if(g=x.payload,typeof g=="function"){h=g.call(v,h,m);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,m=typeof g=="function"?g.call(v,h,m):g,m==null)break e;h=ee({},h,m);break e;case 2:Tt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,c=h):d=d.next=v,o|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);_r|=o,t.lanes=o,t.memoizedState=h}}function uu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var ws={},ft=Xt(ws),as=Xt(ws),os=Xt(ws);function pr(t){if(t===ws)throw Error(E(174));return t}function Ml(t,e){switch(q(os,e),q(as,t),q(ft,ws),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:oo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=oo(e,t)}K(ft),q(ft,e)}function ln(){K(ft),K(as),K(os)}function Fh(t){pr(os.current);var e=pr(ft.current),r=oo(e,t.type);e!==r&&(q(as,t),q(ft,r))}function Wl(t){as.current===t&&(K(ft),K(as))}var X=Xt(0);function Ei(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ia=[];function Vl(){for(var t=0;t<Ia.length;t++)Ia[t]._workInProgressVersionPrimary=null;Ia.length=0}var ri=Nt.ReactCurrentDispatcher,Da=Nt.ReactCurrentBatchConfig,br=0,Z=null,ue=null,he=null,Ci=!1,Vn=!1,ls=0,x0=0;function we(){throw Error(E(321))}function ql(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ot(t[r],e[r]))return!1;return!0}function Hl(t,e,r,n,s,i){if(br=i,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ri.current=t===null||t.memoizedState===null?j0:k0,t=r(n,s),Vn){i=0;do{if(Vn=!1,ls=0,25<=i)throw Error(E(301));i+=1,he=ue=null,e.updateQueue=null,ri.current=N0,t=r(n,s)}while(Vn)}if(ri.current=Pi,e=ue!==null&&ue.next!==null,br=0,he=ue=Z=null,Ci=!1,e)throw Error(E(300));return t}function Kl(){var t=ls!==0;return ls=0,t}function ct(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?Z.memoizedState=he=t:he=he.next=t,he}function Qe(){if(ue===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=ue.next;var e=he===null?Z.memoizedState:he.next;if(e!==null)he=e,ue=t;else{if(t===null)throw Error(E(310));ue=t,t={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},he===null?Z.memoizedState=he=t:he=he.next=t}return he}function cs(t,e){return typeof e=="function"?e(t):e}function $a(t){var e=Qe(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=ue,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((br&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,Z.lanes|=d,_r|=d}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,ot(n,e.memoizedState)||(Re=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Z.lanes|=i,_r|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function La(t){var e=Qe(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ot(i,e.memoizedState)||(Re=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function Ih(){}function Dh(t,e){var r=Z,n=Qe(),s=e(),i=!ot(n.memoizedState,s);if(i&&(n.memoizedState=s,Re=!0),n=n.queue,Gl(Uh.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||he!==null&&he.memoizedState.tag&1){if(r.flags|=2048,us(9,Lh.bind(null,r,n,s,e),void 0,null),fe===null)throw Error(E(349));br&30||$h(r,e,s)}return s}function $h(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Lh(t,e,r,n){e.value=r,e.getSnapshot=n,zh(e)&&Bh(t)}function Uh(t,e,r){return r(function(){zh(e)&&Bh(t)})}function zh(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ot(t,r)}catch{return!0}}function Bh(t){var e=jt(t,1);e!==null&&at(e,t,1,-1)}function du(t){var e=ct();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:t},e.queue=t,t=t.dispatch=_0.bind(null,Z,t),[e.memoizedState,t]}function us(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Mh(){return Qe().memoizedState}function ni(t,e,r,n){var s=ct();Z.flags|=t,s.memoizedState=us(1|e,r,void 0,n===void 0?null:n)}function ea(t,e,r,n){var s=Qe();n=n===void 0?null:n;var i=void 0;if(ue!==null){var o=ue.memoizedState;if(i=o.destroy,n!==null&&ql(n,o.deps)){s.memoizedState=us(e,r,i,n);return}}Z.flags|=t,s.memoizedState=us(1|e,r,i,n)}function hu(t,e){return ni(8390656,8,t,e)}function Gl(t,e){return ea(2048,8,t,e)}function Wh(t,e){return ea(4,2,t,e)}function Vh(t,e){return ea(4,4,t,e)}function qh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Hh(t,e,r){return r=r!=null?r.concat([t]):null,ea(4,4,qh.bind(null,e,t),r)}function Jl(){}function Kh(t,e){var r=Qe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ql(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Gh(t,e){var r=Qe();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ql(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Jh(t,e,r){return br&21?(ot(r,e)||(r=eh(),Z.lanes|=r,_r|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Re=!0),t.memoizedState=r)}function w0(t,e){var r=W;W=r!==0&&4>r?r:4,t(!0);var n=Da.transition;Da.transition={};try{t(!1),e()}finally{W=r,Da.transition=n}}function Qh(){return Qe().memoizedState}function b0(t,e,r){var n=Vt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Yh(t))Xh(e,r);else if(r=Ah(t,e,r,n),r!==null){var s=Ce();at(r,t,n,s),Zh(r,e,n)}}function _0(t,e,r){var n=Vt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Yh(t))Xh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,ot(l,o)){var c=e.interleaved;c===null?(s.next=s,zl(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}r=Ah(t,e,s,n),r!==null&&(s=Ce(),at(r,t,n,s),Zh(r,e,n))}}function Yh(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function Xh(t,e){Vn=Ci=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Zh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Sl(t,r)}}var Pi={readContext:Je,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useInsertionEffect:we,useLayoutEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useMutableSource:we,useSyncExternalStore:we,useId:we,unstable_isNewReconciler:!1},j0={readContext:Je,useCallback:function(t,e){return ct().memoizedState=[t,e===void 0?null:e],t},useContext:Je,useEffect:hu,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,ni(4194308,4,qh.bind(null,e,t),r)},useLayoutEffect:function(t,e){return ni(4194308,4,t,e)},useInsertionEffect:function(t,e){return ni(4,2,t,e)},useMemo:function(t,e){var r=ct();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ct();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=b0.bind(null,Z,t),[n.memoizedState,t]},useRef:function(t){var e=ct();return t={current:t},e.memoizedState=t},useState:du,useDebugValue:Jl,useDeferredValue:function(t){return ct().memoizedState=t},useTransition:function(){var t=du(!1),e=t[0];return t=w0.bind(null,t[1]),ct().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Z,s=ct();if(J){if(r===void 0)throw Error(E(407));r=r()}else{if(r=e(),fe===null)throw Error(E(349));br&30||$h(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,hu(Uh.bind(null,n,i,t),[t]),n.flags|=2048,us(9,Lh.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=ct(),e=fe.identifierPrefix;if(J){var r=xt,n=yt;r=(n&~(1<<32-it(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ls++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=x0++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},k0={readContext:Je,useCallback:Kh,useContext:Je,useEffect:Gl,useImperativeHandle:Hh,useInsertionEffect:Wh,useLayoutEffect:Vh,useMemo:Gh,useReducer:$a,useRef:Mh,useState:function(){return $a(cs)},useDebugValue:Jl,useDeferredValue:function(t){var e=Qe();return Jh(e,ue.memoizedState,t)},useTransition:function(){var t=$a(cs)[0],e=Qe().memoizedState;return[t,e]},useMutableSource:Ih,useSyncExternalStore:Dh,useId:Qh,unstable_isNewReconciler:!1},N0={readContext:Je,useCallback:Kh,useContext:Je,useEffect:Gl,useImperativeHandle:Hh,useInsertionEffect:Wh,useLayoutEffect:Vh,useMemo:Gh,useReducer:La,useRef:Mh,useState:function(){return La(cs)},useDebugValue:Jl,useDeferredValue:function(t){var e=Qe();return ue===null?e.memoizedState=t:Jh(e,ue.memoizedState,t)},useTransition:function(){var t=La(cs)[0],e=Qe().memoizedState;return[t,e]},useMutableSource:Ih,useSyncExternalStore:Dh,useId:Qh,unstable_isNewReconciler:!1};function et(t,e){if(t&&t.defaultProps){e=ee({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Po(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ee({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ta={isMounted:function(t){return(t=t._reactInternals)?Nr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ce(),s=Vt(t),i=wt(n,s);i.payload=e,r!=null&&(i.callback=r),e=Mt(t,i,s),e!==null&&(at(e,t,s,n),ti(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ce(),s=Vt(t),i=wt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Mt(t,i,s),e!==null&&(at(e,t,s,n),ti(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ce(),n=Vt(t),s=wt(r,n);s.tag=2,e!=null&&(s.callback=e),e=Mt(t,s,n),e!==null&&(at(e,t,n,r),ti(e,t,n))}};function fu(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!rs(r,n)||!rs(s,i):!0}function ef(t,e,r){var n=!1,s=Jt,i=e.contextType;return typeof i=="object"&&i!==null?i=Je(i):(s=Ie(e)?xr:je.current,n=e.contextTypes,i=(n=n!=null)?sn(t,s):Jt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ta,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function pu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ta.enqueueReplaceState(e,e.state,null)}function To(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Bl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Je(i):(i=Ie(e)?xr:je.current,s.context=sn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Po(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ta.enqueueReplaceState(s,s.state,null),Si(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function cn(t,e){try{var r="",n=e;do r+=Zm(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Ua(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Oo(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var S0=typeof WeakMap=="function"?WeakMap:Map;function tf(t,e,r){r=wt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Oi||(Oi=!0,Bo=n),Oo(t,e)},r}function rf(t,e,r){r=wt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Oo(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Oo(t,e),typeof n!="function"&&(Wt===null?Wt=new Set([this]):Wt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function mu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new S0;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=z0.bind(null,t,e,r),e.then(t,t))}function gu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=wt(-1,1),e.tag=2,Mt(r,e,1))),r.lanes|=1),t)}var E0=Nt.ReactCurrentOwner,Re=!1;function Se(t,e,r,n){e.child=t===null?Oh(e,null,r,n):on(e,t.child,r,n)}function yu(t,e,r,n,s){r=r.render;var i=e.ref;return Xr(e,s),n=Hl(t,e,r,n,i,s),r=Kl(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kt(t,e,s)):(J&&r&&Fl(e),e.flags|=1,Se(t,e,n,s),e.child)}function xu(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!nc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,nf(t,e,i,n,s)):(t=oi(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:rs,r(o,n)&&t.ref===e.ref)return kt(t,e,s)}return e.flags|=1,t=qt(i,n),t.ref=e.ref,t.return=e,e.child=t}function nf(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(rs(i,n)&&t.ref===e.ref)if(Re=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Re=!0);else return e.lanes=t.lanes,kt(t,e,s)}return Ao(t,e,r,n,s)}function sf(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(Kr,$e),$e|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,q(Kr,$e),$e|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,q(Kr,$e),$e|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,q(Kr,$e),$e|=n;return Se(t,e,s,r),e.child}function af(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ao(t,e,r,n,s){var i=Ie(r)?xr:je.current;return i=sn(e,i),Xr(e,s),r=Hl(t,e,r,n,i,s),n=Kl(),t!==null&&!Re?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kt(t,e,s)):(J&&n&&Fl(e),e.flags|=1,Se(t,e,r,s),e.child)}function wu(t,e,r,n,s){if(Ie(r)){var i=!0;bi(e)}else i=!1;if(Xr(e,s),e.stateNode===null)si(t,e),ef(e,r,n),To(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Je(u):(u=Ie(r)?xr:je.current,u=sn(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&pu(e,o,n,u),Tt=!1;var m=e.memoizedState;o.state=m,Si(e,n,o,s),c=e.memoizedState,l!==n||m!==c||Fe.current||Tt?(typeof d=="function"&&(Po(e,r,d,n),c=e.memoizedState),(l=Tt||fu(e,r,l,n,m,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,Rh(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:et(e.type,l),o.props=u,h=e.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Je(c):(c=Ie(r)?xr:je.current,c=sn(e,c));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||m!==c)&&pu(e,o,n,c),Tt=!1,m=e.memoizedState,o.state=m,Si(e,n,o,s);var g=e.memoizedState;l!==h||m!==g||Fe.current||Tt?(typeof v=="function"&&(Po(e,r,v,n),g=e.memoizedState),(u=Tt||fu(e,r,u,n,m,g,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return Ro(t,e,r,n,i,s)}function Ro(t,e,r,n,s,i){af(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&iu(e,r,!1),kt(t,e,i);n=e.stateNode,E0.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=on(e,t.child,null,i),e.child=on(e,null,l,i)):Se(t,e,l,i),e.memoizedState=n.state,s&&iu(e,r,!0),e.child}function of(t){var e=t.stateNode;e.pendingContext?su(t,e.pendingContext,e.pendingContext!==e.context):e.context&&su(t,e.context,!1),Ml(t,e.containerInfo)}function bu(t,e,r,n,s){return an(),Dl(s),e.flags|=256,Se(t,e,r,n),e.child}var Fo={dehydrated:null,treeContext:null,retryLane:0};function Io(t){return{baseLanes:t,cachePool:null,transitions:null}}function lf(t,e,r){var n=e.pendingProps,s=X.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),q(X,s&1),t===null)return Eo(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=sa(o,n,0,null),t=yr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Io(r),e.memoizedState=Fo,t):Ql(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return C0(t,e,o,n,l,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=qt(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=qt(l,i):(i=yr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?Io(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Fo,n}return i=t.child,t=i.sibling,n=qt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Ql(t,e){return e=sa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ls(t,e,r,n){return n!==null&&Dl(n),on(e,t.child,null,r),t=Ql(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function C0(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Ua(Error(E(422))),Ls(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=sa({mode:"visible",children:n.children},s,0,null),i=yr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&on(e,t.child,null,o),e.child.memoizedState=Io(o),e.memoizedState=Fo,i);if(!(e.mode&1))return Ls(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(E(419)),n=Ua(i,n,void 0),Ls(t,e,o,n)}if(l=(o&t.childLanes)!==0,Re||l){if(n=fe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,jt(t,s),at(n,t,s,-1))}return rc(),n=Ua(Error(E(421))),Ls(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=B0.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ze=Bt(s.nextSibling),Be=e,J=!0,st=null,t!==null&&(qe[He++]=yt,qe[He++]=xt,qe[He++]=wr,yt=t.id,xt=t.overflow,wr=e),e=Ql(e,n.children),e.flags|=4096,e)}function _u(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Co(t.return,e,r)}function za(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function cf(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Se(t,e,n.children,r),n=X.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_u(t,r,e);else if(t.tag===19)_u(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(q(X,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Ei(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),za(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ei(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}za(e,!0,r,null,i);break;case"together":za(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function si(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),_r|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,r=qt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=qt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function P0(t,e,r){switch(e.tag){case 3:of(e),an();break;case 5:Fh(e);break;case 1:Ie(e.type)&&bi(e);break;case 4:Ml(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;q(ki,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(q(X,X.current&1),e.flags|=128,null):r&e.child.childLanes?lf(t,e,r):(q(X,X.current&1),t=kt(t,e,r),t!==null?t.sibling:null);q(X,X.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return cf(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(X,X.current),n)break;return null;case 22:case 23:return e.lanes=0,sf(t,e,r)}return kt(t,e,r)}var uf,Do,df,hf;uf=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Do=function(){};df=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,pr(ft.current);var i=null;switch(r){case"input":s=no(t,s),n=no(t,n),i=[];break;case"select":s=ee({},s,{value:void 0}),n=ee({},n,{value:void 0}),i=[];break;case"textarea":s=ao(t,s),n=ao(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=xi)}lo(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Jn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Jn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&H("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};hf=function(t,e,r,n){r!==n&&(e.flags|=4)};function Pn(t,e){if(!J)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function be(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function T0(t,e,r){var n=e.pendingProps;switch(Il(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(e),null;case 1:return Ie(e.type)&&wi(),be(e),null;case 3:return n=e.stateNode,ln(),K(Fe),K(je),Vl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ds(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,st!==null&&(Vo(st),st=null))),Do(t,e),be(e),null;case 5:Wl(e);var s=pr(os.current);if(r=e.type,t!==null&&e.stateNode!=null)df(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(E(166));return be(e),null}if(t=pr(ft.current),Ds(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[dt]=e,n[is]=i,t=(e.mode&1)!==0,r){case"dialog":H("cancel",n),H("close",n);break;case"iframe":case"object":case"embed":H("load",n);break;case"video":case"audio":for(s=0;s<In.length;s++)H(In[s],n);break;case"source":H("error",n);break;case"img":case"image":case"link":H("error",n),H("load",n);break;case"details":H("toggle",n);break;case"input":Oc(n,i),H("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},H("invalid",n);break;case"textarea":Rc(n,i),H("invalid",n)}lo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&Is(n.textContent,l,t),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Is(n.textContent,l,t),s=["children",""+l]):Jn.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&H("scroll",n)}switch(r){case"input":Es(n),Ac(n,i,!0);break;case"textarea":Es(n),Fc(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=xi)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ud(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[dt]=e,t[is]=n,uf(t,e,!1,!1),e.stateNode=t;e:{switch(o=co(r,n),r){case"dialog":H("cancel",t),H("close",t),s=n;break;case"iframe":case"object":case"embed":H("load",t),s=n;break;case"video":case"audio":for(s=0;s<In.length;s++)H(In[s],t);s=n;break;case"source":H("error",t),s=n;break;case"img":case"image":case"link":H("error",t),H("load",t),s=n;break;case"details":H("toggle",t),s=n;break;case"input":Oc(t,n),s=no(t,n),H("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ee({},n,{value:void 0}),H("invalid",t);break;case"textarea":Rc(t,n),s=ao(t,n),H("invalid",t);break;default:s=n}lo(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Md(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zd(t,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Qn(t,c):typeof c=="number"&&Qn(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Jn.hasOwnProperty(i)?c!=null&&i==="onScroll"&&H("scroll",t):c!=null&&wl(t,i,c,o))}switch(r){case"input":Es(t),Ac(t,n,!1);break;case"textarea":Es(t),Fc(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Gt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Gr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Gr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=xi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return be(e),null;case 6:if(t&&e.stateNode!=null)hf(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(E(166));if(r=pr(os.current),pr(ft.current),Ds(e)){if(n=e.stateNode,r=e.memoizedProps,n[dt]=e,(i=n.nodeValue!==r)&&(t=Be,t!==null))switch(t.tag){case 3:Is(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Is(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[dt]=e,e.stateNode=n}return be(e),null;case 13:if(K(X),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(J&&ze!==null&&e.mode&1&&!(e.flags&128))Ph(),an(),e.flags|=98560,i=!1;else if(i=Ds(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[dt]=e}else an(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;be(e),i=!1}else st!==null&&(Vo(st),st=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||X.current&1?de===0&&(de=3):rc())),e.updateQueue!==null&&(e.flags|=4),be(e),null);case 4:return ln(),Do(t,e),t===null&&ns(e.stateNode.containerInfo),be(e),null;case 10:return Ul(e.type._context),be(e),null;case 17:return Ie(e.type)&&wi(),be(e),null;case 19:if(K(X),i=e.memoizedState,i===null)return be(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Pn(i,!1);else{if(de!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ei(t),o!==null){for(e.flags|=128,Pn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return q(X,X.current&1|2),e.child}t=t.sibling}i.tail!==null&&se()>un&&(e.flags|=128,n=!0,Pn(i,!1),e.lanes=4194304)}else{if(!n)if(t=Ei(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Pn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return be(e),null}else 2*se()-i.renderingStartTime>un&&r!==1073741824&&(e.flags|=128,n=!0,Pn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=se(),e.sibling=null,r=X.current,q(X,n?r&1|2:r&1),e):(be(e),null);case 22:case 23:return tc(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?$e&1073741824&&(be(e),e.subtreeFlags&6&&(e.flags|=8192)):be(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function O0(t,e){switch(Il(e),e.tag){case 1:return Ie(e.type)&&wi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ln(),K(Fe),K(je),Vl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wl(e),null;case 13:if(K(X),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));an()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return K(X),null;case 4:return ln(),null;case 10:return Ul(e.type._context),null;case 22:case 23:return tc(),null;case 24:return null;default:return null}}var Us=!1,_e=!1,A0=typeof WeakSet=="function"?WeakSet:Set,T=null;function Hr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){te(t,e,n)}else r.current=null}function $o(t,e,r){try{r()}catch(n){te(t,e,n)}}var ju=!1;function R0(t,e){if(wo=gi,t=gh(),Rl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,m=null;t:for(;;){for(var v;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==i||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)m=h,h=v;for(;;){if(h===t)break t;if(m===r&&++u===s&&(l=o),m===i&&++d===n&&(c=o),(v=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=v}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(bo={focusedElem:t,selectionRange:r},gi=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,w=g.memoizedState,f=e.stateNode,p=f.getSnapshotBeforeUpdate(e.elementType===e.type?x:et(e.type,x),w);f.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(b){te(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return g=ju,ju=!1,g}function qn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&$o(e,r,i)}s=s.next}while(s!==n)}}function ra(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Lo(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function ff(t){var e=t.alternate;e!==null&&(t.alternate=null,ff(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dt],delete e[is],delete e[ko],delete e[m0],delete e[g0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pf(t){return t.tag===5||t.tag===3||t.tag===4}function ku(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Uo(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=xi));else if(n!==4&&(t=t.child,t!==null))for(Uo(t,e,r),t=t.sibling;t!==null;)Uo(t,e,r),t=t.sibling}function zo(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(zo(t,e,r),t=t.sibling;t!==null;)zo(t,e,r),t=t.sibling}var ve=null,rt=!1;function Ct(t,e,r){for(r=r.child;r!==null;)mf(t,e,r),r=r.sibling}function mf(t,e,r){if(ht&&typeof ht.onCommitFiberUnmount=="function")try{ht.onCommitFiberUnmount(Gi,r)}catch{}switch(r.tag){case 5:_e||Hr(r,e);case 6:var n=ve,s=rt;ve=null,Ct(t,e,r),ve=n,rt=s,ve!==null&&(rt?(t=ve,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ve.removeChild(r.stateNode));break;case 18:ve!==null&&(rt?(t=ve,r=r.stateNode,t.nodeType===8?Ra(t.parentNode,r):t.nodeType===1&&Ra(t,r),es(t)):Ra(ve,r.stateNode));break;case 4:n=ve,s=rt,ve=r.stateNode.containerInfo,rt=!0,Ct(t,e,r),ve=n,rt=s;break;case 0:case 11:case 14:case 15:if(!_e&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&$o(r,e,o),s=s.next}while(s!==n)}Ct(t,e,r);break;case 1:if(!_e&&(Hr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){te(r,e,l)}Ct(t,e,r);break;case 21:Ct(t,e,r);break;case 22:r.mode&1?(_e=(n=_e)||r.memoizedState!==null,Ct(t,e,r),_e=n):Ct(t,e,r);break;default:Ct(t,e,r)}}function Nu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new A0),e.forEach(function(n){var s=M0.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Xe(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ve=l.stateNode,rt=!1;break e;case 3:ve=l.stateNode.containerInfo,rt=!0;break e;case 4:ve=l.stateNode.containerInfo,rt=!0;break e}l=l.return}if(ve===null)throw Error(E(160));mf(i,o,s),ve=null,rt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){te(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gf(e,t),e=e.sibling}function gf(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xe(e,t),lt(t),n&4){try{qn(3,t,t.return),ra(3,t)}catch(x){te(t,t.return,x)}try{qn(5,t,t.return)}catch(x){te(t,t.return,x)}}break;case 1:Xe(e,t),lt(t),n&512&&r!==null&&Hr(r,r.return);break;case 5:if(Xe(e,t),lt(t),n&512&&r!==null&&Hr(r,r.return),t.flags&32){var s=t.stateNode;try{Qn(s,"")}catch(x){te(t,t.return,x)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&$d(s,i),co(l,o);var u=co(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Md(s,h):d==="dangerouslySetInnerHTML"?zd(s,h):d==="children"?Qn(s,h):wl(s,d,h,u)}switch(l){case"input":so(s,i);break;case"textarea":Ld(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Gr(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?Gr(s,!!i.multiple,i.defaultValue,!0):Gr(s,!!i.multiple,i.multiple?[]:"",!1))}s[is]=i}catch(x){te(t,t.return,x)}}break;case 6:if(Xe(e,t),lt(t),n&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){te(t,t.return,x)}}break;case 3:if(Xe(e,t),lt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{es(e.containerInfo)}catch(x){te(t,t.return,x)}break;case 4:Xe(e,t),lt(t);break;case 13:Xe(e,t),lt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Zl=se())),n&4&&Nu(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(_e=(u=_e)||d,Xe(e,t),_e=u):Xe(e,t),lt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(T=t,d=t.child;d!==null;){for(h=T=d;T!==null;){switch(m=T,v=m.child,m.tag){case 0:case 11:case 14:case 15:qn(4,m,m.return);break;case 1:Hr(m,m.return);var g=m.stateNode;if(typeof g.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){te(n,r,x)}}break;case 5:Hr(m,m.return);break;case 22:if(m.memoizedState!==null){Eu(h);continue}}v!==null?(v.return=m,T=v):Eu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Bd("display",o))}catch(x){te(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){te(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xe(e,t),lt(t),n&4&&Nu(t);break;case 21:break;default:Xe(e,t),lt(t)}}function lt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(pf(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Qn(s,""),n.flags&=-33);var i=ku(t);zo(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=ku(t);Uo(t,l,o);break;default:throw Error(E(161))}}catch(c){te(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function F0(t,e,r){T=t,vf(t)}function vf(t,e,r){for(var n=(t.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Us;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||_e;l=Us;var u=_e;if(Us=o,(_e=c)&&!u)for(T=s;T!==null;)o=T,c=o.child,o.tag===22&&o.memoizedState!==null?Cu(s):c!==null?(c.return=o,T=c):Cu(s);for(;i!==null;)T=i,vf(i),i=i.sibling;T=s,Us=l,_e=u}Su(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):Su(t)}}function Su(t){for(;T!==null;){var e=T;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_e||ra(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!_e)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:et(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&uu(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}uu(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&es(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}_e||e.flags&512&&Lo(e)}catch(m){te(e,e.return,m)}}if(e===t){T=null;break}if(r=e.sibling,r!==null){r.return=e.return,T=r;break}T=e.return}}function Eu(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var r=e.sibling;if(r!==null){r.return=e.return,T=r;break}T=e.return}}function Cu(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ra(4,e)}catch(c){te(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(c){te(e,s,c)}}var i=e.return;try{Lo(e)}catch(c){te(e,i,c)}break;case 5:var o=e.return;try{Lo(e)}catch(c){te(e,o,c)}}}catch(c){te(e,e.return,c)}if(e===t){T=null;break}var l=e.sibling;if(l!==null){l.return=e.return,T=l;break}T=e.return}}var I0=Math.ceil,Ti=Nt.ReactCurrentDispatcher,Yl=Nt.ReactCurrentOwner,Ge=Nt.ReactCurrentBatchConfig,B=0,fe=null,le=null,ye=0,$e=0,Kr=Xt(0),de=0,ds=null,_r=0,na=0,Xl=0,Hn=null,Ae=null,Zl=0,un=1/0,gt=null,Oi=!1,Bo=null,Wt=null,zs=!1,Dt=null,Ai=0,Kn=0,Mo=null,ii=-1,ai=0;function Ce(){return B&6?se():ii!==-1?ii:ii=se()}function Vt(t){return t.mode&1?B&2&&ye!==0?ye&-ye:y0.transition!==null?(ai===0&&(ai=eh()),ai):(t=W,t!==0||(t=window.event,t=t===void 0?16:oh(t.type)),t):1}function at(t,e,r,n){if(50<Kn)throw Kn=0,Mo=null,Error(E(185));vs(t,r,n),(!(B&2)||t!==fe)&&(t===fe&&(!(B&2)&&(na|=r),de===4&&At(t,ye)),De(t,n),r===1&&B===0&&!(e.mode&1)&&(un=se()+500,Zi&&Zt()))}function De(t,e){var r=t.callbackNode;yg(t,e);var n=mi(t,t===fe?ye:0);if(n===0)r!==null&&$c(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&$c(r),e===1)t.tag===0?v0(Pu.bind(null,t)):Sh(Pu.bind(null,t)),f0(function(){!(B&6)&&Zt()}),r=null;else{switch(th(n)){case 1:r=Nl;break;case 4:r=Xd;break;case 16:r=pi;break;case 536870912:r=Zd;break;default:r=pi}r=Nf(r,yf.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function yf(t,e){if(ii=-1,ai=0,B&6)throw Error(E(327));var r=t.callbackNode;if(Zr()&&t.callbackNode!==r)return null;var n=mi(t,t===fe?ye:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ri(t,n);else{e=n;var s=B;B|=2;var i=wf();(fe!==t||ye!==e)&&(gt=null,un=se()+500,vr(t,e));do try{L0();break}catch(l){xf(t,l)}while(!0);Ll(),Ti.current=i,B=s,le!==null?e=0:(fe=null,ye=0,e=de)}if(e!==0){if(e===2&&(s=mo(t),s!==0&&(n=s,e=Wo(t,s))),e===1)throw r=ds,vr(t,0),At(t,n),De(t,se()),r;if(e===6)At(t,n);else{if(s=t.current.alternate,!(n&30)&&!D0(s)&&(e=Ri(t,n),e===2&&(i=mo(t),i!==0&&(n=i,e=Wo(t,i))),e===1))throw r=ds,vr(t,0),At(t,n),De(t,se()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(E(345));case 2:ar(t,Ae,gt);break;case 3:if(At(t,n),(n&130023424)===n&&(e=Zl+500-se(),10<e)){if(mi(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ce(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=jo(ar.bind(null,t,Ae,gt),e);break}ar(t,Ae,gt);break;case 4:if(At(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-it(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=se()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*I0(n/1960))-n,10<n){t.timeoutHandle=jo(ar.bind(null,t,Ae,gt),n);break}ar(t,Ae,gt);break;case 5:ar(t,Ae,gt);break;default:throw Error(E(329))}}}return De(t,se()),t.callbackNode===r?yf.bind(null,t):null}function Wo(t,e){var r=Hn;return t.current.memoizedState.isDehydrated&&(vr(t,e).flags|=256),t=Ri(t,e),t!==2&&(e=Ae,Ae=r,e!==null&&Vo(e)),t}function Vo(t){Ae===null?Ae=t:Ae.push.apply(Ae,t)}function D0(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!ot(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function At(t,e){for(e&=~Xl,e&=~na,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-it(e),n=1<<r;t[r]=-1,e&=~n}}function Pu(t){if(B&6)throw Error(E(327));Zr();var e=mi(t,0);if(!(e&1))return De(t,se()),null;var r=Ri(t,e);if(t.tag!==0&&r===2){var n=mo(t);n!==0&&(e=n,r=Wo(t,n))}if(r===1)throw r=ds,vr(t,0),At(t,e),De(t,se()),r;if(r===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ar(t,Ae,gt),De(t,se()),null}function ec(t,e){var r=B;B|=1;try{return t(e)}finally{B=r,B===0&&(un=se()+500,Zi&&Zt())}}function jr(t){Dt!==null&&Dt.tag===0&&!(B&6)&&Zr();var e=B;B|=1;var r=Ge.transition,n=W;try{if(Ge.transition=null,W=1,t)return t()}finally{W=n,Ge.transition=r,B=e,!(B&6)&&Zt()}}function tc(){$e=Kr.current,K(Kr)}function vr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,h0(r)),le!==null)for(r=le.return;r!==null;){var n=r;switch(Il(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wi();break;case 3:ln(),K(Fe),K(je),Vl();break;case 5:Wl(n);break;case 4:ln();break;case 13:K(X);break;case 19:K(X);break;case 10:Ul(n.type._context);break;case 22:case 23:tc()}r=r.return}if(fe=t,le=t=qt(t.current,null),ye=$e=e,de=0,ds=null,Xl=na=_r=0,Ae=Hn=null,fr!==null){for(e=0;e<fr.length;e++)if(r=fr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}fr=null}return t}function xf(t,e){do{var r=le;try{if(Ll(),ri.current=Pi,Ci){for(var n=Z.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ci=!1}if(br=0,he=ue=Z=null,Vn=!1,ls=0,Yl.current=null,r===null||r.return===null){de=1,ds=e,le=null;break}e:{var i=t,o=r.return,l=r,c=e;if(e=ye,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=gu(o);if(v!==null){v.flags&=-257,vu(v,o,l,i,e),v.mode&1&&mu(i,u,e),e=v,c=u;var g=e.updateQueue;if(g===null){var x=new Set;x.add(c),e.updateQueue=x}else g.add(c);break e}else{if(!(e&1)){mu(i,u,e),rc();break e}c=Error(E(426))}}else if(J&&l.mode&1){var w=gu(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),vu(w,o,l,i,e),Dl(cn(c,l));break e}}i=c=cn(c,l),de!==4&&(de=2),Hn===null?Hn=[i]:Hn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var f=tf(i,c,e);cu(i,f);break e;case 1:l=c;var p=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Wt===null||!Wt.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var b=rf(i,l,e);cu(i,b);break e}}i=i.return}while(i!==null)}_f(r)}catch(k){e=k,le===r&&r!==null&&(le=r=r.return);continue}break}while(!0)}function wf(){var t=Ti.current;return Ti.current=Pi,t===null?Pi:t}function rc(){(de===0||de===3||de===2)&&(de=4),fe===null||!(_r&268435455)&&!(na&268435455)||At(fe,ye)}function Ri(t,e){var r=B;B|=2;var n=wf();(fe!==t||ye!==e)&&(gt=null,vr(t,e));do try{$0();break}catch(s){xf(t,s)}while(!0);if(Ll(),B=r,Ti.current=n,le!==null)throw Error(E(261));return fe=null,ye=0,de}function $0(){for(;le!==null;)bf(le)}function L0(){for(;le!==null&&!cg();)bf(le)}function bf(t){var e=kf(t.alternate,t,$e);t.memoizedProps=t.pendingProps,e===null?_f(t):le=e,Yl.current=null}function _f(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=O0(r,e),r!==null){r.flags&=32767,le=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{de=6,le=null;return}}else if(r=T0(r,e,$e),r!==null){le=r;return}if(e=e.sibling,e!==null){le=e;return}le=e=t}while(e!==null);de===0&&(de=5)}function ar(t,e,r){var n=W,s=Ge.transition;try{Ge.transition=null,W=1,U0(t,e,r,n)}finally{Ge.transition=s,W=n}return null}function U0(t,e,r,n){do Zr();while(Dt!==null);if(B&6)throw Error(E(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(xg(t,i),t===fe&&(le=fe=null,ye=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||zs||(zs=!0,Nf(pi,function(){return Zr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Ge.transition,Ge.transition=null;var o=W;W=1;var l=B;B|=4,Yl.current=null,R0(t,r),gf(r,t),i0(bo),gi=!!wo,bo=wo=null,t.current=r,F0(r),ug(),B=l,W=o,Ge.transition=i}else t.current=r;if(zs&&(zs=!1,Dt=t,Ai=s),i=t.pendingLanes,i===0&&(Wt=null),fg(r.stateNode),De(t,se()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Oi)throw Oi=!1,t=Bo,Bo=null,t;return Ai&1&&t.tag!==0&&Zr(),i=t.pendingLanes,i&1?t===Mo?Kn++:(Kn=0,Mo=t):Kn=0,Zt(),null}function Zr(){if(Dt!==null){var t=th(Ai),e=Ge.transition,r=W;try{if(Ge.transition=null,W=16>t?16:t,Dt===null)var n=!1;else{if(t=Dt,Dt=null,Ai=0,B&6)throw Error(E(331));var s=B;for(B|=4,T=t.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(T=u;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:qn(8,d,i)}var h=d.child;if(h!==null)h.return=d,T=h;else for(;T!==null;){d=T;var m=d.sibling,v=d.return;if(ff(d),d===u){T=null;break}if(m!==null){m.return=v,T=m;break}T=v}}}var g=i.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:qn(9,i,i.return)}var f=i.sibling;if(f!==null){f.return=i.return,T=f;break e}T=i.return}}var p=t.current;for(T=p;T!==null;){o=T;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,T=y;else e:for(o=p;T!==null;){if(l=T,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ra(9,l)}}catch(k){te(l,l.return,k)}if(l===o){T=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,T=b;break e}T=l.return}}if(B=s,Zt(),ht&&typeof ht.onPostCommitFiberRoot=="function")try{ht.onPostCommitFiberRoot(Gi,t)}catch{}n=!0}return n}finally{W=r,Ge.transition=e}}return!1}function Tu(t,e,r){e=cn(r,e),e=tf(t,e,1),t=Mt(t,e,1),e=Ce(),t!==null&&(vs(t,1,e),De(t,e))}function te(t,e,r){if(t.tag===3)Tu(t,t,r);else for(;e!==null;){if(e.tag===3){Tu(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Wt===null||!Wt.has(n))){t=cn(r,t),t=rf(e,t,1),e=Mt(e,t,1),t=Ce(),e!==null&&(vs(e,1,t),De(e,t));break}}e=e.return}}function z0(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ce(),t.pingedLanes|=t.suspendedLanes&r,fe===t&&(ye&r)===r&&(de===4||de===3&&(ye&130023424)===ye&&500>se()-Zl?vr(t,0):Xl|=r),De(t,e)}function jf(t,e){e===0&&(t.mode&1?(e=Ts,Ts<<=1,!(Ts&130023424)&&(Ts=4194304)):e=1);var r=Ce();t=jt(t,e),t!==null&&(vs(t,e,r),De(t,r))}function B0(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),jf(t,r)}function M0(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(e),jf(t,r)}var kf;kf=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fe.current)Re=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Re=!1,P0(t,e,r);Re=!!(t.flags&131072)}else Re=!1,J&&e.flags&1048576&&Eh(e,ji,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;si(t,e),t=e.pendingProps;var s=sn(e,je.current);Xr(e,r),s=Hl(null,e,n,t,s,r);var i=Kl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ie(n)?(i=!0,bi(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Bl(e),s.updater=ta,e.stateNode=s,s._reactInternals=e,To(e,n,t,r),e=Ro(null,e,n,!0,i,r)):(e.tag=0,J&&i&&Fl(e),Se(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(si(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=V0(n),t=et(n,t),s){case 0:e=Ao(null,e,n,t,r);break e;case 1:e=wu(null,e,n,t,r);break e;case 11:e=yu(null,e,n,t,r);break e;case 14:e=xu(null,e,n,et(n.type,t),r);break e}throw Error(E(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:et(n,s),Ao(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:et(n,s),wu(t,e,n,s,r);case 3:e:{if(of(e),t===null)throw Error(E(387));n=e.pendingProps,i=e.memoizedState,s=i.element,Rh(t,e),Si(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=cn(Error(E(423)),e),e=bu(t,e,n,r,s);break e}else if(n!==s){s=cn(Error(E(424)),e),e=bu(t,e,n,r,s);break e}else for(ze=Bt(e.stateNode.containerInfo.firstChild),Be=e,J=!0,st=null,r=Oh(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(an(),n===s){e=kt(t,e,r);break e}Se(t,e,n,r)}e=e.child}return e;case 5:return Fh(e),t===null&&Eo(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,_o(n,s)?o=null:i!==null&&_o(n,i)&&(e.flags|=32),af(t,e),Se(t,e,o,r),e.child;case 6:return t===null&&Eo(e),null;case 13:return lf(t,e,r);case 4:return Ml(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=on(e,null,n,r):Se(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:et(n,s),yu(t,e,n,s,r);case 7:return Se(t,e,e.pendingProps,r),e.child;case 8:return Se(t,e,e.pendingProps.children,r),e.child;case 12:return Se(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,q(ki,n._currentValue),n._currentValue=o,i!==null)if(ot(i.value,o)){if(i.children===s.children&&!Fe.current){e=kt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=wt(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Co(i.return,r,e),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Co(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Se(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Xr(e,r),s=Je(s),n=n(s),e.flags|=1,Se(t,e,n,r),e.child;case 14:return n=e.type,s=et(n,e.pendingProps),s=et(n.type,s),xu(t,e,n,s,r);case 15:return nf(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:et(n,s),si(t,e),e.tag=1,Ie(n)?(t=!0,bi(e)):t=!1,Xr(e,r),ef(e,n,s),To(e,n,s,r),Ro(null,e,n,!0,t,r);case 19:return cf(t,e,r);case 22:return sf(t,e,r)}throw Error(E(156,e.tag))};function Nf(t,e){return Yd(t,e)}function W0(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(t,e,r,n){return new W0(t,e,r,n)}function nc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function V0(t){if(typeof t=="function")return nc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_l)return 11;if(t===jl)return 14}return 2}function qt(t,e){var r=t.alternate;return r===null?(r=Ke(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function oi(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")nc(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $r:return yr(r.children,s,i,e);case bl:o=8,s|=8;break;case Za:return t=Ke(12,r,e,s|2),t.elementType=Za,t.lanes=i,t;case eo:return t=Ke(13,r,e,s),t.elementType=eo,t.lanes=i,t;case to:return t=Ke(19,r,e,s),t.elementType=to,t.lanes=i,t;case Fd:return sa(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ad:o=10;break e;case Rd:o=9;break e;case _l:o=11;break e;case jl:o=14;break e;case Pt:o=16,n=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Ke(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function yr(t,e,r,n){return t=Ke(7,t,n,e),t.lanes=r,t}function sa(t,e,r,n){return t=Ke(22,t,n,e),t.elementType=Fd,t.lanes=r,t.stateNode={isHidden:!1},t}function Ba(t,e,r){return t=Ke(6,t,null,e),t.lanes=r,t}function Ma(t,e,r){return e=Ke(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function q0(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_a(0),this.expirationTimes=_a(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_a(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function sc(t,e,r,n,s,i,o,l,c){return t=new q0(t,e,r,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Ke(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bl(i),t}function H0(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Sf(t){if(!t)return Jt;t=t._reactInternals;e:{if(Nr(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ie(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var r=t.type;if(Ie(r))return Nh(t,r,e)}return e}function Ef(t,e,r,n,s,i,o,l,c){return t=sc(r,n,!0,t,s,i,o,l,c),t.context=Sf(null),r=t.current,n=Ce(),s=Vt(r),i=wt(n,s),i.callback=e??null,Mt(r,i,s),t.current.lanes=s,vs(t,s,n),De(t,n),t}function ia(t,e,r,n){var s=e.current,i=Ce(),o=Vt(s);return r=Sf(r),e.context===null?e.context=r:e.pendingContext=r,e=wt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Mt(s,e,o),t!==null&&(at(t,s,o,i),ti(t,s,o)),o}function Fi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ou(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ic(t,e){Ou(t,e),(t=t.alternate)&&Ou(t,e)}function K0(){return null}var Cf=typeof reportError=="function"?reportError:function(t){console.error(t)};function ac(t){this._internalRoot=t}aa.prototype.render=ac.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));ia(t,e,null,null)};aa.prototype.unmount=ac.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;jr(function(){ia(null,t,null,null)}),e[_t]=null}};function aa(t){this._internalRoot=t}aa.prototype.unstable_scheduleHydration=function(t){if(t){var e=sh();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ot.length&&e!==0&&e<Ot[r].priority;r++);Ot.splice(r,0,t),r===0&&ah(t)}};function oc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function oa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Au(){}function G0(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Fi(o);i.call(u)}}var o=Ef(e,n,t,0,null,!1,!1,"",Au);return t._reactRootContainer=o,t[_t]=o.current,ns(t.nodeType===8?t.parentNode:t),jr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Fi(c);l.call(u)}}var c=sc(t,0,!1,null,null,!1,!1,"",Au);return t._reactRootContainer=c,t[_t]=c.current,ns(t.nodeType===8?t.parentNode:t),jr(function(){ia(e,c,r,n)}),c}function la(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Fi(o);l.call(c)}}ia(e,o,t,s)}else o=G0(r,e,t,s,n);return Fi(o)}rh=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Fn(e.pendingLanes);r!==0&&(Sl(e,r|1),De(e,se()),!(B&6)&&(un=se()+500,Zt()))}break;case 13:jr(function(){var n=jt(t,1);if(n!==null){var s=Ce();at(n,t,1,s)}}),ic(t,1)}};El=function(t){if(t.tag===13){var e=jt(t,134217728);if(e!==null){var r=Ce();at(e,t,134217728,r)}ic(t,134217728)}};nh=function(t){if(t.tag===13){var e=Vt(t),r=jt(t,e);if(r!==null){var n=Ce();at(r,t,e,n)}ic(t,e)}};sh=function(){return W};ih=function(t,e){var r=W;try{return W=t,e()}finally{W=r}};ho=function(t,e,r){switch(e){case"input":if(so(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Xi(n);if(!s)throw Error(E(90));Dd(n),so(n,s)}}}break;case"textarea":Ld(t,r);break;case"select":e=r.value,e!=null&&Gr(t,!!r.multiple,e,!1)}};qd=ec;Hd=jr;var J0={usingClientEntryPoint:!1,Events:[xs,Br,Xi,Wd,Vd,ec]},Tn={findFiberByHostInstance:hr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q0={bundleType:Tn.bundleType,version:Tn.version,rendererPackageName:Tn.rendererPackageName,rendererConfig:Tn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Nt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jd(t),t===null?null:t.stateNode},findFiberByHostInstance:Tn.findFiberByHostInstance||K0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bs.isDisabled&&Bs.supportsFiber)try{Gi=Bs.inject(Q0),ht=Bs}catch{}}We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J0;We.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oc(e))throw Error(E(200));return H0(t,e,null,r)};We.createRoot=function(t,e){if(!oc(t))throw Error(E(299));var r=!1,n="",s=Cf;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=sc(t,1,!1,null,null,r,!1,n,s),t[_t]=e.current,ns(t.nodeType===8?t.parentNode:t),new ac(e)};We.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Jd(e),t=t===null?null:t.stateNode,t};We.flushSync=function(t){return jr(t)};We.hydrate=function(t,e,r){if(!oa(e))throw Error(E(200));return la(null,t,e,!0,r)};We.hydrateRoot=function(t,e,r){if(!oc(t))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Cf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Ef(e,null,t,1,r??null,s,!1,i,o),t[_t]=e.current,ns(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new aa(e)};We.render=function(t,e,r){if(!oa(e))throw Error(E(200));return la(null,t,e,!1,r)};We.unmountComponentAtNode=function(t){if(!oa(t))throw Error(E(40));return t._reactRootContainer?(jr(function(){la(null,null,t,!1,function(){t._reactRootContainer=null,t[_t]=null})}),!0):!1};We.unstable_batchedUpdates=ec;We.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!oa(r))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return la(t,e,r,!1,n)};We.version="18.3.1-next-f1338f8080-20240426";function Pf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Pf)}catch(t){console.error(t)}}Pf(),Cd.exports=We;var Y0=Cd.exports,Tf,Ru=Y0;Tf=Ru.createRoot,Ru.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function hs(){return hs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hs.apply(this,arguments)}var $t;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($t||($t={}));const Fu="popstate";function X0(t){t===void 0&&(t={});function e(n,s){let{pathname:i,search:o,hash:l}=n.location;return qo("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ii(s)}return ev(e,r,null,t)}function re(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Z0(){return Math.random().toString(36).substr(2,8)}function Iu(t,e){return{usr:t.state,key:t.key,idx:e}}function qo(t,e,r,n){return r===void 0&&(r=null),hs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xn(e):e,{state:r,key:e&&e.key||n||Z0()})}function Ii(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function xn(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function ev(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=$t.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(hs({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=$t.Pop;let w=d(),f=w==null?null:w-u;u=w,c&&c({action:l,location:x.location,delta:f})}function m(w,f){l=$t.Push;let p=qo(x.location,w,f);u=d()+1;let y=Iu(p,u),b=x.createHref(p);try{o.pushState(y,"",b)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(b)}i&&c&&c({action:l,location:x.location,delta:1})}function v(w,f){l=$t.Replace;let p=qo(x.location,w,f);u=d();let y=Iu(p,u),b=x.createHref(p);o.replaceState(y,"",b),i&&c&&c({action:l,location:x.location,delta:0})}function g(w){let f=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof w=="string"?w:Ii(w);return p=p.replace(/ $/,"%20"),re(f,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,f)}let x={get action(){return l},get location(){return t(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Fu,h),c=w,()=>{s.removeEventListener(Fu,h),c=null}},createHref(w){return e(s,w)},createURL:g,encodeLocation(w){let f=g(w);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:m,replace:v,go(w){return o.go(w)}};return x}var Du;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Du||(Du={}));function tv(t,e,r){return r===void 0&&(r="/"),rv(t,e,r)}function rv(t,e,r,n){let s=typeof e=="string"?xn(e):e,i=dn(s.pathname||"/",r);if(i==null)return null;let o=Of(t);nv(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=pv(i);l=hv(o[c],u)}return l}function Of(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(re(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Ht([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(re(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Of(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:uv(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of Af(i.path))s(i,o,c)}),e}function Af(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Af(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function nv(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:dv(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const sv=/^:[\w-]+$/,iv=3,av=2,ov=1,lv=10,cv=-2,$u=t=>t==="*";function uv(t,e){let r=t.split("/"),n=r.length;return r.some($u)&&(n+=cv),e&&(n+=av),r.filter(s=>!$u(s)).reduce((s,i)=>s+(sv.test(i)?iv:i===""?ov:lv),n)}function dv(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function hv(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=Ho({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),m=c.route;if(!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Ht([i,h.pathname]),pathnameBase:xv(Ht([i,h.pathnameBase])),route:m}),h.pathnameBase!=="/"&&(i=Ht([i,h.pathnameBase]))}return o}function Ho(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=fv(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:m,isOptional:v}=d;if(m==="*"){let x=l[h]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const g=l[h];return v&&!g?u[m]=void 0:u[m]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function fv(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),lc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function pv(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return lc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const mv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gv=t=>mv.test(t);function vv(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?xn(t):t,i;if(r)if(gv(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),lc(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Lu(r.substring(1),"/"):i=Lu(r,e)}else i=e;return{pathname:i,search:wv(n),hash:bv(s)}}function Lu(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Wa(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yv(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Rf(t,e){let r=yv(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Ff(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=xn(t):(s=hs({},t),re(!s.pathname||!s.pathname.includes("?"),Wa("?","pathname","search",s)),re(!s.pathname||!s.pathname.includes("#"),Wa("#","pathname","hash",s)),re(!s.search||!s.search.includes("#"),Wa("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),h-=1;s.pathname=m.join("/")}l=h>=0?e[h]:"/"}let c=vv(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Ht=t=>t.join("/").replace(/\/\/+/g,"/"),xv=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wv=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bv=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function _v(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const If=["post","put","patch","delete"];new Set(If);const jv=["get",...If];new Set(jv);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fs(){return fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fs.apply(this,arguments)}const ca=_.createContext(null),Df=_.createContext(null),er=_.createContext(null),ua=_.createContext(null),tr=_.createContext({outlet:null,matches:[],isDataRoute:!1}),$f=_.createContext(null);function kv(t,e){let{relative:r}=e===void 0?{}:e;bs()||re(!1);let{basename:n,navigator:s}=_.useContext(er),{hash:i,pathname:o,search:l}=da(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ht([n,o])),s.createHref({pathname:c,search:l,hash:i})}function bs(){return _.useContext(ua)!=null}function Sr(){return bs()||re(!1),_.useContext(ua).location}function Lf(t){_.useContext(er).static||_.useLayoutEffect(t)}function Ye(){let{isDataRoute:t}=_.useContext(tr);return t?$v():Nv()}function Nv(){bs()||re(!1);let t=_.useContext(ca),{basename:e,future:r,navigator:n}=_.useContext(er),{matches:s}=_.useContext(tr),{pathname:i}=Sr(),o=JSON.stringify(Rf(s,r.v7_relativeSplatPath)),l=_.useRef(!1);return Lf(()=>{l.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Ff(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ht([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,i,t])}function cc(){let{matches:t}=_.useContext(tr),e=t[t.length-1];return e?e.params:{}}function da(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=_.useContext(er),{matches:s}=_.useContext(tr),{pathname:i}=Sr(),o=JSON.stringify(Rf(s,n.v7_relativeSplatPath));return _.useMemo(()=>Ff(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function Sv(t,e){return Ev(t,e)}function Ev(t,e,r,n){bs()||re(!1);let{navigator:s}=_.useContext(er),{matches:i}=_.useContext(tr),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Sr(),d;if(e){var h;let w=typeof e=="string"?xn(e):e;c==="/"||(h=w.pathname)!=null&&h.startsWith(c)||re(!1),d=w}else d=u;let m=d.pathname||"/",v=m;if(c!=="/"){let w=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=tv(t,{pathname:v}),x=Av(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Ht([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Ht([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return e&&x?_.createElement(ua.Provider,{value:{location:fs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:$t.Pop}},x):x}function Cv(){let t=Dv(),e=_v(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),r?_.createElement("pre",{style:s},r):null,null)}const Pv=_.createElement(Cv,null);class Tv extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?_.createElement(tr.Provider,{value:this.props.routeContext},_.createElement($f.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ov(t){let{routeContext:e,match:r,children:n}=t,s=_.useContext(ca);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),_.createElement(tr.Provider,{value:e},n)}function Av(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||re(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:m,errors:v}=r,g=h.route.loader&&m[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,m)=>{let v,g=!1,x=null,w=null;r&&(v=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||Pv,c&&(u<0&&m===0?(Lv("route-fallback"),g=!0,w=null):u===m&&(g=!0,w=h.route.hydrateFallbackElement||null)));let f=e.concat(o.slice(0,m+1)),p=()=>{let y;return v?y=x:g?y=w:h.route.Component?y=_.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,_.createElement(Ov,{match:h,routeContext:{outlet:d,matches:f,isDataRoute:r!=null},children:y})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?_.createElement(Tv,{location:r.location,revalidation:r.revalidation,component:x,error:v,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var Uf=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Uf||{}),zf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zf||{});function Rv(t){let e=_.useContext(ca);return e||re(!1),e}function Fv(t){let e=_.useContext(Df);return e||re(!1),e}function Iv(t){let e=_.useContext(tr);return e||re(!1),e}function Bf(t){let e=Iv(),r=e.matches[e.matches.length-1];return r.route.id||re(!1),r.route.id}function Dv(){var t;let e=_.useContext($f),r=Fv(),n=Bf();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function $v(){let{router:t}=Rv(Uf.UseNavigateStable),e=Bf(zf.UseNavigateStable),r=_.useRef(!1);return Lf(()=>{r.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,fs({fromRouteId:e},i)))},[t,e])}const Uu={};function Lv(t,e,r){Uu[t]||(Uu[t]=!0)}function Uv(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function ce(t){re(!1)}function zv(t){let{basename:e="/",children:r=null,location:n,navigationType:s=$t.Pop,navigator:i,static:o=!1,future:l}=t;bs()&&re(!1);let c=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:i,static:o,future:fs({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=xn(n));let{pathname:d="/",search:h="",hash:m="",state:v=null,key:g="default"}=n,x=_.useMemo(()=>{let w=dn(d,c);return w==null?null:{location:{pathname:w,search:h,hash:m,state:v,key:g},navigationType:s}},[c,d,h,m,v,g,s]);return x==null?null:_.createElement(er.Provider,{value:u},_.createElement(ua.Provider,{children:r,value:x}))}function zu(t){let{children:e,location:r}=t;return Sv(Ko(e),r)}new Promise(()=>{});function Ko(t,e){e===void 0&&(e=[]);let r=[];return _.Children.forEach(t,(n,s)=>{if(!_.isValidElement(n))return;let i=[...e,s];if(n.type===_.Fragment){r.push.apply(r,Ko(n.props.children,i));return}n.type!==ce&&re(!1),!n.props.index||!n.props.children||re(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Ko(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Di(){return Di=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Di.apply(this,arguments)}function Mf(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Bv(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Mv(t,e){return t.button===0&&(!e||e==="_self")&&!Bv(t)}function Go(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Wv(t,e){let r=Go(t);return e&&e.forEach((n,s)=>{r.has(s)||e.getAll(s).forEach(i=>{r.append(s,i)})}),r}const Vv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qv=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Hv="6";try{window.__reactRouterVersion=Hv}catch{}const Kv=_.createContext({isTransitioning:!1}),Gv="startTransition",Bu=zm[Gv];function Jv(t){let{basename:e,children:r,future:n,window:s}=t,i=_.useRef();i.current==null&&(i.current=X0({window:s,v5Compat:!0}));let o=i.current,[l,c]=_.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=_.useCallback(h=>{u&&Bu?Bu(()=>c(h)):c(h)},[c,u]);return _.useLayoutEffect(()=>o.listen(d),[o,d]),_.useEffect(()=>Uv(n),[n]),_.createElement(zv,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Qv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kt=_.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,m=Mf(e,Vv),{basename:v}=_.useContext(er),g,x=!1;if(typeof u=="string"&&Yv.test(u)&&(g=u,Qv))try{let y=new URL(window.location.href),b=u.startsWith("//")?new URL(y.protocol+u):new URL(u),k=dn(b.pathname,v);b.origin===y.origin&&k!=null?u=k+b.search+b.hash:x=!0}catch{}let w=kv(u,{relative:s}),f=ey(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function p(y){n&&n(y),y.defaultPrevented||f(y)}return _.createElement("a",Di({},m,{href:g||w,onClick:x||i?n:p,ref:r,target:c}))}),Xv=_.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=e,h=Mf(e,qv),m=da(c,{relative:h.relative}),v=Sr(),g=_.useContext(Df),{navigator:x,basename:w}=_.useContext(er),f=g!=null&&ry(m)&&u===!0,p=x.encodeLocation?x.encodeLocation(m).pathname:m.pathname,y=v.pathname,b=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;s||(y=y.toLowerCase(),b=b?b.toLowerCase():null,p=p.toLowerCase()),b&&w&&(b=dn(b,w)||b);const k=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let j=y===p||!o&&y.startsWith(p)&&y.charAt(k)==="/",N=b!=null&&(b===p||!o&&b.startsWith(p)&&b.charAt(p.length)==="/"),S={isActive:j,isPending:N,isTransitioning:f},D=j?n:void 0,F;typeof i=="function"?F=i(S):F=[i,j?"active":null,N?"pending":null,f?"transitioning":null].filter(Boolean).join(" ");let pe=typeof l=="function"?l(S):l;return _.createElement(Kt,Di({},h,{"aria-current":D,className:F,ref:r,style:pe,to:c,viewTransition:u}),typeof d=="function"?d(S):d)});var Jo;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Jo||(Jo={}));var Mu;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Mu||(Mu={}));function Zv(t){let e=_.useContext(ca);return e||re(!1),e}function ey(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=Ye(),u=Sr(),d=da(t,{relative:o});return _.useCallback(h=>{if(Mv(h,r)){h.preventDefault();let m=n!==void 0?n:Ii(u)===Ii(d);c(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,n,s,r,t,i,o,l])}function ty(t){let e=_.useRef(Go(t)),r=_.useRef(!1),n=Sr(),s=_.useMemo(()=>Wv(n.search,r.current?null:e.current),[n.search]),i=Ye(),o=_.useCallback((l,c)=>{const u=Go(typeof l=="function"?l(s):l);r.current=!0,i("?"+u,c)},[i,s]);return[s,o]}function ry(t,e){e===void 0&&(e={});let r=_.useContext(Kv);r==null&&re(!1);let{basename:n}=Zv(Jo.useViewTransitionState),s=da(t,{relative:e.relative});if(!r.isTransitioning)return!1;let i=dn(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=dn(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ho(s.pathname,o)!=null||Ho(s.pathname,i)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ny={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),I=(t,e)=>{const r=_.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>_.createElement("svg",{ref:d,...ny,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${sy(t)}`,l].join(" "),...u},[...e.map(([h,m])=>_.createElement(h,m)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=I("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=I("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=I("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=I("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=I("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=I("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=I("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=I("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=I("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=I("Construction",[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=I("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=I("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=I("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fc=I("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=I("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=I("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=I("Glasses",[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=I("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=I("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=I("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=I("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=I("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=I("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=I("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=I("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=I("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vu=I("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=I("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=I("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=I("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=I("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=I("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=I("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=I("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kf=I("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=I("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=I("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const li=I("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=I("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=I("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=I("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=I("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=I("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=I("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=I("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pc=I("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ey=I("Tv2",[["path",{d:"M7 21h10",key:"1b0cd5"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=I("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=I("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=I("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Py=I("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=I("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Xo=function(t,e){return Xo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Xo(t,e)};function Zf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Xo(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Li=function(){return Li=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Li.apply(this,arguments)};function wn(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function ep(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function tp(t,e){return function(r,n){e(r,n,t)}}function rp(t,e,r,n,s,i){function o(f){if(f!==void 0&&typeof f!="function")throw new TypeError("Function expected");return f}for(var l=n.kind,c=l==="getter"?"get":l==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,m=!1,v=r.length-1;v>=0;v--){var g={};for(var x in n)g[x]=x==="access"?{}:n[x];for(var x in n.access)g.access[x]=n.access[x];g.addInitializer=function(f){if(m)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(f||null))};var w=(0,r[v])(l==="accessor"?{get:d.get,set:d.set}:d[c],g);if(l==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(h=o(w.get))&&(d.get=h),(h=o(w.set))&&(d.set=h),(h=o(w.init))&&s.unshift(h)}else(h=o(w))&&(l==="field"?s.unshift(h):d[c]=h)}u&&Object.defineProperty(u,n.name,d),m=!0}function np(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function sp(t){return typeof t=="symbol"?t:"".concat(t)}function ip(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function ap(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function O(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})}function op(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var ha=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function lp(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&ha(e,t,r)}function Ui(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mc(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(l){o={error:l}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function cp(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(mc(arguments[e]));return t}function up(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,l=i.length;o<l;o++,s++)n[s]=i[o];return n}function dp(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function fn(t){return this instanceof fn?(this.v=t,this):new fn(t)}function hp(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(v){return function(g){return Promise.resolve(g).then(v,h)}}function l(v,g){n[v]&&(s[v]=function(x){return new Promise(function(w,f){i.push([v,x,w,f])>1||c(v,x)})},g&&(s[v]=g(s[v])))}function c(v,g){try{u(n[v](g))}catch(x){m(i[0][3],x)}}function u(v){v.value instanceof fn?Promise.resolve(v.value.v).then(d,h):m(i[0][2],v)}function d(v){c("next",v)}function h(v){c("throw",v)}function m(v,g){v(g),i.shift(),i.length&&c(i[0][0],i[0][1])}}function fp(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:fn(t[s](o)),done:!1}:i?i(o):o}:i}}function pp(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Ui=="function"?Ui(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(l,c){o=t[i](o),s(l,c,o.done,o.value)})}}function s(i,o,l,c){Promise.resolve(c).then(function(u){i({value:u,done:l})},o)}}function mp(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var Ty=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Zo=function(t){return Zo=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Zo(t)};function gp(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Zo(t),n=0;n<r.length;n++)r[n]!=="default"&&ha(e,t,r[n]);return Ty(e,t),e}function vp(t){return t&&t.__esModule?t:{default:t}}function yp(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function xp(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function wp(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function bp(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var Oy=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function _p(t){function e(i){t.error=t.hasError?new Oy(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function jp(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?e?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):t}const Ay={__extends:Zf,__assign:Li,__rest:wn,__decorate:ep,__param:tp,__esDecorate:rp,__runInitializers:np,__propKey:sp,__setFunctionName:ip,__metadata:ap,__awaiter:O,__generator:op,__createBinding:ha,__exportStar:lp,__values:Ui,__read:mc,__spread:cp,__spreadArrays:up,__spreadArray:dp,__await:fn,__asyncGenerator:hp,__asyncDelegator:fp,__asyncValues:pp,__makeTemplateObject:mp,__importStar:gp,__importDefault:vp,__classPrivateFieldGet:yp,__classPrivateFieldSet:xp,__classPrivateFieldIn:wp,__addDisposableResource:bp,__disposeResources:_p,__rewriteRelativeImportExtension:jp},Ry=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:bp,get __assign(){return Li},__asyncDelegator:fp,__asyncGenerator:hp,__asyncValues:pp,__await:fn,__awaiter:O,__classPrivateFieldGet:yp,__classPrivateFieldIn:wp,__classPrivateFieldSet:xp,__createBinding:ha,__decorate:ep,__disposeResources:_p,__esDecorate:rp,__exportStar:lp,__extends:Zf,__generator:op,__importDefault:vp,__importStar:gp,__makeTemplateObject:mp,__metadata:ap,__param:tp,__propKey:sp,__read:mc,__rest:wn,__rewriteRelativeImportExtension:jp,__runInitializers:np,__setFunctionName:ip,__spread:cp,__spreadArray:dp,__spreadArrays:up,__values:Ui,default:Ay},Symbol.toStringTag,{value:"Module"})),Fy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class fa extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class kp extends fa{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class el extends fa{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class tl extends fa{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var zi;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(zi||(zi={}));class Iy{constructor(e,{headers:r={},customFetch:n,region:s=zi.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=Fy(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return O(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:l,method:c,body:u,signal:d,timeout:h}=n;let m={},{region:v}=n;v||(v=this.region);const g=new URL(`${this.url}/${r}`);v&&v!=="any"&&(m["x-region"]=v,g.searchParams.set("forceFunctionRegion",v));let x;u&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(m["Content-Type"]="application/octet-stream",x=u):typeof u=="string"?(m["Content-Type"]="text/plain",x=u):typeof FormData<"u"&&u instanceof FormData?x=u:(m["Content-Type"]="application/json",x=JSON.stringify(u)):x=u;let w=d;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),d?(w=o.signal,d.addEventListener("abort",()=>o.abort())):w=o.signal);const f=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},m),this.headers),l),body:x,signal:w}).catch(k=>{throw new kp(k)}),p=f.headers.get("x-relay-error");if(p&&p==="true")throw new el(f);if(!f.ok)throw new tl(f);let y=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield f.json():y==="application/octet-stream"||y==="application/pdf"?b=yield f.blob():y==="text/event-stream"?b=f:y==="multipart/form-data"?b=yield f.formData():b=yield f.text(),{data:b,error:null,response:f}}catch(l){return{data:null,error:l,response:l instanceof tl||l instanceof el?l.context:void 0}}finally{i&&clearTimeout(i)}})}}var Ee={};const bn=jm(Ry);var Ms={},Ws={},Vs={},qs={},Hs={},Ks={},qu;function Np(){if(qu)return Ks;qu=1,Object.defineProperty(Ks,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ks.default=t,Ks}var Hu;function Sp(){if(Hu)return Hs;Hu=1,Object.defineProperty(Hs,"__esModule",{value:!0});const e=bn.__importDefault(Np());class r{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,d,h,m;let v=null,g=null,x=null,w=c.status,f=c.statusText;if(c.ok){if(this.method!=="HEAD"){const k=await c.text();k===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=k:g=JSON.parse(k))}const y=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),b=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");y&&b&&b.length>1&&(x=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(v={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,x=null,w=406,f="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const y=await c.text();try{v=JSON.parse(y),Array.isArray(v)&&c.status===404&&(g=[],v=null,w=200,f="OK")}catch{c.status===404&&y===""?(w=204,f="No Content"):v={message:y}}if(v&&this.isMaybeSingle&&(!((m=v==null?void 0:v.details)===null||m===void 0)&&m.includes("0 rows"))&&(v=null,w=200,f="OK"),v&&this.shouldThrowOnError)throw new e.default(v)}return{error:v,data:g,count:x,status:w,statusText:f}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,d,h,m,v,g;let x="";const w=c==null?void 0:c.cause;if(w){const f=(u=w==null?void 0:w.message)!==null&&u!==void 0?u:"",p=(d=w==null?void 0:w.code)!==null&&d!==void 0?d:"";x=`${(h=c==null?void 0:c.name)!==null&&h!==void 0?h:"FetchError"}: ${c==null?void 0:c.message}`,x+=`

Caused by: ${(m=w==null?void 0:w.name)!==null&&m!==void 0?m:"Error"}: ${f}`,p&&(x+=` (${p})`),w!=null&&w.stack&&(x+=`
${w.stack}`)}else x=(v=c==null?void 0:c.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(g=c==null?void 0:c.name)!==null&&g!==void 0?g:"FetchError"}: ${c==null?void 0:c.message}`,details:x,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(s,i)}returns(){return this}overrideTypes(){return this}}return Hs.default=r,Hs}var Ku;function Ep(){if(Ku)return qs;Ku=1,Object.defineProperty(qs,"__esModule",{value:!0});const e=bn.__importDefault(Sp());class r extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[s?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return qs.default=r,qs}var Gu;function gc(){if(Gu)return Vs;Gu=1,Object.defineProperty(Vs,"__esModule",{value:!0});const e=bn.__importDefault(Ep()),r=new RegExp("[,()]");class n extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}regexMatch(i,o){return this.url.searchParams.append(i,`match.${o}`),this}regexIMatch(i,o){return this.url.searchParams.append(i,`imatch.${o}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}isDistinct(i,o){return this.url.searchParams.append(i,`isdistinct.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return Vs.default=n,Vs}var Ju;function Cp(){if(Ju)return Ws;Ju=1,Object.defineProperty(Ws,"__esModule",{value:!0});const e=bn.__importDefault(gc());class r{constructor(s,{headers:i={},schema:o,fetch:l}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(s,i){const{head:o=!1,count:l}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(s??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var l;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((m,v)=>m.concat(Object.keys(v)),[]);if(h.length>0){const m=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",m.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Ws.default=r,Ws}var Qu;function Dy(){if(Qu)return Ms;Qu=1,Object.defineProperty(Ms,"__esModule",{value:!0});const t=bn,e=t.__importDefault(Cp()),r=t.__importDefault(gc());class n{constructor(i,{headers:o={},schema:l,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=c}from(i){if(!i||typeof i!="string"||i.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:c=!1,count:u}={}){var d;let h;const m=new URL(`${this.url}/rpc/${i}`);let v;l||c?(h=l?"HEAD":"GET",Object.entries(o).filter(([x,w])=>w!==void 0).map(([x,w])=>[x,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([x,w])=>{m.searchParams.append(x,w)})):(h="POST",v=o);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:h,url:m,headers:g,schema:this.schemaName,body:v,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Ms.default=n,Ms}Object.defineProperty(Ee,"__esModule",{value:!0});var Pp=Ee.PostgrestError=Up=Ee.PostgrestBuilder=$p=Ee.PostgrestTransformBuilder=Ip=Ee.PostgrestFilterBuilder=Rp=Ee.PostgrestQueryBuilder=Op=Ee.PostgrestClient=void 0;const _n=bn,Tp=_n.__importDefault(Dy());var Op=Ee.PostgrestClient=Tp.default;const Ap=_n.__importDefault(Cp());var Rp=Ee.PostgrestQueryBuilder=Ap.default;const Fp=_n.__importDefault(gc());var Ip=Ee.PostgrestFilterBuilder=Fp.default;const Dp=_n.__importDefault(Ep());var $p=Ee.PostgrestTransformBuilder=Dp.default;const Lp=_n.__importDefault(Sp());var Up=Ee.PostgrestBuilder=Lp.default;const zp=_n.__importDefault(Np());Pp=Ee.PostgrestError=zp.default;var Bp=Ee.default={PostgrestClient:Tp.default,PostgrestQueryBuilder:Ap.default,PostgrestFilterBuilder:Fp.default,PostgrestTransformBuilder:Dp.default,PostgrestBuilder:Lp.default,PostgrestError:zp.default};const $y=gd({__proto__:null,get PostgrestBuilder(){return Up},get PostgrestClient(){return Op},get PostgrestError(){return Pp},get PostgrestFilterBuilder(){return Ip},get PostgrestQueryBuilder(){return Rp},get PostgrestTransformBuilder(){return $p},default:Bp},[Ee]),{PostgrestClient:Ly,PostgrestQueryBuilder:Wb,PostgrestFilterBuilder:Vb,PostgrestTransformBuilder:qb,PostgrestBuilder:Hb,PostgrestError:Uy}=Bp||$y;class Mp{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const zy="2.87.3",By=`realtime-js/${zy}`,Wp="1.0.0",My="2.0.0",Yu=Wp,rl=1e4,Wy=1e3,Vy=100;var ur;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(ur||(ur={}));var ae;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ae||(ae={}));var nt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(nt||(nt={}));var nl;(function(t){t.websocket="websocket"})(nl||(nl={}));var dr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(dr||(dr={}));class qy{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(e){var r,n;const s=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},o=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(e,r,n){var s,i;const o=e.topic,l=(s=e.ref)!==null&&s!==void 0?s:"",c=(i=e.join_ref)!==null&&i!==void 0?i:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const m=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+l.length+o.length+u.length+h.length,v=new ArrayBuffer(this.HEADER_LENGTH+m);let g=new DataView(v),x=0;g.setUint8(x++,this.KINDS.userBroadcastPush),g.setUint8(x++,c.length),g.setUint8(x++,l.length),g.setUint8(x++,o.length),g.setUint8(x++,u.length),g.setUint8(x++,h.length),g.setUint8(x++,r),Array.from(c,f=>g.setUint8(x++,f.charCodeAt(0))),Array.from(l,f=>g.setUint8(x++,f.charCodeAt(0))),Array.from(o,f=>g.setUint8(x++,f.charCodeAt(0))),Array.from(u,f=>g.setUint8(x++,f.charCodeAt(0))),Array.from(h,f=>g.setUint8(x++,f.charCodeAt(0)));var w=new Uint8Array(v.byteLength+n.byteLength);return w.set(new Uint8Array(v),0),w.set(new Uint8Array(n),v.byteLength),w.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,l,c]=n;return r({join_ref:s,ref:i,topic:o,event:l,payload:c})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),l=r.getUint8(4);let c=this.HEADER_LENGTH+4;const u=n.decode(e.slice(c,c+s));c=c+s;const d=n.decode(e.slice(c,c+i));c=c+i;const h=n.decode(e.slice(c,c+o));c=c+o;const m=e.slice(c,e.byteLength),v=l===this.JSON_ENCODING?JSON.parse(n.decode(m)):m,g={type:this.BROADCAST_EVENT,event:d,payload:v};return o>0&&(g.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:g}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Vp{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var V;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(V||(V={}));const Xu=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=Hy(o,t,e,s),i),{}):{}},Hy=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?qp(i,o):sl(o)},qp=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Qy(e,r)}switch(t){case V.bool:return Ky(e);case V.float4:case V.float8:case V.int2:case V.int4:case V.int8:case V.numeric:case V.oid:return Gy(e);case V.json:case V.jsonb:return Jy(e);case V.timestamp:return Yy(e);case V.abstime:case V.date:case V.daterange:case V.int4range:case V.int8range:case V.money:case V.reltime:case V.text:case V.time:case V.timestamptz:case V.timetz:case V.tsrange:case V.tstzrange:return sl(e);default:return sl(e)}},sl=t=>t,Ky=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Gy=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Jy=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Qy=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>qp(e,l))}return t},Yy=t=>typeof t=="string"?t.replace(" ","T"):t,Hp=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Va{constructor(e,r,n={},s=rl){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var il;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(il||(il={}));class en{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=en.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=en.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=en.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const m=d.map(w=>w.presence_ref),v=h.map(w=>w.presence_ref),g=d.filter(w=>v.indexOf(w.presence_ref)<0),x=h.filter(w=>m.indexOf(w.presence_ref)<0);g.length>0&&(l[u]=g),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(v=>v.presence_ref),m=d.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...m)}n(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var al;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(al||(al={}));var tn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(tn||(tn={}));var ut;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ut||(ut={}));const Xy=ae;class mr{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ae.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Va(this,nt.join,this.params,this.timeout),this.rejoinTimer=new Vp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ae.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ae.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ae.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nt.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new en(this),this.broadcastEndpointURL=Hp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ae.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[tn.PRESENCE]&&this.bindings[tn.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},m={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(ut.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(ut.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var g;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){e==null||e(ut.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(g=x==null?void 0:x.length)!==null&&g!==void 0?g:0,f=[];for(let p=0;p<w;p++){const y=x[p],{filter:{event:b,schema:k,table:j,filter:N}}=y,S=v&&v[p];if(S&&S.event===b&&mr.isFilterValueEqual(S.schema,k)&&mr.isFilterValueEqual(S.table,j)&&mr.isFilterValueEqual(S.filter,N))f.push(Object.assign(Object.assign({},y),{id:S.id}));else{this.unsubscribe(),this.state=ae.errored,e==null||e(ut.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,e&&e(ut.SUBSCRIBED);return}}).receive("error",v=>{this.state=ae.errored,e==null||e(ut.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ut.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===ae.joined&&e===tn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(l.status===202)return{success:!0};let c=l.statusText;try{const u=await l.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ae.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Va(this,nt.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ae.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Va(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Vy){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=nt;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var g,x,w;return((g=v.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(x=v.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(v=>v.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var g,x,w,f,p,y;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const b=v.id,k=(g=v.filter)===null||g===void 0?void 0:g.event;return b&&((x=r.ids)===null||x===void 0?void 0:x.includes(b))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(p=(f=v==null?void 0:v.filter)===null||f===void 0?void 0:f.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return b==="*"||b===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof m=="object"&&"ids"in m){const g=m.data,{schema:x,table:w,commit_timestamp:f,type:p,errors:y}=g;m=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:f,eventType:p,new:{},old:{},errors:y}),this._getPayloadRecords(g))}v.callback(m,n)})}_isClosed(){return this.state===ae.closed}_isJoined(){return this.state===ae.joined}_isJoining(){return this.state===ae.joining}_isLeaving(){return this.state===ae.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&mr.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(nt.close,{},e)}_onError(e){this._on(nt.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ae.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Xu(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Xu(e.columns,e.old_record)),r}}const qa=()=>{},Gs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Zy=[1e3,2e3,5e3,1e4],ex=1e4,tx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Kp{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=rl,this.transport=null,this.heartbeatIntervalMs=Gs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qa,this.ref=0,this.reconnectTimer=null,this.vsn=Yu,this.logger=qa,this.conn=null,this.sendBuffer=[],this.serializer=new qy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${nl.websocket}`,this.httpEndpoint=Hp(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Mp.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ur.connecting:return dr.Connecting;case ur.open:return dr.Open;case ur.closing:return dr.Closing;default:return dr.Closed}}isConnected(){return this.connectionState()===dr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new mr(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Wy,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Gs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===ur.open||this.conn.readyState===ur.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(nt.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([tx],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:By};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(nt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Vp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,l,c,u,d,h,m,v;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:rl,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Gs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:qa,this.vsn=(c=e==null?void 0:e.vsn)!==null&&c!==void 0?c:Yu,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:g=>Zy[g-1]||ex,this.vsn){case Wp:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(g,x)=>x(JSON.stringify(g)),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:(g,x)=>x(JSON.parse(g));break;case My:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class pa extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Y(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class rx extends pa{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ol extends pa{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const vc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),nx=()=>Response,ll=t=>{if(Array.isArray(t))return t.map(r=>ll(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=ll(n)}),e},sx=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ix=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),Ha=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},ax=(t,e,r)=>O(void 0,void 0,void 0,function*(){const n=yield nx();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new rx(Ha(s),i,o))}).catch(s=>{e(new ol(Ha(s),s))}):e(new ol(Ha(t),t))}),ox=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(sx(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function _s(t,e,r,n,s,i){return O(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,ox(e,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>ax(c,l,n))})})}function ps(t,e,r,n){return O(this,void 0,void 0,function*(){return _s(t,"GET",e,r,n)})}function tt(t,e,r,n,s){return O(this,void 0,void 0,function*(){return _s(t,"POST",e,n,s,r)})}function cl(t,e,r,n,s){return O(this,void 0,void 0,function*(){return _s(t,"PUT",e,n,s,r)})}function lx(t,e,r,n){return O(this,void 0,void 0,function*(){return _s(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function yc(t,e,r,n,s){return O(this,void 0,void 0,function*(){return _s(t,"DELETE",e,n,s,r)})}class cx{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return O(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Y(e))return{data:null,error:e};throw e}})}}var Gp;class ux{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Gp]="BlobDownloadBuilder",this.promise=null}asStream(){return new cx(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return O(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Y(e))return{data:null,error:e};throw e}})}}Gp=Symbol.toStringTag;const dx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hx{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=vc(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return O(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Zu),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?cl:tt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Y(i))return{data:null,error:i};throw i}})}upload(e,r,n){return O(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return O(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Zu.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield cl(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Y(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return O(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield tt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new pa("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}})}update(e,r,n){return O(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return O(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Y(s))return{data:null,error:s};throw s}})}copy(e,r,n){return O(this,void 0,void 0,function*(){try{return{data:{path:(yield tt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Y(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return O(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield tt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Y(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return O(this,void 0,void 0,function*(){try{const s=yield tt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Y(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(e),c=()=>ps(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new ux(c,this.shouldThrowOnError)}info(e){return O(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ps(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ll(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}})}exists(e){return O(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield lx(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Y(n)&&n instanceof ol){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return O(this,void 0,void 0,function*(){try{return{data:yield yc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}})}list(e,r,n){return O(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},dx),r),{prefix:e||""});return{data:yield tt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Y(s))return{data:null,error:s};throw s}})}listV2(e,r){return O(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield tt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Jp="2.87.3",Qp={"X-Client-Info":`storage-js/${Jp}`};class fx{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qp),r),this.fetch=vc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return O(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield ps(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}})}getBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield ps(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}})}createBucket(e){return O(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield tt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Y(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return O(this,void 0,void 0,function*(){try{return{data:yield cl(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Y(n))return{data:null,error:n};throw n}})}emptyBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield yc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var ms=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function px(t,e,r){const n=new URL(e,t);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function mx(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function gx(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){const l=px(t.baseUrl,n,s),c=await mx(t.auth),u=await e(l,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...c,...o},body:i?JSON.stringify(i):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),m=h&&d?JSON.parse(d):d;if(!u.ok){const v=h?m:void 0,g=v==null?void 0:v.error;throw new ms((g==null?void 0:g.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:g==null?void 0:g.type,icebergCode:g==null?void 0:g.code,details:v})}return{status:u.status,headers:u.headers,data:m}}}}function Js(t){return t.join("")}var vx=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Js(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Js(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Js(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Js(t.namespace)}`}),!0}catch(e){if(e instanceof ms&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof ms&&r.status===409)return;throw r}}};function Tr(t){return t.join("")}var yx=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tr(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Tr(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Tr(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Tr(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Tr(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Tr(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof ms&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof ms&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},xx=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=gx({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new vx(this.client,e),this.tableOps=new yx(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class wx{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Qp),r),this.fetch=vc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield tt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}})}listBuckets(e){return O(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield ps(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield yc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Y(r))return{data:null,error:r};throw r}})}from(e){if(!ix(e))throw new pa("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new xx({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>O(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(i,o){const l=i[o];return typeof l!="function"?l:(...c)=>O(this,void 0,void 0,function*(){try{return{data:yield l.apply(i,c),error:null}}catch(u){if(n)throw u;return{data:null,error:u}}})}})}}const xc={"X-Client-Info":`storage-js/${Jp}`,"Content-Type":"application/json"};class Yp extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Le(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Ka extends Yp{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bx extends Yp{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var ed;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(ed||(ed={}));const wc=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),_x=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},td=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),jx=(t,e,r)=>O(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Ka(td(o),s,l))}).catch(()=>{const o=s+"",l=i.statusText||`HTTP ${s} error`;e(new Ka(l,s,o))});else{const o=s+"",l=i.statusText||`HTTP ${s} error`;e(new Ka(l,s,o))}}else e(new bx(td(t),t))}),kx=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(_x(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function Nx(t,e,r,n,s,i){return O(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,kx(e,n,s,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>jx(c,l,n))})})}function Ue(t,e,r,n,s){return O(this,void 0,void 0,function*(){return Nx(t,"POST",e,n,s,r)})}class Sx{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xc),r),this.fetch=wc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return O(this,void 0,void 0,function*(){try{return{data:(yield Ue(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}getIndex(e,r){return O(this,void 0,void 0,function*(){try{return{data:yield Ue(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}})}listIndexes(e){return O(this,void 0,void 0,function*(){try{return{data:yield Ue(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return O(this,void 0,void 0,function*(){try{return{data:(yield Ue(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Le(n))return{data:null,error:n};throw n}})}}class Ex{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xc),r),this.fetch=wc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return O(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ue(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}getVectors(e){return O(this,void 0,void 0,function*(){try{return{data:yield Ue(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}listVectors(e){return O(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ue(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}queryVectors(e){return O(this,void 0,void 0,function*(){try{return{data:yield Ue(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}deleteVectors(e){return O(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ue(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}}class Cx{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},xc),r),this.fetch=wc(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return O(this,void 0,void 0,function*(){try{return{data:(yield Ue(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}getBucket(e){return O(this,void 0,void 0,function*(){try{return{data:yield Ue(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}listBuckets(){return O(this,arguments,void 0,function*(e={}){try{return{data:yield Ue(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}deleteBucket(e){return O(this,void 0,void 0,function*(){try{return{data:(yield Ue(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Le(r))return{data:null,error:r};throw r}})}}class Px extends Cx{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new Tx(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return O(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return O(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return O(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return O(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class Tx extends Sx{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return O(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return O(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return O(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return O(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new Ox(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class Ox extends Ex{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return O(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return O(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return O(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return O(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return O(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Ax extends fx{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new hx(this.url,this.headers,e,this.fetch)}get vectors(){return new Px(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new wx(this.url+"/iceberg",this.headers,this.fetch)}}const Rx="2.87.3";let Dn="";typeof Deno<"u"?Dn="deno":typeof document<"u"?Dn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dn="react-native":Dn="node";const Fx={"X-Client-Info":`supabase-js-${Dn}/${Rx}`},Ix={headers:Fx},Dx={schema:"public"},$x={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Lx={},Ux=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),zx=()=>Headers,Bx=(t,e,r)=>{const n=Ux(r),s=zx();return async(i,o)=>{var l;const c=(l=await e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function Mx(t){return t.endsWith("/")?t:t+"/"}function Wx(t,e){var r,n;const{db:s,auth:i,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}function Vx(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Mx(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Xp="2.87.3",Fr=30*1e3,ul=3,Ga=ul*Fr,qx="http://localhost:9999",Hx="supabase.auth.token",Kx={"X-Client-Info":`gotrue-js/${Xp}`},dl="X-Supabase-Api-Version",Zp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Jx=10*60*1e3;class pn extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function R(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class em extends pn{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function tm(t){return R(t)&&t.name==="AuthApiError"}class Rt extends pn{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class pt extends pn{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Oe extends pt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rm(t){return R(t)&&t.name==="AuthSessionMissingError"}class or extends pt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $n extends pt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Ln extends pt{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nm(t){return R(t)&&t.name==="AuthImplicitGrantRedirectError"}class hl extends pt{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class sm extends pt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}function Qx(t){return R(t)&&t.name==="AuthPKCECodeVerifierMissingError"}class Bi extends pt{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ci(t){return R(t)&&t.name==="AuthRetryableFetchError"}class fl extends pt{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}function Yx(t){return R(t)&&t.name==="AuthWeakPasswordError"}class Mi extends pt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Wi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),rd=` 	
\r=`.split(""),Xx=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<rd.length;e+=1)t[rd[e].charCodeAt(0)]=-2;for(let e=0;e<Wi.length;e+=1)t[Wi[e].charCodeAt(0)]=e;return t})();function nd(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Wi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Wi[n]),e.queuedBits-=6}}function im(t,e,r){const n=Xx[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function sd(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{tw(o,n,r)};for(let o=0;o<t.length;o+=1)im(t.charCodeAt(o),s,i);return e.join("")}function Zx(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ew(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Zx(n,e)}}function tw(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function rn(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)im(t.charCodeAt(s),r,n);return new Uint8Array(e)}function rw(t){const e=[];return ew(t,r=>e.push(r)),new Uint8Array(e)}function gr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>nd(s,r,n)),nd(null,r,n),e.join("")}function nw(t){return Math.round(Date.now()/1e3)+t}function sw(){return Symbol("auth-callback")}const ge=()=>typeof window<"u"&&typeof document<"u",nr={tested:!1,writable:!1},am=()=>{if(!ge())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nr.tested)return nr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),nr.tested=!0,nr.writable=!0}catch{nr.tested=!0,nr.writable=!1}return nr.writable};function iw(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const om=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),aw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ir=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},sr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},me=async(t,e)=>{await t.removeItem(e)};class ma{constructor(){this.promise=new ma.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}ma.promiseConstructor=Promise;function Ja(t){const e=t.split(".");if(e.length!==3)throw new Mi("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Gx.test(e[n]))throw new Mi("JWT not in base64url format");return{header:JSON.parse(sd(e[0])),payload:JSON.parse(sd(e[1])),signature:rn(e[2]),raw:{header:e[0],payload:e[1]}}}async function ow(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function lw(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function cw(t){return("0"+t.toString(16)).substr(-2)}function uw(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,cw).join("")}async function dw(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function hw(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await dw(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Or(t,e,r=!1){const n=uw();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ir(t,`${e}-code-verifier`,s);const i=await hw(n);return[i,n===i?"plain":"s256"]}const fw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pw(t){const e=t.headers.get(dl);if(!e||!e.match(fw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function mw(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function gw(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ar(t){if(!vw.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qa(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function yw(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function id(t){return JSON.parse(JSON.stringify(t))}const lr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xw=[502,503,504];async function ad(t){var e;if(!aw(t))throw new Bi(lr(t),0);if(xw.includes(t.status))throw new Bi(lr(t),t.status);let r;try{r=await t.json()}catch(i){throw new Rt(lr(i),i)}let n;const s=pw(t);if(s&&s.getTime()>=Zp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new fl(lr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Oe}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new fl(lr(r),t.status,r.weak_password.reasons);throw new em(lr(r),t.status||500,n)}const ww=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function $(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[dl]||(i[dl]=Zp["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await bw(t,e,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function bw(t,e,r,n,s,i){const o=ww(e,n,s,i);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new Bi(lr(c),0)}if(l.ok||await ad(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await ad(c)}}function Ze(t){var e;let r=null;kw(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=nw(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function od(t){const e=Ze(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ft(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _w(t){return{data:t,error:null}}function jw(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=wn(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function ld(t){return t}function kw(t){return t.access_token&&t.refresh_token&&t.expires_in}const ui=["global","local","others"];class bc{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=om(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=ui[0]){if(ui.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ui.join(", ")}`);try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ft})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=wn(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:jw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(R(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ft})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ld});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(R(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Ar(e);try{return await $(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ft})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Ar(e);try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Ft})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Ar(e);try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ft})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Ar(e.userId);try{const{data:r,error:n}=await $(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Ar(e.userId),Ar(e.id);try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await $(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ld});if(d.error)throw d.error;const h=await d.json(),m=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(R(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await $(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await $(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await $(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}}function cd(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const cr={debug:!!(globalThis&&am()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _c extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class lm extends _c{}class Nw extends _c{}async function cm(t,e,r){cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),cr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw cr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new lm(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(cr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}const ud={};async function Sw(t,e,r){var n;const s=(n=ud[t])!==null&&n!==void 0?n:Promise.resolve(),i=Promise.race([s.catch(()=>null),e>=0?new Promise((o,l)=>{setTimeout(()=>{l(new Nw(`Acquiring process lock with name "${t}" timed out`))},e)}):null].filter(o=>o)).catch(o=>{if(o&&o.isAcquireTimeout)throw o;return null}).then(async()=>await r());return ud[t]=i.catch(async o=>{if(o&&o.isAcquireTimeout)return await s,null;throw o}),await i}function Ew(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function um(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Cw(t){return parseInt(t,16)}function Pw(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Tw(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:c,resources:u,scheme:d,uri:h,version:m}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(m!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${m}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=um(t.address),g=d?`${d}://${n}`:n,x=t.statement?`${t.statement}
`:"",w=`${g} wants you to sign in with your Ethereum account:
${v}

${x}`;let f=`URI: ${h}
Version: ${m}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(f+=`
Expiration Time: ${s.toISOString()}`),l&&(f+=`
Not Before: ${l.toISOString()}`),c&&(f+=`
Request ID: ${c}`),u){let p=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);p+=`
- ${y}`}f+=p}return`${w}
${f}`}class oe extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Vi extends oe{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Ow({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new oe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new oe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new oe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new oe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new oe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new oe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new oe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new oe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(dm(o)){if(i.rp.id!==o)return new oe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new oe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Aw({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new oe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new oe({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(dm(n)){if(r.rpId!==n)return new oe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new oe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new oe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new oe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Rw{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Fw=new Rw;function Iw(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=wn(t,["challenge","user","excludeCredentials"]),i=rn(e).buffer,o=Object.assign(Object.assign({},r),{id:rn(r.id).buffer}),l=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];l.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:rn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function Dw(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=wn(t,["challenge","allowCredentials"]),s=rn(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:rn(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function $w(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:gr(new Uint8Array(t.response.attestationObject)),clientDataJSON:gr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Lw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:gr(new Uint8Array(s.authenticatorData)),clientDataJSON:gr(new Uint8Array(s.clientDataJSON)),signature:gr(new Uint8Array(s.signature)),userHandle:s.userHandle?gr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function dm(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function dd(){var t,e;return!!(ge()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Uw(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vi("Browser returned unexpected credential type",e)}:{data:null,error:new Vi("Empty credential response",e)}}catch(e){return{data:null,error:Ow({error:e,options:t})}}}async function zw(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Vi("Browser returned unexpected credential type",e)}:{data:null,error:new Vi("Empty credential response",e)}}catch(e){return{data:null,error:Aw({error:e,options:t})}}}const Bw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Mw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function qi(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const l=n[i];e(l)?n[i]=qi(l,o):n[i]=qi(o)}else n[i]=o}return n}function Ww(t,e){return qi(Bw,t,e||{})}function Vw(t,e){return qi(Mw,t,e||{})}class qw{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:l};const c=s??Fw.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Ww(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:h}=await Uw({publicKey:u,signal:c});return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=Vw(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:h}=await zw(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new Rt("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new pn("rpId is required for WebAuthn authentication")};try{if(!dd())return{data:null,error:new Rt("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:l};const{webauthn:c}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new Rt("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new pn("rpId is required for WebAuthn registration")};try{if(!dd())return{data:null,error:new Rt("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(m=>m.factor_type==="webauthn"&&m.friendly_name===e&&m.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return R(o)?{data:null,error:o}:{data:null,error:new Rt("Unexpected error in register",o)}}}}Ew();const Hw={url:qx,storageKey:Hx,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Kx,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function hd(t,e,r){return await r()}const Rr={};class mn{get jwks(){var e,r;return(r=(e=Rr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Rr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Hw),e);if(this.storageKey=i.storageKey,this.instanceID=(r=mn.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,mn.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ge()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new bc({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=om(i.fetch),this.lock=i.lock||hd,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&ge()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=cm:this.lock=hd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new qw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:am()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=cd(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=cd(this.memoryStorage)),ge()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Xp}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(ge()&&(r=iw(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ge()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),nm(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return R(r)?this._returnResult({error:r}):this._returnResult({error:new Rt("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ze}),{data:o,error:l}=i;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(R(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:d,password:h,options:m}=e;let v=null,g=null;this.flowType==="pkce"&&([v,g]=await Or(this.storage,this.storageKey)),i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:g},xform:Ze})}else if("phone"in e){const{phone:d,password:h,options:m}=e;i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Ze})}else throw new $n("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return await me(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(i){if(await me(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:l}=e;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:od})}else if("phone"in e){const{phone:i,password:o,options:l}=e;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:od})}else throw new $n("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new or;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,l,c,u,d,h,m;let v,g;if("message"in e)v=e.message,g=e.signature;else{const{chain:x,wallet:w,statement:f,options:p}=e;let y;if(ge())if(typeof w=="object")y=w;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")y=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=w}const b=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),k=await y.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=um(k[0]);let N=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!N){const D=await y.request({method:"eth_chainId"});N=Cw(D)}const S={domain:b.host,address:j,statement:f,uri:b.href,version:"1",chainId:N,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};v=Tw(S),g=await y.request({method:"personal_sign",params:[Pw(v),j]})}try{const{data:x,error:w}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:g},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Ze});if(w)throw w;if(!x||!x.session||!x.user){const f=new or;return this._returnResult({data:{user:null,session:null},error:f})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(R(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(e){var r,n,s,i,o,l,c,u,d,h,m,v;let g,x;if("message"in e)g=e.message,x=e.signature;else{const{chain:w,wallet:f,statement:p,options:y}=e;let b;if(ge())if(typeof f=="object")b=f;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))b=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof f!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=f}const k=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const j=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),p?{statement:p}:null));let N;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")N=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)N=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)g=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),x=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${k.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((o=y==null?void 0:y.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((h=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...y.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const j=await b.signMessage(new TextEncoder().encode(g),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=j}}try{const{data:w,error:f}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:gr(x)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Ze});if(f)throw f;if(!w||!w.session||!w.user){const p=new or;return this._returnResult({data:{user:null,session:null},error:p})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:f})}catch(w){if(R(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const r=await sr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new sm;const{data:i,error:o}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Ze});if(await me(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const l=new or;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(await me(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,l=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ze}),{data:c,error:u}=l;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!c||!c.session||!c.user){const d=new or;return this._returnResult({data:{user:null,session:null},error:d})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:c,error:u})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Or(this.storage,this.storageKey));const{error:h}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new $n("You must provide either an email or phone number.")}catch(l){if(await me(this.storage,`${this.storageKey}-code-verifier`),R(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Ze});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),this._returnResult({data:{user:u,session:c},error:null})}catch(s){if(R(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let l=null,c=null;this.flowType==="pkce"&&([l,c]=await Or(this.storage,this.storageKey));const u=await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:c}),headers:this.headers,xform:_w});return!((i=u.data)===null||i===void 0)&&i.url&&ge()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(l){if(await me(this.storage,`${this.storageKey}-code-verifier`),R(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Oe;const{error:s}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(R(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await $(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:l}=await $(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new $n("You must provide either an email or phone number and a type")}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await sr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ga:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await sr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Qa()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=yw(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ft}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Oe}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Ft})})}catch(r){if(R(r))return rm(r)&&(await this._removeSession(),await me(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Oe;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Or(this.storage,this.storageKey));const{data:u,error:d}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Ft});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(await me(this.storage,`${this.storageKey}-code-verifier`),R(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Oe;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Ja(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(R(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Oe;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(R(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ge())throw new Ln("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Ln(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new hl("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ln("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new hl("No code detected.");const{data:p,error:y}=await this._exchangeCodeForSession(e.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!o||!u)throw new Ln("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;c&&(m=parseInt(c));const v=m-d;v*1e3<=Fr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const g=m-h;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,m,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,m,d);const{data:x,error:w}=await this._getUser(i);if(w)throw w;const f={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:m,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:f,redirectType:e.type},error:null})}catch(n){if(R(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await sr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(tm(l)&&(l.status===404||l.status===401||l.status===403)))return this._returnResult({error:l})}return e!=="others"&&(await this._removeSession(),await me(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=sw(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Or(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await me(this.storage,`${this.storageKey}-code-verifier`),R(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:m}=i;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return ge()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(R(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:l,token:c,access_token:u,nonce:d}=e,h=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Ze}),{data:m,error:v}=h;return v?this._returnResult({data:{user:null,session:null},error:v}):!m||!m.session||!m.user?this._returnResult({data:{user:null,session:null},error:new or}):(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("USER_UPDATED",m.session)),this._returnResult({data:m,error:v}))}catch(s){if(await me(this.storage,`${this.storageKey}-code-verifier`),R(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await lw(async s=>(s>0&&await ow(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Ze})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ci(i)&&Date.now()+o-n<Fr})}catch(n){if(this._debug(r,"error",n),R(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ge()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await sr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await sr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Ir(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Qa()}else if(s&&!s.user&&!s.user){const o=await sr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await me(this.storage,this.storageKey+"-user"),await Ir(this.storage,this.storageKey,s)):s.user=Qa()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ga;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ga}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),ci(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Oe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ma;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Oe;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),R(i)){const o={data:null,error:i};return ci(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await me(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ir(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=id(s);await Ir(this.storage,this.storageKey,i)}else{const s=id(r);await Ir(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await me(this.storage,this.storageKey),await me(this.storage,this.storageKey+"-code-verifier"),await me(this.storage,this.storageKey+"-user"),this.userStorage&&await me(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ge()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Fr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Fr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Fr}ms, refresh threshold is ${ul} ticks`),s<=ul&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof _c)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ge()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Or(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await $(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:c,error:u}=await $(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&c.type==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),this._returnResult({data:c,error:null}))})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?$w(e.webauthn.credential_response):Lw(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:c}=await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return c?this._returnResult({data:null,error:c}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:c}))})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Iw(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Dw(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Ja(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await $(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Oe})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Oe});const o=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&ge()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Oe});const o=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&ge()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await $(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Oe})})}catch(e){if(R(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await $(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Oe})})}catch(r){if(R(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+Jx>s)return n;const{data:i,error:o}=await $(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:g}=await this.getSession();if(g||!v.session)return this._returnResult({data:null,error:g});n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=Ja(n);r!=null&&r.allowExpired||mw(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const d=gw(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,rw(`${l}.${c}`)))throw new Mi("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(R(n))return this._returnResult({data:null,error:n});throw n}}}mn.nextInstanceID={};const Kw=bc,hm=mn;class Gw extends hm{constructor(e){super(e)}}class fm{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const l=Vx(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Dx,realtime:Lx,auth:Object.assign(Object.assign({},$x),{storageKey:c}),global:Ix},d=Wx(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Bx(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Ly(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Ax(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Iy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u,throwOnError:d},h,m){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Gw({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:l,lock:c,debug:u,throwOnError:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Kp(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Jw=(t,e,r)=>new fm(t,e,r);function Qw(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Qw()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Yw=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:Kw,AuthApiError:em,AuthClient:hm,AuthError:pn,AuthImplicitGrantRedirectError:Ln,AuthInvalidCredentialsError:$n,AuthInvalidJwtError:Mi,AuthInvalidTokenResponseError:or,AuthPKCECodeVerifierMissingError:sm,AuthPKCEGrantCodeExchangeError:hl,AuthRetryableFetchError:Bi,AuthSessionMissingError:Oe,AuthUnknownError:Rt,AuthWeakPasswordError:fl,CustomAuthError:pt,get FunctionRegion(){return zi},FunctionsError:fa,FunctionsFetchError:kp,FunctionsHttpError:tl,FunctionsRelayError:el,GoTrueAdminApi:bc,GoTrueClient:mn,NavigatorLockAcquireTimeoutError:lm,PostgrestError:Uy,REALTIME_CHANNEL_STATES:Xy,get REALTIME_LISTEN_TYPES(){return tn},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return al},get REALTIME_PRESENCE_LISTEN_EVENTS(){return il},get REALTIME_SUBSCRIBE_STATES(){return ut},RealtimeChannel:mr,RealtimeClient:Kp,RealtimePresence:en,SIGN_OUT_SCOPES:ui,SupabaseClient:fm,WebSocketFactory:Mp,createClient:Jw,isAuthApiError:tm,isAuthError:R,isAuthImplicitGrantRedirectError:nm,isAuthPKCECodeVerifierMissingError:Qx,isAuthRetryableFetchError:ci,isAuthSessionMissingError:rm,isAuthWeakPasswordError:Yx,lockInternals:cr,navigatorLock:cm,processLock:Sw},Symbol.toStringTag,{value:"Module"})),{createClient:Xw}=Yw,Zw="https://hoieogginmsfmoarubuu.supabase.co",eb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhvaWVvZ2dpbm1zZm1vYXJ1YnV1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU3ODM0OTEsImV4cCI6MjA4MTM1OTQ5MX0.5HAcivBIN_fv06Qs4iRjKDNowN204aucVKiwqQBVtkw",A=Xw(Zw,eb);function tb({cartItemCount:t}){const[e,r]=_.useState(!1),[n,s]=_.useState(!1),[i,o]=_.useState(null),l=Sr(),c=Ye();_.useEffect(()=>{A.auth.getSession().then(({data:{session:y}})=>{o((y==null?void 0:y.user)??null)});const{data:{subscription:p}}=A.auth.onAuthStateChange((y,b)=>{o((b==null?void 0:b.user)??null)});return()=>p.unsubscribe()},[]);const u=[{label:"All Products",value:"All"},{label:"Cosmetics",value:"Cosmetics"},{label:"Construction",value:"Construction"},{label:"Furniture",value:"Furniture"},{label:"Clothing and Fashion",value:"Clothing and Fashion"},{label:"Events Tools",value:"Events Tools"},{label:"Electrical Appliances",value:"Electrical Appliances"}],d=[{name:"Home",path:"/"},{name:"About",path:"/about"},{name:"Login",path:"/login"}],h=l.pathname.startsWith("/account"),m=h?"sticky top-0 z-50 w-full bg-[#0A0A0A] border-b border-white/10":"sticky top-0 z-50 w-full bg-white/30 backdrop-blur-md border-b border-[#f0f0f0]",v=h?"text-white":"text-slate-900",g=h?"text-white/60":"text-slate-900/70",x=h?"hover:bg-white/10":"hover:bg-slate-100",w=h?"hover:text-white":"hover:text-black",f=h?"bg-[#0A0A0A] border-t border-white/10":"bg-white/20";return a.jsxs("header",{className:m,children:[a.jsx("div",{className:"flex justify-center w-full",children:a.jsxs("div",{className:"flex justify-between w-full max-w-[1280px] items-center px-4 sm:px-6 md:px-8 lg:px-10 py-5 gap-4 sm:gap-6 md:gap-8",children:[a.jsxs(Kt,{to:"/",className:"flex items-center gap-2 cursor-pointer no-underline flex-shrink-0",children:[a.jsx("div",{className:`flex items-center justify-center size-8 rounded-full transition-colors ${h?"bg-white/10":"bg-black"}`,children:a.jsx(fy,{size:20,strokeWidth:2,className:"text-white"})}),a.jsx("h2",{className:`${v} text-lg sm:text-xl font-extrabold tracking-tight transition-colors whitespace-nowrap`,children:"My Super Store"})]}),a.jsxs("nav",{style:{display:window.innerWidth>=768?"flex":"none",gap:"24px",marginLeft:"48px"},className:"items-center relative",children:[d.map(p=>a.jsx(Kt,{to:p.path,className:`${g} ${w} transition-colors text-sm font-semibold tracking-wide no-underline`,children:p.name},p.name)),a.jsxs("div",{className:"relative group",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[a.jsxs("button",{className:`flex items-center gap-1 ${g} ${w} transition-colors text-sm font-semibold tracking-wide`,children:["Shop",a.jsx(dc,{size:16,className:`transition-transform duration-300 ${n?"rotate-180":""}`})]}),n&&a.jsx("div",{className:`absolute top-full left-0 mt-2 w-56 rounded-lg shadow-lg z-50 backdrop-blur-md ${h?"bg-[#0A0A0A]/80 border border-white/10":"bg-white/30 border border-white/20"}`,children:u.map(p=>a.jsx("button",{onClick:()=>{c(`/shop?category=${p.value}`),s(!1)},className:`w-full text-left px-4 py-3 transition-all ${h?"text-white/70 hover:text-white hover:bg-white/10 first:rounded-t-lg last:rounded-b-lg":"text-slate-900/70 hover:text-slate-900 hover:bg-slate-100/20 first:rounded-t-lg last:rounded-b-lg"} text-sm font-medium`,children:p.label},p.value))})]})]}),a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 md:gap-5 ml-auto",children:[a.jsx("button",{onClick:()=>c(i?"/account":"/login"),className:`flex items-center justify-center size-10 rounded-full ${x} transition-colors ${v}`,children:a.jsx(Xf,{size:20,strokeWidth:2})}),a.jsxs("button",{onClick:()=>c("/cart"),className:`flex items-center justify-center size-10 rounded-full ${x} transition-colors ${v} relative`,children:[a.jsx($i,{size:20,strokeWidth:2}),t>0&&a.jsx("span",{className:"absolute top-2 right-2 size-2 bg-[#d4af37] rounded-full"})]})]}),a.jsx("button",{className:" md:hidden items-center justify-center ml-2 sm:ml-3",onClick:()=>r(!e),children:e?a.jsx(St,{size:24,className:v}):a.jsx(by,{size:24,className:v})})]})}),e&&a.jsx("div",{className:f,children:a.jsx("nav",{className:"flex justify-center w-full",children:a.jsxs("div",{className:"w-full max-w-[1280px] flex flex-col p-6 gap-4 px-6 lg:px-10",children:[d.map(p=>a.jsx(Kt,{to:p.path,onClick:()=>r(!1),className:`${v} ${w} text-lg py-2 transition-colors font-semibold no-underline`,children:p.name},p.name)),a.jsxs("div",{className:"border-t border-white/10 pt-4 mt-4",children:[a.jsx("p",{className:`${v} text-sm font-semibold mb-3`,children:"Shop by Category"}),u.map(p=>a.jsx("button",{onClick:()=>{c(`/shop?category=${p.value}`),r(!1)},className:`w-full text-left px-3 py-2 ${g} ${w} transition-colors text-sm font-medium no-underline`,children:p.label},p.value))]})]})})})]})}function rb(){return a.jsxs("footer",{className:"site-footer",children:[a.jsxs("div",{className:"footer-grid",children:[a.jsxs("div",{children:[a.jsx("div",{className:"footer-brand",children:"MY SUPERSTORE"}),a.jsx("p",{className:"text-muted",style:{lineHeight:"1.6"},children:"Curating excellence in luxury fashion and accessories since 2025."})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"footer-heading",children:"Shop"}),a.jsxs("ul",{className:"footer-links",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"footer-link",children:"New Arrivals"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"footer-link",children:"Best Sellers"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"footer-link",children:"Collections"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"footer-link",children:"Sale"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"footer-heading",children:"Support"}),a.jsxs("ul",{className:"footer-links",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"footer-link",children:"Contact Us"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"footer-link",children:"Shipping Info"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"footer-link",children:"Returns"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"footer-link",children:"FAQ"})})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"footer-heading",children:"Connect"}),a.jsxs("div",{className:"flex gap-6",children:[a.jsx("a",{href:"#",className:"text-muted hover:text-[#FFE55C] transition-colors",children:a.jsx(gy,{size:24,strokeWidth:2.5})}),a.jsx("a",{href:"#",className:"text-muted hover:text-[#FFE55C] transition-colors",children:a.jsx(hy,{size:24,strokeWidth:2.5})}),a.jsx("a",{href:"#",className:"text-muted hover:text-[#FFE55C] transition-colors",children:a.jsx(Cy,{size:24,strokeWidth:2.5})})]})]})]}),a.jsxs("div",{className:"footer-bottom",children:[a.jsx("p",{children:" 2025 LUXE. All rights reserved."}),a.jsxs("div",{className:"flex gap-6",children:[a.jsx("a",{href:"#",className:"footer-link",children:"Privacy Policy"}),a.jsx("a",{href:"#",className:"footer-link",children:"Terms of Service"})]})]})]})}const nb="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function Hi(t){const[e,r]=_.useState(!1),n=()=>{r(!0)},{src:s,alt:i,style:o,className:l,...c}=t;return e?a.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${l??""}`,style:o,children:a.jsx("div",{className:"flex items-center justify-center w-full h-full",children:a.jsx("img",{src:nb,alt:"Error loading image",...c,"data-original-url":s})})}):a.jsx("img",{src:s,alt:i,className:l,style:o,...c,onError:n})}function pm({product:t,onProductClick:e,variant:r="default"}){var v;const[n,s]=_.useState(0),[i,o]=_.useState(!0),l=((v=t.product_images)==null?void 0:v.map(g=>g.url))||[t.image||"https://via.placeholder.com/500"];_.useEffect(()=>{if(!i||l.length<=1)return;const g=setInterval(()=>{s(x=>(x+1)%l.length)},5e3);return()=>clearInterval(g)},[i,l.length]);const c=g=>{g.stopPropagation(),o(!1),s(x=>(x-1+l.length)%l.length)},u=g=>{g.stopPropagation(),o(!1),s(x=>(x+1)%l.length)},d=()=>o(!1),h=()=>o(!0),m=(t.stock??0)>0;return a.jsxs("div",{onClick:()=>e(t.id),className:`product-card ${r==="black"?"card-black p-4":""}`,children:[a.jsxs("div",{className:"product-image-container group relative",onMouseEnter:d,onMouseLeave:h,children:[a.jsxs("div",{className:"relative w-full h-full overflow-hidden rounded-lg",children:[a.jsx(Hi,{src:l[n],alt:t.name,className:"product-image transition-opacity duration-500"}),!m&&a.jsx("div",{className:"absolute top-2 left-2 bg-red-500 text-white px-2 py-1 rounded text-xs font-semibold",children:"Out of Stock"}),t.brand&&a.jsx("div",{className:"absolute top-2 right-2 bg-black/60 text-[#D4AF37] px-2 py-1 rounded text-xs font-medium backdrop-blur-sm",children:t.brand}),l.length>1&&a.jsxs("div",{className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 bg-black/60 px-2 py-1 rounded-full text-xs text-[#D4AF37] backdrop-blur-sm",children:[n+1," / ",l.length]}),l.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:c,className:"absolute left-1 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-black/60 hover:bg-[#D4AF37] text-white hover:text-black p-1.5 rounded-full backdrop-blur-sm",children:a.jsx(ly,{size:16,strokeWidth:2.5})}),a.jsx("button",{onClick:u,className:"absolute right-1 top-1/2 transform -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 bg-black/60 hover:bg-[#D4AF37] text-white hover:text-black p-1.5 rounded-full backdrop-blur-sm",children:a.jsx(hc,{size:16,strokeWidth:2.5})})]}),l.length>1&&a.jsx("div",{className:"absolute top-2 left-1/2 transform -translate-x-1/2 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:l.map((g,x)=>a.jsx("button",{onClick:w=>{w.stopPropagation(),o(!1),s(x)},className:`w-1 h-1 rounded-full transition-all ${x===n?"bg-[#D4AF37] w-2":"bg-white/40 hover:bg-white/60"}`},x))})]}),a.jsx("button",{className:"wishlist-btn",onClick:g=>g.stopPropagation(),children:a.jsx(Vf,{size:20,strokeWidth:2.5,className:"text-[#D4AF37]",style:{filter:"drop-shadow(0 0 6px rgba(244, 224, 77, 0.5))"}})})]}),a.jsxs("div",{className:"product-info",children:[a.jsx("p",{className:"product-category",children:t.category}),a.jsx("h3",{className:"product-name",children:t.name}),t.short_description&&a.jsx("p",{className:"text-xs text-gray-600 mb-2 line-clamp-2",children:t.short_description}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-2",children:[t.sku&&a.jsxs("span",{children:["SKU: ",t.sku]}),m&&a.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[a.jsx(Qt,{size:12}),t.stock," in stock"]})]}),a.jsxs("div",{className:"product-price",children:["$",t.price.toLocaleString()]})]})]})}function sb({products:t,onProductClick:e}){const r=_.useRef(null),[n,s]=_.useState(0),[i,o]=_.useState(!1),l=300,c=24,u=3e3;_.useEffect(()=>{if(i)return;const m=setInterval(()=>{const v=(n+1)%t.length;d(v)},u);return()=>clearInterval(m)},[n,i,t.length]);const d=m=>{r.current&&(r.current.scrollTo({left:m*(l+c),behavior:"smooth"}),s(m))},h=()=>{if(!r.current)return;const m=r.current.scrollLeft,v=Math.round(m/(l+c));s(v)};return a.jsxs("div",{className:"relative w-full py-12 overflow-visible",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[a.jsx("div",{ref:r,onScroll:h,className:`\r
          flex gap-6 px-12 overflow-x-auto scrollbar-hide\r
          scroll-smooth\r
          snap-x snap-mandatory\r
          overflow-y-visible\r
        `,style:{WebkitOverflowScrolling:"touch",minHeight:"500px"},children:t.map((m,v)=>{const g=v===n;return a.jsx("div",{className:`
                snap-center shrink-0 transition-all duration-500
                ${g?"scale-100 opacity-100":"scale-90 opacity-50"}
              `,style:{width:l,minHeight:"420px",display:"flex",alignItems:"center"},children:a.jsx("div",{className:"glass-border shadow-2xl w-full",style:{height:"420px"},children:a.jsx(pm,{product:m,onProductClick:e})})},m.id)})}),a.jsx("div",{className:"flex justify-center gap-2 mt-6",children:t.map((m,v)=>a.jsx("button",{onClick:()=>d(v),className:`rounded-full transition-all duration-300 ${v===n?"w-3 h-3 bg-[#D4AF37]":"w-2 h-2 bg-white/30 hover:bg-white/50"}`},v))})]})}const ib=({texts:t,speed:e=18,pause:r=1300})=>{const[n,s]=_.useState(0),[i,o]=_.useState(""),[l,c]=_.useState(!1);return _.useEffect(()=>{let u=!0,d;const h=t[n%t.length],m=()=>{u&&(o(v=>l?h.substring(0,v.length-1):h.substring(0,v.length+1)),!l&&i===h?d=window.setTimeout(()=>c(!0),r):l&&i===""?(c(!1),s(v=>v+1)):d=window.setTimeout(m,l?e/2:e))};return d=window.setTimeout(m,e),()=>{u=!1,clearTimeout(d)}},[i,l,n,t,e,r]),a.jsxs("span",{className:"typing-text",children:[i,a.jsx("span",{className:"typing-caret","aria-hidden":!0,children:""})]})},Ya=({children:t,className:e=""})=>{const r=_.useRef(null);return _.useEffect(()=>{const n=r.current;if(!n||!("IntersectionObserver"in window)){n==null||n.classList.add("in-view");return}const s=new IntersectionObserver(i=>{i.forEach(o=>{o.isIntersecting&&(o.target.classList.add("in-view"),s.unobserve(o.target))})},{threshold:.15});return s.observe(n),()=>s.disconnect()},[]),a.jsx("div",{ref:r,className:`reveal ${e}`,children:t})};function fd({onNavigate:t}){var i;const[e,r]=_.useState([]),[n,s]=_.useState(!0);return _.useEffect(()=>{(async()=>{try{const{data:l,error:c}=await A.from("products").select(`
            *,
            product_images (url, alt_text, position),
            product_categories (
              categories (name)
            )
          `).eq("published",!0).order("created_at",{ascending:!1}).limit(8);if(c)throw console.error("Supabase error:",c),c;console.log("Home - Fetched products:",l==null?void 0:l.length),l&&r(l.map(u=>{var d,h,m,v,g,x;return{id:u.id,name:u.name,price:u.price,stock:u.stock||0,brand:u.brand,short_description:u.short_description,image:(h=(d=u.product_images)==null?void 0:d.sort((w,f)=>(w.position||0)-(f.position||0))[0])==null?void 0:h.url,product_images:((m=u.product_images)==null?void 0:m.sort((w,f)=>(w.position||0)-(f.position||0)))||[],category:((x=(g=(v=u.product_categories)==null?void 0:v[0])==null?void 0:g.categories)==null?void 0:x.name)||"Uncategorized"}}))}catch(l){console.error("Error loading featured products:",l)}finally{s(!1)}})()},[]),a.jsxs("div",{children:[a.jsx("main",{className:"flex-grow flex items-center justify-center w-full py-12 lg:py-20 px-6 lg:px-10",children:a.jsx("div",{className:"w-full max-w-[1280px]",children:a.jsxs("div",{className:"flex flex-col-reverse lg:flex-row items-center gap-16 lg:gap-32",children:[a.jsxs("div",{className:"flex flex-col gap-8 flex-1 w-full lg:max-w-[50%]",children:[a.jsxs("div",{className:"flex flex-col gap-4 text-left",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"h-[1px] w-8 bg-[#d4af37]"}),a.jsx("span",{className:"text-[#d4af37] text-xs font-bold uppercase tracking-widest",children:"Est. 2024"})]}),a.jsx("h1",{className:"text-slate-900 text-5xl sm:text-6xl lg:text-7xl font-extrabold leading-[1.1] tracking-[-0.02em]",style:{textShadow:`
      0 0 6px rgba(236, 211, 141, 0.03),
      0 0 14px rgba(231, 227, 214, 0.36)
    `},children:a.jsx(ib,{texts:["Collect the Exceptional.","Embrace Luxury.","Redefine Excellence."]})}),a.jsx("p",{className:"text-slate-1500 text-lg sm:text-xl font-medium leading-relaxed max-w-[540px]",children:"Discover a curated selection of artifacts designed for the few, not the many. Elevate your everyday with unparalleled craftsmanship."})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 pt-4",children:[a.jsxs("button",{onClick:()=>t("shop"),className:"group relative flex items-center justify-center overflow-hidden rounded-lg h-14 px-8 min-w-[180px] bg-gradient-to-r from-[#BF953F] via-[#FCF6BA] to-[#B38728] shadow-lg shadow-[#d4af37]/20 transition-transform active:scale-95 hover:shadow-xl hover:shadow-[#d4af37]/30",children:[a.jsx("span",{className:"relative z-10 text-white text-base font-bold tracking-wide uppercase",children:"Shop Collection"}),a.jsx("div",{className:"absolute inset-0 bg-white/20 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-500 ease-in-out"})]}),a.jsx("button",{onClick:()=>t("shop"),className:"flex items-center justify-center rounded-lg h-14 px-8 min-w-[180px] bg-white border border-slate-200 text-slate-900 text-base font-bold tracking-wide uppercase hover:bg-slate-50 hover:border-slate-300 transition-all",children:a.jsx("span",{children:"Explore More"})}),a.jsxs("button",{onClick:()=>t("vendor/dashboard"),className:"flex items-center gap-2 justify-center rounded-lg h-14 px-8 min-w-[180px] bg-slate-900 text-white text-base font-bold tracking-wide uppercase hover:bg-slate-800 transition-all border border-slate-700",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"}),a.jsx("circle",{cx:"9",cy:"7",r:"4"}),a.jsx("path",{d:"M22 21v-2a4 4 0 0 0-3-3.87"}),a.jsx("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"})]}),a.jsx("span",{children:"Vendor Portal"})]})]}),a.jsxs("div",{className:"flex items-center gap-8 mt-4 pt-8 border-t border-slate-100",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("span",{className:"text-2xl font-bold text-slate-900",children:[e.length,"+"]}),a.jsx("span",{className:"text-sm text-slate-500 font-medium",children:"Exclusive Items"})]}),a.jsx("div",{className:"w-[1px] h-10 bg-slate-200"}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("span",{className:"text-2xl font-bold text-slate-900",children:"Global"}),a.jsx("span",{className:"text-sm text-slate-500 font-medium",children:"Shipping Available"})]})]})]}),a.jsxs("div",{className:"relative w-full lg:flex-1 h-auto aspect-[4/5] lg:aspect-square max-h-[700px]",children:[a.jsxs("div",{className:"absolute inset-0 rounded-2xl overflow-hidden bg-slate-100 shadow-2xl",children:[a.jsx("div",{className:"absolute inset-0 z-0"}),a.jsx("div",{className:"relative z-10 w-full h-full bg-gradient-to-br from-slate-50 to-slate-100 flex items-center justify-center",children:e.length>0&&((i=e[0].product_images)==null?void 0:i.length)>0?a.jsx("img",{alt:e[0].name,className:"w-full h-full object-cover transform transition-transform duration-700 hover:scale-105",src:e[0].product_images[0].url}):a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-6xl mb-4",children:""}),a.jsx("p",{className:"text-slate-400",children:"Premium Collection"})]})}),a.jsxs("div",{className:"absolute bottom-6 left-6 right-6 p-5 bg-white/95 backdrop-blur-sm rounded-xl shadow-lg border border-white/50 flex items-center justify-between z-20",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider mb-1",children:"Featured Collection"}),a.jsx("p",{className:"text-slate-900 font-bold text-lg",children:e.length>0?e[0].name:"Luxury Items"})]}),a.jsx("button",{onClick:()=>{var o;return t("product",(o=e[0])==null?void 0:o.id)},className:"size-10 rounded-full bg-black text-white flex items-center justify-center hover:bg-slate-800 transition-colors",children:a.jsx(hc,{size:20})})]})]}),a.jsx("div",{className:"absolute -z-10 -top-6 -right-6 w-full h-full border border-[#d4af37]/30 rounded-2xl hidden lg:block"})]})]})})}),a.jsxs("section",{className:"relative py-20 px-6 lg:px-10 bg-black overflow-hidden",children:[a.jsx("div",{className:`absolute top-0 left-0 right-0 h-2\r
    bg-gradient-to-r\r
    from-[#5d4300]\r
    via-[#8b5e00]\r
    via-[#b67f00]\r
    via-[#f6dd6a]\r
    via-[#b67f00]\r
    via-[#8b5e00]\r
    to-[#5d4300]`}),a.jsx("div",{className:`absolute bottom-0 left-0 right-0 h-2\r
    bg-gradient-to-r\r
    from-[#5d4300]\r
    via-[#8b5e00]\r
    via-[#b67f00]\r
    via-[#f6dd6a]\r
    via-[#b67f00]\r
    via-[#8b5e00]\r
    to-[#5d4300]`}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-8",children:[a.jsx("div",{className:"flex",children:a.jsxs("div",{className:"p-7 mb-16 max-w-2xl text-center mx-auto",children:[a.jsx("h2",{className:"text-3xl text-center font-serif text-[#f3f3f3] mb-4",children:"We Deliver"}),a.jsx("p",{className:"text-slate-100 leading-relaxed",children:"We have partnered with multiple industries to deliver all these fine products to our customers, providing a seamless sourcing and delivery experience across diverse categories."})]})}),a.jsxs("div",{className:"flex flex-wrap md:flex-nowrap justify-center gap-8",children:[a.jsxs("div",{className:`w-full md:flex-1 max-w-[400px] flex flex-col gap-4 p-8 rounded-xl border border-[#D4AF37]\r
              transition-all duration-300\r
              hover:shadow-[0_0_30px_rgba(212,175,55,0.45)]\r
              hover:-translate-y-1`,children:[a.jsx("div",{className:"w-12 h-12 flex items-center justify-center rounded-lg bg-[#D4AF37]/15 text-[#D4AF37]",children:a.jsx(py,{size:26})}),a.jsx("h4",{className:"text-lg font-semibold text-slate-200",children:"Cosmetics & Beauty Products"}),a.jsx("p",{className:"text-sm text-slate-100 leading-relaxed",children:"Explore premium cosmetics, skincare, fragrances, and personal care products sourced from trusted manufacturers and suppliers."})]}),a.jsxs("div",{className:`w-full md:flex-1 max-w-[400px] flex flex-col gap-4 p-8 rounded-xl border border-[#D4AF37]\r
        transition-all duration-300\r
        hover:shadow-[0_0_30px_rgba(212,175,55,0.45)]\r
        hover:-translate-y-1`,children:[a.jsx("div",{className:"w-12 h-12 flex items-center justify-center rounded-lg bg-[#D4AF37]/15 text-[#D4AF37]",children:a.jsx(uy,{size:26})}),a.jsx("h4",{className:"text-lg font-semibold text-slate-200",children:"Building Materials"}),a.jsx("p",{className:"text-sm text-slate-100 leading-relaxed",children:"Source durable construction materials including structural, finishing, and industrial-grade supplies for residential and commercial projects."})]}),a.jsxs("div",{className:`w-full md:flex-1 max-w-[400px] flex flex-col gap-4 p-8 rounded-xl border border-[#D4AF37]\r
        transition-all duration-300\r
        hover:shadow-[0_0_30px_rgba(212,175,55,0.45)]\r
        hover:-translate-y-1`,children:[a.jsx("div",{className:"w-12 h-12 flex items-center justify-center rounded-lg bg-[#D4AF37]/15 text-[#D4AF37]",children:a.jsx(Ey,{size:26})}),a.jsx("h4",{className:"text-lg font-semibold text-slate-200",children:"Electrical Appliances"}),a.jsx("p",{className:"text-sm text-slate-100 leading-relaxed",children:"Discover reliable electrical and electronic appliances designed for homes, offices, and industrial applications."})]})]})]})]}),a.jsxs("div",{className:"section",children:[a.jsxs("div",{className:"flex justify-between items-end mb-12",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-serif text-[#D4AF37] mb-4",children:"Featured Collection"}),a.jsx("p",{className:"text-muted max-w-xl",children:"Curated selection of our most exclusive pieces, designed for the discerning few."})]}),a.jsx("button",{onClick:()=>t("shop"),className:"link-gold",children:"View All Collection "})]}),n?a.jsx("div",{className:"flex items-center justify-center min-h-[100px]",children:a.jsx("div",{className:"text-center text-muted",children:"Loading Products..."})}):a.jsx(sb,{products:e,onProductClick:o=>t("product",o)})]}),a.jsx("section",{className:"features-section",children:a.jsx("div",{className:"container",children:a.jsxs("div",{className:"grid grid-cols-3 gap-12",children:[a.jsxs(Ya,{className:"feature-item",children:[a.jsx("div",{className:"feature-icon-box",children:a.jsx(Gn,{size:32,strokeWidth:2.5})}),a.jsx("h4",{className:"feature-title",children:"Premium Quality"}),a.jsx("p",{className:"feature-desc",children:"Only the finest materials and craftsmanship"})]}),a.jsxs(Ya,{className:"feature-item",children:[a.jsx("div",{className:"feature-icon-box",children:a.jsx(Gf,{size:32,strokeWidth:2.5})}),a.jsx("h4",{className:"feature-title",children:"Authenticity Guaranteed"}),a.jsx("p",{className:"feature-desc",children:"Every piece is verified and certified"})]}),a.jsxs(Ya,{className:"feature-item",children:[a.jsx("div",{className:"feature-icon-box",children:a.jsx(pc,{size:32,strokeWidth:2.5})}),a.jsx("h4",{className:"feature-title",children:"White Glove Delivery"}),a.jsx("p",{className:"feature-desc",children:"Complimentary luxury shipping worldwide"})]})]})})}),a.jsx("section",{className:"cta-section",children:a.jsxs("div",{className:"container",children:[a.jsx("h2",{className:"cta-title",children:"Join the Elite"}),a.jsx("p",{className:"cta-text",children:"Subscribe to receive exclusive access to limited editions, private sales, and curated recommendations."}),a.jsxs("div",{className:"cta-form",children:[a.jsx("input",{type:"email",placeholder:"Enter your email",className:"input-field"}),a.jsx("button",{className:"btn-primary",children:"Subscribe"})]})]})})]})}function ab({onNavigate:t}){const[e,r]=_.useState([]),[n,s]=_.useState(!0),[i,o]=_.useState("All"),[l,c]=_.useState("featured"),[u,d]=ty(),h=["All","Cosmetics","Construction","Furniture","Clothing and Fashion","Events Tools","Electrical Appliances"];_.useEffect(()=>{m()},[]),_.useEffect(()=>{const g=u.get("category");o(g||"All")},[u]);const m=async()=>{try{s(!0);const{data:g,error:x}=await A.from("products").select(`
          *,
          product_images ( url, alt_text, position ),
          product_categories (
            categories ( name )
          ),
          product_specs ( spec_key, spec_value )
        `).eq("published",!0).order("created_at",{ascending:!1});if(x)throw x;console.log("Fetched products:",g==null?void 0:g.length);const w=(g==null?void 0:g.map(f=>{var p,y,b,k,j,N;return{id:f.id,name:f.name,price:f.price,stock:f.stock||0,brand:f.brand,sku:f.sku,short_description:f.short_description,description:f.description,image:(y=(p=f.product_images)==null?void 0:p.sort((S,D)=>S.position-D.position)[0])==null?void 0:y.url,product_images:((b=f.product_images)==null?void 0:b.sort((S,D)=>S.position-D.position))||[],category:((N=(j=(k=f.product_categories)==null?void 0:k[0])==null?void 0:j.categories)==null?void 0:N.name)||"Uncategorized",product_specs:f.product_specs||[],view_count:f.view_count}}))||[];r(w)}catch(g){console.error("Error fetching products:",g)}finally{s(!1)}},v=e.filter(g=>i==="All"||g.category===i).sort((g,x)=>l==="price-low"?g.price-x.price:l==="price-high"?x.price-g.price:0);return n?a.jsx("div",{className:"section flex items-center justify-center min-h-[50vh]",children:a.jsx(ie,{className:"animate-spin text-[var(--gold-primary)]",size:48})}):a.jsxs("div",{className:"page-fade section relative",children:[a.jsxs("div",{className:"relative min-h-[300px] flex items-center justify-center -mx-8 -mt-8 px-8 pt-8 mb-8",style:{overflow:"hidden"},children:[a.jsx("div",{className:"absolute inset-0 z-0"}),a.jsxs("div",{className:"relative z-10 text-center",children:[a.jsx("h1",{className:"page-title",children:"Luxury Collection"}),a.jsxs("p",{className:"page-desc",children:[v.length," exceptional pieces representing the pinnacle of craftsmanship."]})]})]}),a.jsxs("div",{className:"filters-container",children:[a.jsx("div",{className:"filter-group",children:h.map(g=>a.jsx("button",{onClick:()=>{o(g),g==="All"?(u.delete("category"),d(u)):d({category:g})},className:`filter-chip ${i===g?"active":""}`,children:g},g))}),a.jsxs("div",{className:"sort-container",children:[a.jsxs("button",{className:"link-gold",style:{background:"none",WebkitBackgroundClip:"unset",color:"var(--black)"},children:[a.jsx(Sy,{size:20,strokeWidth:2.5,style:{marginRight:"0.5rem"}}),"Filters"]}),a.jsxs("div",{className:"sort-wrapper",children:[a.jsxs("select",{value:l,onChange:g=>c(g.target.value),className:"sort-select",children:[a.jsx("option",{value:"featured",children:"Featured"}),a.jsx("option",{value:"price-low",children:"Price: Low to High"}),a.jsx("option",{value:"price-high",children:"Price: High to Low"}),a.jsx("option",{value:"newest",children:"Newest"})]}),a.jsx(dc,{size:16,className:"sort-icon",strokeWidth:3})]})]})]}),a.jsx("div",{className:"grid grid-cols-4 gap-6",children:v.map(g=>a.jsx("div",{className:"glass-border",children:a.jsx(pm,{product:g,onProductClick:x=>t("product",x)})},g.id))}),a.jsx("div",{style:{textAlign:"center",marginTop:"4rem"},children:a.jsx("button",{className:"load-more-btn",children:"Load More"})})]})}function ob({isOpen:t,onClose:e}){return t?a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:e}),a.jsxs("div",{className:"relative z-10 w-full max-w-md bg-[#0A0A0A] border border-[#D4AF37]/20 rounded-2xl p-8 shadow-2xl animate-in fade-in zoom-in duration-300",children:[a.jsx("button",{onClick:e,className:"absolute top-4 right-4 text-gray-400 hover:text-white transition-colors",children:a.jsx(St,{size:24})}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#FFE55C] via-[#D4AF37] to-[#B8941F] rounded-full flex items-center justify-center mx-auto mb-6 shadow-lg shadow-[#D4AF37]/20",children:a.jsx(xy,{size:32,className:"text-black",strokeWidth:2.5})}),a.jsx("h3",{className:"text-2xl font-serif font-bold text-white mb-2",children:"Login Required"}),a.jsx("p",{className:"text-[#A3A3A3] mb-8",children:"Please log in to your account to add items to your cart and proceed with checkout."}),a.jsxs("div",{className:"space-y-3",children:[a.jsx(Kt,{to:"/login",className:"block w-full py-3 px-6 bg-gradient-to-r from-[#FFE55C] via-[#D4AF37] to-[#B8941F] text-black font-semibold rounded-xl hover:shadow-[0_8px_20px_rgba(212,175,55,0.3)] transition-all transform hover:-translate-y-0.5",children:"Log In Now"}),a.jsx("button",{onClick:e,className:"block w-full py-3 px-6 bg-transparent border border-[#D4AF37]/30 text-[#D4AF37] font-semibold rounded-xl hover:bg-[#D4AF37]/10 transition-colors",children:"Continue Browsing"})]})]})]})]}):null}const mm=_.createContext({session:null,user:null,loading:!0,signOut:async()=>{}});function lb({children:t}){const[e,r]=_.useState(null),[n,s]=_.useState(null),[i,o]=_.useState(!0);_.useEffect(()=>{A.auth.getSession().then(({data:{session:u}})=>{r(u),s((u==null?void 0:u.user)??null),o(!1)});const{data:{subscription:c}}=A.auth.onAuthStateChange((u,d)=>{r(d),s((d==null?void 0:d.user)??null),o(!1)});return()=>c.unsubscribe()},[]);const l=async()=>{await A.auth.signOut()};return a.jsx(mm.Provider,{value:{session:e,user:n,loading:i,signOut:l},children:t})}const gm=()=>_.useContext(mm),vm=_.createContext({items:[],addToCart:async()=>{},removeFromCart:async()=>{},updateQuantity:async()=>{},total:0,itemCount:0,loading:!1});function cb({children:t}){const{user:e}=gm(),[r,n]=_.useState([]),[s,i]=_.useState(null),[o,l]=_.useState(!1);_.useEffect(()=>{e?c():(n([]),i(null))},[e]),_.useEffect(()=>{if(!s)return;const g=A.channel("cart_subscription").on("postgres_changes",{event:"*",schema:"public",table:"cart_items",filter:`cart_id=eq.${s}`},()=>{c()}).subscribe();return()=>{A.removeChannel(g)}},[s]);const c=async()=>{if(e){l(!0);try{let g;const{data:x}=await A.from("carts").select("id").eq("user_id",e.id).single();if(x)g=x.id;else{const{data:f,error:p}=await A.from("carts").insert({user_id:e.id}).select().single();if(p||!f)throw p;g=f.id}i(g);const{data:w}=await A.from("cart_items").select("*, products ( id, name, price, description, product_images ( url ) )").eq("cart_id",g);n(w||[])}catch(g){console.error("Error fetching cart:",g)}finally{l(!1)}}},u=async(g,x=1)=>{if(!e||!s){alert("Please login to add to cart");return}try{const w=r.find(f=>f.product_id===g.id);w?await h(w.id,w.quantity+x):(await A.from("cart_items").insert({cart_id:s,product_id:g.id,quantity:x,price_at_time:g.price}),console.log("Item added to cart_items table in Supabase"),await c())}catch(w){console.error("Error adding to cart:",w),alert("Error adding to cart")}},d=async g=>{await A.from("cart_items").delete().eq("id",g),n(x=>x.filter(w=>w.id!==g))},h=async(g,x)=>{x<1||(await A.from("cart_items").update({quantity:x}).eq("id",g),n(w=>w.map(f=>f.id===g?{...f,quantity:x}:f)))},m=r.reduce((g,x)=>{var w;return g+(((w=x.products)==null?void 0:w.price)||0)*x.quantity},0),v=r.reduce((g,x)=>g+x.quantity,0);return a.jsx(vm.Provider,{value:{items:r,addToCart:u,removeFromCart:d,updateQuantity:h,total:m,itemCount:v,loading:o},children:t})}const jc=()=>_.useContext(vm);function ub(){var x,w;const{id:t}=cc(),{addToCart:e}=jc(),[r,n]=_.useState(null),[s,i]=_.useState(!0),[o,l]=_.useState(1),[c,u]=_.useState("One Size"),[d,h]=_.useState(!1),m=["Small","Medium","Large","One Size"];_.useEffect(()=>{t&&v()},[t]);const v=async()=>{var f,p,y,b,k,j;try{i(!0);const{data:N,error:S}=await A.from("products").select(`
          *,
          product_images ( url, alt_text, position ),
          product_categories (
            categories ( name, slug )
          ),
          product_specs ( spec_key, spec_value )
        `).eq("id",t).single();if(S)throw S;n({...N,image:(p=(f=N.product_images)==null?void 0:f.sort((D,F)=>D.position-F.position)[0])==null?void 0:p.url,category:((k=(b=(y=N.product_categories)==null?void 0:y[0])==null?void 0:b.categories)==null?void 0:k.name)||"Uncategorized",product_images:((j=N.product_images)==null?void 0:j.sort((D,F)=>D.position-F.position))||[],product_specs:N.product_specs||[]})}catch(N){console.error("Error fetching product:",N)}finally{i(!1)}},g=async()=>{const{data:{session:f}}=await A.auth.getSession();if(!f){h(!0);return}r&&(await e(r,o),alert("Product added to cart"))};return s?a.jsx("div",{className:"section flex items-center justify-center min-h-[50vh]",children:a.jsx(ie,{className:"animate-spin text-[var(--gold-primary)]",size:48})}):r?a.jsxs("div",{className:"section relative",children:[a.jsxs("div",{className:"detail-grid relative z-10",children:[a.jsxs("div",{children:[a.jsx("div",{className:"gallery-main",children:a.jsx(Hi,{src:r.image||"https://via.placeholder.com/800",alt:r.name,className:"product-image"})}),a.jsx("div",{className:"gallery-thumbnails",children:((x=r.product_images)==null?void 0:x.map((f,p)=>a.jsx("div",{className:"gallery-thumb",children:a.jsx(Hi,{src:f.url,alt:f.alt_text||r.name,className:"product-image"})},p)))||[1,2,3].map(f=>a.jsx("div",{className:"gallery-thumb",children:a.jsx("div",{className:"w-full h-full bg-gray-200"})},f))})]}),a.jsxs("div",{className:"card-black",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("p",{className:"text-muted",children:r.category}),r.brand&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-muted",children:""}),a.jsx("p",{className:"text-[#D4AF37] font-medium",children:r.brand})]})]}),a.jsx("h1",{className:"text-white mb-4",style:{fontSize:"2.5rem"},children:r.name}),r.sku&&a.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:["SKU: ",r.sku]}),a.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[a.jsxs("div",{className:"flex gap-1",children:[[1,2,3,4,5].map(f=>a.jsx(Gn,{size:20,strokeWidth:2.5,style:{fill:"url(#gold-gradient)",stroke:"#D4AF37",filter:"drop-shadow(0 0 4px rgba(244, 224, 77, 0.5))"}},f)),a.jsx("svg",{width:"0",height:"0",children:a.jsx("defs",{children:a.jsxs("linearGradient",{id:"gold-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[a.jsx("stop",{offset:"0%",stopColor:"#FFE55C"}),a.jsx("stop",{offset:"50%",stopColor:"#D4AF37"}),a.jsx("stop",{offset:"100%",stopColor:"#B8941F"})]})})})]}),a.jsx("span",{className:"text-muted",children:"(127 reviews)"})]}),a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsxs("span",{className:"detail-price",children:["$",((w=r.price)==null?void 0:w.toLocaleString())||"0.00"]}),r.stock!==void 0&&r.stock!==null?r.stock>0?a.jsxs("span",{className:"bg-green-500/20 text-green-400 px-3 py-1 rounded-full text-sm",children:[r.stock," in stock"]}):a.jsx("span",{className:"bg-red-500/20 text-red-400 px-3 py-1 rounded-full text-sm",children:"Out of stock"}):a.jsx("span",{className:"bg-gray-500/20 text-gray-400 px-3 py-1 rounded-full text-sm",children:"Stock unavailable"})]}),r.short_description&&a.jsx("p",{className:"text-gray-300 mb-4 font-medium",children:r.short_description}),a.jsx("p",{className:"detail-desc",children:r.description||"No detailed description available for this product."}),r.product_specs&&r.product_specs.length>0&&a.jsxs("div",{className:"mb-6 mt-6 pt-6 border-t border-gray-700",children:[a.jsx("h4",{className:"text-white mb-4 font-semibold",children:"Specifications"}),a.jsx("div",{className:"grid grid-cols-2 gap-3",children:r.product_specs.map((f,p)=>a.jsxs("div",{className:"bg-gray-800/50 rounded px-3 py-2",children:[a.jsx("span",{className:"text-gray-400 text-sm block",children:f.spec_key}),a.jsx("span",{className:"text-white",children:f.spec_value||"N/A"})]},p))})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"text-white mb-4",children:"Select Size"}),a.jsx("div",{className:"size-grid",children:m.map(f=>a.jsx("button",{onClick:()=>u(f),className:`size-btn ${c===f?"active":""}`,children:f},f))})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h4",{className:"text-white mb-4",children:"Quantity"}),a.jsxs("div",{className:"quantity-controls",children:[a.jsx("button",{onClick:()=>l(Math.max(1,o-1)),className:"qty-btn",children:a.jsx(Hf,{size:20,strokeWidth:2.5})}),a.jsx("span",{className:"qty-display",children:o}),a.jsx("button",{onClick:()=>l(o+1),className:"qty-btn",disabled:r.stock!==void 0&&o>=r.stock,children:a.jsx(hn,{size:20,strokeWidth:2.5})})]})]}),a.jsxs("div",{className:"detail-actions",children:[a.jsx("button",{onClick:g,className:"btn-primary",style:{flex:1,padding:"1rem"},disabled:r.stock!==void 0&&r.stock<=0,children:r.stock!==void 0&&r.stock<=0?"Out of Stock":"Add to Cart"}),a.jsx("button",{className:"qty-btn",style:{width:"64px",height:"auto",border:"1px solid var(--white)"},children:a.jsx(Vf,{size:24,strokeWidth:2.5})})]}),a.jsxs("div",{className:"detail-features",children:[a.jsxs("div",{className:"feature-row",children:[a.jsx(pc,{size:24,strokeWidth:2.5,style:{color:"#D4AF37"}}),a.jsx("span",{children:"Free shipping worldwide"})]}),a.jsxs("div",{className:"feature-row",children:[a.jsx(Gf,{size:24,strokeWidth:2.5,style:{color:"#D4AF37"}}),a.jsx("span",{children:"Authenticity guaranteed"})]}),a.jsxs("div",{className:"feature-row",children:[a.jsx(ky,{size:24,strokeWidth:2.5,style:{color:"#D4AF37"}}),a.jsx("span",{children:"30-day return policy"})]})]})]})]}),a.jsx(ob,{isOpen:d,onClose:()=>h(!1)})]}):a.jsx("div",{className:"section text-center text-white",children:"Product not found"})}function db({onNavigate:t}){const{items:e,total:r,removeFromCart:n,updateQuantity:s,loading:i}=jc(),o=r,l=o>500?0:50,c=o*.08,u=o+l+c;return i?a.jsx("div",{className:"section flex items-center justify-center min-h-[50vh]",children:a.jsx(ie,{className:"animate-spin text-[var(--gold-primary)]",size:48})}):a.jsxs("div",{className:"page-fade section relative",children:[a.jsx("h1",{className:"page-title mb-12",children:"Shopping Cart"}),e.length===0?a.jsxs("div",{className:"card-black p-24 text-center",children:[a.jsx("h3",{className:"text-white mb-6",children:"Your cart is empty"}),a.jsx("p",{className:"text-muted mb-12",children:"Discover our exceptional collection"}),a.jsx("button",{onClick:()=>t("shop"),className:"btn-primary",style:{padding:"1rem 3rem"},children:"Continue Shopping"})]}):a.jsxs("div",{className:"cart-grid",children:[a.jsx("div",{className:"col-span-2 space-y-6",children:e.map(d=>{var h,m,v,g,x,w,f,p;return a.jsxs("div",{className:"card-black p-6 flex gap-6",children:[a.jsx("div",{className:"cart-thumb",children:a.jsx(Hi,{src:((v=(m=(h=d.products)==null?void 0:h.product_images)==null?void 0:m[0])==null?void 0:v.url)||"https://via.placeholder.com/150",alt:(g=d.products)==null?void 0:g.name,className:"product-image"})}),a.jsxs("div",{className:"cart-details",children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-white mb-2",children:(x=d.products)==null?void 0:x.name}),a.jsxs("div",{className:"text-white font-bold",children:["$",(f=(w=d.products)==null?void 0:w.price)==null?void 0:f.toLocaleString()]})]}),a.jsx("button",{onClick:()=>n(d.id),className:"text-muted hover:text-white transition-colors bg-transparent border-none cursor-pointer p-0",children:a.jsx(St,{size:24,strokeWidth:2.5})})]}),a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:()=>s(d.id,Math.max(1,d.quantity-1)),className:"qty-btn",style:{width:"32px",height:"32px"},children:a.jsx(Hf,{size:14,strokeWidth:2.5})}),a.jsx("span",{className:"text-white w-8 text-center",children:d.quantity}),a.jsx("button",{onClick:()=>s(d.id,d.quantity+1),className:"qty-btn",style:{width:"32px",height:"32px"},children:a.jsx(hn,{size:14,strokeWidth:2.5})})]}),a.jsxs("div",{className:"bg-gradient-to-r from-[#FFE55C] via-[#D4AF37] to-[#B8941F] bg-clip-text text-transparent font-bold",children:["$",((((p=d.products)==null?void 0:p.price)||0)*d.quantity).toLocaleString()]})]})]})]},d.id)})}),a.jsx("div",{children:a.jsxs("div",{className:"card-black p-8 sticky top-24",children:[a.jsx("h3",{className:"text-white mb-8 font-serif",children:"Order Summary"}),a.jsxs("div",{className:"space-y-4 mb-8",children:[a.jsxs("div",{className:"summary-row",children:[a.jsx("span",{children:"Subtotal"}),a.jsxs("span",{children:["$",o.toLocaleString()]})]}),a.jsxs("div",{className:"summary-row",children:[a.jsx("span",{children:"Shipping"}),a.jsx("span",{children:l===0?"Free":`$${l}`})]}),a.jsxs("div",{className:"summary-row",children:[a.jsx("span",{children:"Tax"}),a.jsxs("span",{children:["$",c.toFixed(2)]})]}),a.jsxs("div",{className:"summary-total",children:[a.jsx("span",{children:"Total"}),a.jsxs("div",{className:"total-price",children:["$",u.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),a.jsxs(Kt,{to:"/checkout",style:{textDecoration:"none"},children:[a.jsx("button",{className:"btn-primary",style:{width:"100%",marginBottom:"1rem",padding:"1rem"},children:"Proceed to Checkout"}),a.jsx("button",{onClick:()=>t("shop"),className:"btn-outline-gold",style:{width:"100%",padding:"1rem"},children:"Continue Shopping"})]}),o<500&&a.jsx("div",{className:"mt-6 p-4 border border-[rgba(222,157,13,0.3)] text-center",children:a.jsxs("p",{className:"text-muted text-sm",children:["Add ",a.jsxs("span",{style:{color:"var(--gold-solid)"},children:["$",(500-o).toLocaleString()]})," more for free shipping"]})})]})})]})]})}function hb(){const t=Ye(),[e,r]=_.useState(1),n=[{id:1,title:"Shipping",icon:pc},{id:2,title:"Payment",icon:Qo},{id:3,title:"Confirmation",icon:oy}];return _.useEffect(()=>{var s;(s=window.setStepProgress)==null||s.call(window,e-1)},[e]),a.jsx("div",{className:"section relative",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("h1",{className:"page-title mb-12",children:"Checkout"}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[a.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[a.jsxs("div",{id:"steps",className:"relative flex justify-between items-center w-full px-6 mb-12",children:[a.jsx("div",{id:"progress-bg",className:"absolute top-5 h-1 rounded-full bg-gray-600 pointer-events-none z-0"}),a.jsx("div",{id:"progress-fill",className:"absolute top-5 h-1 rounded-full bg-[var(--gold-primary)] pointer-events-none z-10 transition-all duration-500"}),n.map(s=>a.jsxs("div",{className:`step flex flex-col items-center gap-2 relative z-20 ${e>=s.id?"opacity-100":"opacity-40"}`,children:[a.jsx("div",{className:`icon w-10 h-10 rounded-full flex items-center justify-center border-2 transition-all duration-300 bg-black ${e>=s.id?"border-[var(--gold-primary)] text-[var(--gold-primary)]":"border-gray-400 text-gray-400"}`,children:a.jsx(s.icon,{size:20})}),a.jsx("span",{className:"font-semibold text-sm whitespace-nowrap",children:s.title})]},s.id))]}),a.jsx("script",{dangerouslySetInnerHTML:{__html:`
                            (function () {
                                const container = document.getElementById('steps');
                                const progressBg = document.getElementById('progress-bg');
                                const progressFill = document.getElementById('progress-fill');

                                let completedIndex = 0;

                                function updateProgress() {
                                    const stepIcons = Array.from(container.querySelectorAll('.step .icon'));
                                    if (stepIcons.length < 2) return;

                                    const containerRect = container.getBoundingClientRect();

                                    const centers = stepIcons.map(icon => {
                                        const r = icon.getBoundingClientRect();
                                        return (r.left + r.right) / 2 - containerRect.left;
                                    });

                                    const left = centers[0];
                                    const right = centers[centers.length - 1];

                                    const trackLeftPx = left;
                                    const trackWidthPx = Math.max(0, right - left);

                                    progressBg.style.left = trackLeftPx + 'px';
                                    progressBg.style.width = trackWidthPx + 'px';

                                    const fillRight = centers[Math.min(completedIndex, centers.length - 1)];
                                    const fillWidthPx = Math.max(0, fillRight - left);

                                    progressFill.style.left = trackLeftPx + 'px';
                                    progressFill.style.width = fillWidthPx + 'px';
                                }

                                window.setStepProgress = function (index) {
                                    completedIndex = index;
                                    updateProgress();
                                };

                                let resizeTimer;
                                window.addEventListener('resize', () => {
                                    clearTimeout(resizeTimer);
                                    resizeTimer = setTimeout(updateProgress, 80);
                                });

                                requestAnimationFrame(() => requestAnimationFrame(updateProgress));
                            })();
                        `}}),a.jsxs("div",{className:`card-black ${e!==1?"opacity-50 pointer-events-none":""}`,children:[a.jsx("h3",{className:"text-2xl font-serif mb-6 text-[var(--gold-primary)]",children:"Shipping Address"}),a.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[a.jsx("input",{type:"text",placeholder:"First Name",className:"bg-white/10 border border-white/20 p-3 rounded text-white placeholder:text-gray-200"}),a.jsx("input",{type:"text",placeholder:"Last Name",className:"bg-white/10 border border-white/20 p-3 rounded text-white placeholder:text-gray-200"}),a.jsx("input",{type:"email",placeholder:"Email",className:"col-span-2 bg-white/10 border border-white/20 p-3 rounded text-white placeholder:text-gray-200"}),a.jsx("input",{type:"text",placeholder:"Address",className:"col-span-2 bg-white/10 border border-white/20 p-3 rounded text-white placeholder:text-gray-200"}),a.jsx("input",{type:"text",placeholder:"City",className:"bg-white/10 border border-white/20 p-3 rounded text-white placeholder:text-gray-200"}),a.jsx("input",{type:"text",placeholder:"Postal Code",className:"bg-white/10 border border-white/20 p-3 rounded text-white placeholder:text-gray-200"})]}),e===1&&a.jsx("button",{onClick:()=>r(2),className:"btn-primary mt-8 w-full",children:"Continue to Payment"})]}),a.jsxs("div",{className:`card-black ${e!==2?"opacity-50 pointer-events-none":""}`,children:[a.jsx("h3",{className:"text-2xl font-serif mb-6 text-[var(--gold-primary)]",children:"Payment Method"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 border border-[var(--gold-primary)] rounded flex items-center gap-4 bg-[var(--gold-glow)]",children:[a.jsx(Qo,{className:"text-[var(--gold-primary)]"}),a.jsx("span",{children:"Credit Card"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-6 mt-4",children:[a.jsx("input",{type:"text",placeholder:"Card Number",className:"col-span-2 bg-white/10 border border-white/20 p-3 rounded text-white placeholder:text-gray-300"}),a.jsx("input",{type:"text",placeholder:"MM/YY",className:"bg-white/10 border border-white/20 p-3 rounded text-white placeholder:text-gray-300"}),a.jsx("input",{type:"text",placeholder:"CVC",className:"bg-white/10 border border-white/20 p-3 rounded text-white placeholder:text-gray-3s00"})]})]}),e===2&&a.jsx("button",{onClick:()=>t("/order-confirmation"),className:"btn-primary mt-8 w-full",children:"Place Order"})]})]}),a.jsx("div",{children:a.jsxs("div",{className:"card-black sticky top-24",children:[a.jsx("h3",{className:"font-serif text-xl mb-6",children:"Order Summary"}),a.jsxs("div",{className:"space-y-4 text-gray-400",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Subtotal"}),a.jsx("span",{children:"$12,500"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Shipping"}),a.jsx("span",{children:"Free"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Tax"}),a.jsx("span",{children:"$1,000"})]}),a.jsxs("div",{className:"border-t border-white/10 pt-4 flex justify-between text-white font-bold text-lg",children:[a.jsx("span",{children:"Total"}),a.jsx("span",{className:"text-[var(--gold-primary)]",children:"$13,500"})]})]})]})})]})]})})}function fb(){return a.jsx("div",{className:"section flex items-center justify-center min-h-[60vh] relative",children:a.jsxs("div",{className:"card-black max-w-2xl w-full text-center p-16",children:[a.jsx("div",{className:"flex justify-center mb-8",children:a.jsx(Wf,{size:80,className:"text-[var(--gold-primary)]",strokeWidth:1})}),a.jsx("h1",{className:"font-serif text-4xl mb-4 bg-gradient-to-r from-[var(--gold-light)] via-[var(--gold-primary)] to-[var(--gold-dark)] bg-clip-text text-transparent",children:"Order Confirmed"}),a.jsx("p",{className:"text-gray-400 mb-8 text-lg",children:"Thank you for your purchase. Your order #MSS-8829 has been processed."}),a.jsxs("div",{className:"bg-white/5 rounded p-8 mb-8 text-left max-w-md mx-auto",children:[a.jsx("h4",{className:"text-white font-bold mb-4",children:"Order Details"}),a.jsxs("div",{className:"space-y-2 text-gray-400",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Estimated Delivery"}),a.jsx("span",{className:"text-white",children:"Dec 18, 2025"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Payment Method"}),a.jsx("span",{className:"text-white",children:"Visa ending 4242"})]}),a.jsxs("div",{className:"flex justify-between pt-4 border-t border-white/10 mt-4",children:[a.jsx("span",{children:"Total Amount"}),a.jsx("span",{className:"text-[var(--gold-primary)] font-bold",children:"$13,500"})]})]})]}),a.jsxs("div",{className:"flex gap-4 justify-center",children:[a.jsx(Kt,{to:"/account",className:"btn-outline-gold no-underline",children:"Track Order"}),a.jsx(Kt,{to:"/shop",className:"btn-primary no-underline",children:"Continue Shopping"})]})]})})}function pb(){const t=Ye(),[e,r]=_.useState("login"),[n,s]=_.useState(!1),[i,o]=_.useState(""),[l,c]=_.useState(""),[u,d]=_.useState(""),[h,m]=_.useState(null),v=async()=>{try{s(!0),m(null);const{error:x}=await A.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/account`}});if(x)throw x}catch(x){m(x.message),s(!1)}},g=async x=>{x.preventDefault(),s(!0),m(null);try{if(e==="login"){const{error:w}=await A.auth.signInWithPassword({email:i,password:l});if(w)throw w;t("/account")}else{const{error:w}=await A.auth.signUp({email:i,password:l,options:{data:{full_name:u}}});if(w)throw w;alert("Registration successful! Please check your email to confirm your account."),r("login")}}catch(w){m(w.message)}finally{s(!1)}};return a.jsx("div",{className:"page-fade section flex items-center justify-center min-h-[70vh]",children:a.jsxs("div",{className:"card-black max-w-md w-full p-8 border border-[#FFC92E]/20 shadow-[0_0_40px_rgba(255,201,46,0.1)]",children:[a.jsxs("div",{className:"flex border-b border-white/10 mb-8",children:[a.jsxs("button",{className:`flex-1 pb-4 text-center font-serif text-lg transition-colors relative ${e==="login"?"text-[var(--gold-primary)]":"text-gray-500 hover:text-gray-300"}`,onClick:()=>r("login"),children:["Login",e==="login"&&a.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-[#FFC92E] to-[#DE9D0D]"})]}),a.jsxs("button",{className:`flex-1 pb-4 text-center font-serif text-lg transition-colors relative ${e==="register"?"text-[var(--gold-primary)]":"text-gray-500 hover:text-gray-300"}`,onClick:()=>r("register"),children:["Register",e==="register"&&a.jsx("div",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-gradient-to-r from-[#FFC92E] to-[#DE9D0D]"})]})]}),h&&a.jsxs("div",{className:"mb-6 p-4 bg-red-900/20 border border-red-500/30 rounded-lg flex items-center gap-3 text-red-200 text-sm",children:[a.jsx(iy,{size:18}),h]}),e==="login"?a.jsxs("form",{className:"space-y-6",onSubmit:g,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-400 mb-2 text-sm uppercase tracking-wider font-medium",children:"Email Address"}),a.jsx("input",{type:"email",className:"w-full  bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors",value:i,onChange:x=>o(x.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-400 mb-2 text-sm uppercase tracking-wider font-medium",children:"Password"}),a.jsx("input",{type:"password",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors",value:l,onChange:x=>c(x.target.value),required:!0})]}),a.jsxs("div",{className:"flex justify-between items-center text-sm",children:[a.jsxs("label",{className:"flex items-center gap-2 text-gray-400 cursor-pointer hover:text-white transition-colors",children:[a.jsx("input",{type:"checkbox",className:"accent-[#FFC92E]"}),a.jsx("span",{children:"Remember me"})]}),a.jsx("a",{href:"#",className:"text-[#FFC92E] hover:text-[#FFE55C] transition-colors",children:"Forgot Password?"})]}),a.jsxs("button",{type:"submit",disabled:n,className:"btn-gold",children:[n&&a.jsx(ie,{className:"animate-spin inline mr-2",size:16}),"Sign In"]}),a.jsx("div",{children:a.jsxs("p",{className:"text-center text-gray-500 text-sm",children:["Don't have an account?"," ",a.jsx("span",{className:"text-[#FFC92E] hover:text-[#FFE55C] cursor-pointer font-medium",onClick:()=>r("register"),children:"Register"})]})})]}):a.jsxs("form",{className:"space-y-6",onSubmit:g,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-400 mb-2 text-sm uppercase tracking-wider font-medium",children:"Full Name"}),a.jsx("input",{type:"text",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors",value:u,onChange:x=>d(x.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-400 mb-2 text-sm uppercase tracking-wider font-medium",children:"Email Address"}),a.jsx("input",{type:"email",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors",value:i,onChange:x=>o(x.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-400 mb-2 text-sm uppercase tracking-wider font-medium",children:"Password"}),a.jsx("input",{type:"password",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors",value:l,onChange:x=>c(x.target.value),required:!0})]}),a.jsxs("button",{type:"submit",disabled:n,className:"btn-gold2",children:[n&&a.jsx(ie,{className:"animate-spin inline mr-2",size:16}),"Create Account"]}),a.jsxs("p",{className:"text-center text-gray-500 text-sm",children:["Already have an account?"," ",a.jsx("span",{className:"text-[#FFC92E] hover:text-[#FFE55C] cursor-pointer font-medium",onClick:()=>r("login"),children:"Login"})]})]}),a.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2",children:[a.jsx("div",{className:"h-px w-12 bg-gradient-to-r from-transparent to-[#FFC92E]/30"}),a.jsx("span",{className:"text-xs uppercase tracking-widest text-[#FFC92E]/50 font-medium",children:"Or"}),a.jsx("div",{className:"h-px w-12 bg-gradient-to-l from-transparent to-[#FFC92E]/30"})]}),a.jsx("div",{className:"mt-8 pt-6 border-t border-white/10",children:a.jsxs("button",{onClick:v,type:"button",className:"group w-full relative overflow-hidden bg-[#000] border border-[#333] hover:border-[#FFC92E]/50 text-white font-medium py-3 px-4 rounded-lg flex items-center justify-center gap-3 transition-all duration-300 hover:shadow-[0_0_15px_rgba(255,201,46,0.15)]",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#FFC92E]/0 via-[#FFC92E]/10 to-[#FFC92E]/0 translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"}),a.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),a.jsx("span",{className:"text-gray-300 group-hover:text-white transition-colors",children:"Sign in with Google"})]})})]})})}async function pd(t){if(!t)return null;try{if(t.startsWith("http://")||t.startsWith("https://"))return t;const{data:e}=A.storage.from("avatars").getPublicUrl(t);return(e==null?void 0:e.publicUrl)||null}catch(e){return console.error("Error getting avatar URL:",e),null}}const mb="AIzaSyAVamyyQXuecYqP-WyQsVuNdi5mEwUnSGc";function gb(){return new Promise((t,e)=>{if(!navigator.geolocation){e(new Error("Geolocation not supported"));return}const r=setTimeout(()=>{e(new Error("Device location request timed out"))},1e4);navigator.geolocation.getCurrentPosition(n=>{clearTimeout(r),t({lat:n.coords.latitude,lng:n.coords.longitude,accuracy:n.coords.accuracy})},n=>{clearTimeout(r),e(n)},{enableHighAccuracy:!0,timeout:8e3,maximumAge:0})})}async function vb(){const t=[{name:"ipapi.co",url:"https://ipapi.co/json/",parse:e=>({lat:e.latitude,lng:e.longitude})},{name:"geolocation-db",url:"https://geolocation-db.com/json/",parse:e=>({lat:parseFloat(e.latitude),lng:parseFloat(e.longitude)})}];for(const e of t)try{const r=await fetch(e.url,{headers:{Accept:"application/json"}});if(!r.ok)continue;const n=await r.json();if(n.latitude&&n.longitude)return e.parse(n)}catch{continue}throw new Error("IP geolocation failed")}async function yb(){console.log("[Geolocation] Starting location acquisition...");try{console.log("[Geolocation] Attempting device geolocation...");const t=await gb();return console.log(`[Geolocation] Device location: ${t.lat}, ${t.lng} (accuracy: ${t.accuracy.toFixed(0)}m)`),t}catch(t){console.warn("[Geolocation] Device location unavailable:",t.message),console.log("[Geolocation] Falling back to IP geolocation...");try{const e=await vb();return console.log(`[Geolocation] IP location: ${e.lat}, ${e.lng}`),e}catch{throw console.error("[Geolocation] All methods failed"),new Error("Unable to determine location. Please enable device location or check internet connection.")}}}async function xb(t,e){try{console.log("[ReverseGeocode] Converting coordinates to address...");const r=await fetch(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${t},${e}&result_type=street_address|route|locality&language=en&key=${mb}`);if(!r.ok)throw new Error(`Geocoding API error: ${r.status}`);const n=await r.json();if(n.status==="ZERO_RESULTS")return console.warn("[ReverseGeocode] No address found for coordinates"),{line1:`${t.toFixed(5)}, ${e.toFixed(5)}`,neighborhood:"",city:"Unknown",state:"Unknown",country:"Unknown",postal_code:""};if(n.results.length===0)throw new Error("No geocoding results");const s=n.results[0],i=l=>{const c=s.address_components.find(u=>l.some(d=>u.types.includes(d)));return(c==null?void 0:c.long_name)||(c==null?void 0:c.short_name)||""},o={line1:s.formatted_address.split(",")[0].trim(),neighborhood:i(["neighborhood","sublocality_level_1","sublocality"]),city:i(["locality","administrative_area_level_2","administrative_area_level_3"]),state:i(["administrative_area_level_1"]),country:i(["country"]),postal_code:i(["postal_code"])};return console.log("[ReverseGeocode] Address extracted:",o),o}catch(r){throw console.error("[ReverseGeocode] Error:",r),r}}async function wb(){try{console.log("[AddressTracking] Getting delivery address...");const t=await yb(),e=await xb(t.lat,t.lng),r={lat:t.lat,lng:t.lng,...e};return console.log("[AddressTracking] Delivery address obtained successfully"),r}catch(t){throw console.error("[AddressTracking] Failed:",t),t}}function bb(){var Cr,P,L,U,G,ne;const{user:t,signOut:e,loading:r}=gm(),n=Ye(),[s,i]=_.useState("orders"),[o,l]=_.useState([]),[c,u]=_.useState([]),[d,h]=_.useState(null),[m,v]=_.useState([]),[g,x]=_.useState(null),[w,f]=_.useState(!1),[p,y]=_.useState(!1),[b,k]=_.useState({display_name:"",email:""}),[j,N]=_.useState({line1:"",line2:"",neighborhood:"",city:"",state:"",country:"",postal_code:"",label:"Home"}),[S,D]=_.useState(!1);_.useEffect(()=>{!r&&!t&&n("/login"),t&&F()},[t,r,n]);const F=async()=>{var C;f(!0);try{const{data:M}=await A.from("user_profiles").select("*").eq("user_id",t.id).single();if(h(M),k({display_name:(M==null?void 0:M.display_name)||"",email:(t==null?void 0:t.email)||""}),M!=null&&M.avatar_url){const Et=await pd(M.avatar_url);x(Et)}else if((C=t==null?void 0:t.user_metadata)!=null&&C.avatar_url){const Et=await pd(t.user_metadata.avatar_url);x(Et)}const{data:Q}=await A.from("addresses").select("*").eq("user_id",t.id);v(Q||[]);const{data:ke}=await A.from("orders").select("*, order_items ( *, products ( name, product_images ( url ) ) )").eq("user_id",t.id).order("placed_at",{ascending:!1});l(ke||[]);const{data:Ne}=await A.from("carts").select("id").eq("user_id",t.id).single();if(Ne!=null&&Ne.id){const{data:Et}=await A.from("cart_items").select("*, products ( name, price, product_images ( url ) )").eq("cart_id",Ne.id);u(Et||[])}else u([])}catch(M){console.error("Error fetching data:",M),u([])}finally{f(!1)}},pe=async()=>{await e(),n("/login")},mt=()=>{k({display_name:(d==null?void 0:d.display_name)||"",email:(t==null?void 0:t.email)||""}),y(!0)},rr=async()=>{try{f(!0);const{error:C}=await A.from("user_profiles").update({display_name:b.display_name}).eq("user_id",t.id);if(C)throw C;console.log("[Profile] Profile updated successfully"),h({...d,display_name:b.display_name}),y(!1)}catch(C){console.error("[Profile] Error saving profile:",C)}finally{f(!1)}},ks=async()=>{try{D(!0);const C=await wb();N({line1:C.line1,neighborhood:C.neighborhood,city:C.city,state:C.state,country:C.country,postal_code:C.postal_code,label:"Current Location"})}catch(C){const M=C.message;let Q="Failed to get location.";M.includes("not supported")?Q="Geolocation is not supported in your browser.":M.includes("permission denied")?Q="Please enable location access in your browser settings and try again.":M.includes("timed out")?Q="Location request timed out. Please ensure location services are enabled.":M.includes("internet")&&(Q="Please check your internet connection and try again."),alert(Q),console.error("[AddressTracking] Location error:",C)}finally{D(!1)}},ga=async()=>{try{f(!0),console.log("[Address] Saving address:",j);const{error:C}=await A.from("addresses").insert({user_id:t.id,label:j.label,line1:j.line1,line2:j.line2,neighborhood:j.neighborhood,city:j.city,state:j.state,country:j.country,postal_code:j.postal_code});if(C)throw C;console.log("[Address] Address saved successfully"),await F(),y(!1)}catch(C){console.error("[Address] Error saving address:",C)}finally{f(!1)}},Er=[{id:"orders",label:"Orders",icon:Wu,description:"Track your purchases"},{id:"cart",label:"Cart",icon:li,description:"Items in your cart"},{id:"addresses",label:"Addresses",icon:On,description:"Delivery locations"},{id:"payment",label:"Payment",icon:Qo,description:"Cards & billing"},{id:"profile",label:"Profile",icon:Gn,description:"Personal info"}];return r||w&&!d&&!o.length?a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-black",children:a.jsxs("div",{className:"text-center",children:[a.jsx(ie,{className:"animate-spin text-[#FFC92E] mx-auto mb-4",size:48}),a.jsx("p",{className:"text-gray-500",children:"Loading your dashboard..."})]})}):a.jsxs("div",{className:"min-h-screen bg-black text-white",children:[a.jsx("div",{className:"section py-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsxs("div",{className:"mb-8 relative overflow-hidden rounded-2xl bg-gradient-to-r from-[#0B0B0B] via-[#111] to-[#0B0B0B] p-8 border border-[#FFC92E]/30 shadow-[0_0_30px_rgba(255,201,46,0.1)]",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#FEFDFE] via-[#FFC92E] to-[#DE9D0D] opacity-5"}),a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#FFC92E] rounded-full blur-[80px] opacity-10"}),a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row items-start md:items-center justify-between gap-6",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("div",{className:"p-2 bg-[#FFC92E]/10 rounded-full border border-[#FFC92E]/20",children:a.jsx(Wu,{className:"text-[#FFC92E]",size:28,strokeWidth:1.5})}),a.jsx("h1",{className:"text-4xl font-serif font-bold bg-gradient-to-r from-[#FEFDFE] via-[#FFC92E] to-[#DE9D0D] bg-clip-text text-transparent drop-shadow-[0_2px_4px_rgba(0,0,0,0.5)]",children:"Welcome Back"})]}),a.jsx("p",{className:"text-gray-400 text-lg",children:(d==null?void 0:d.display_name)||((Cr=t==null?void 0:t.user_metadata)==null?void 0:Cr.full_name)||"Valued Customer"})]}),a.jsxs("div",{className:"flex items-center gap-8 bg-white/5 px-6 py-3 rounded-xl border border-white/5",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-1 font-bold",children:"Total Orders"}),a.jsx("p",{className:"text-2xl font-bold bg-gradient-to-b from-[#FFC92E] to-[#DE9D0D] bg-clip-text text-transparent",children:o.length})]}),a.jsx("div",{className:"w-px h-10 bg-gradient-to-b from-transparent via-white/10 to-transparent"}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-1 font-bold",children:"Member Tier"}),a.jsxs("p",{className:"text-lg font-semibold text-white flex items-center gap-1 justify-end",children:[a.jsx(Gn,{size:14,className:"fill-[#FFC92E] text-[#FFC92E]"}),"Gold"]})]})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[a.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-[#0F0F0F] p-6 border border-[#FFC92E]/20 shadow-xl group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#FFC92E]/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),a.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[a.jsxs("div",{className:"relative mb-6",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#FEFDFE] via-[#FFC92E] to-[#DE9D0D] rounded-full blur opacity-40 group-hover:opacity-60 transition-opacity duration-500"}),a.jsx("div",{className:"relative w-24 h-24 rounded-full p-[2px] bg-gradient-to-r from-[#FEFDFE] via-[#FFC92E] to-[#DE9D0D]",children:a.jsx("div",{className:"w-full h-full rounded-full bg-[#0B0B0B] flex items-center justify-center overflow-hidden",children:g?a.jsx("img",{src:g,alt:"Profile",className:"w-full h-full object-cover"}):a.jsx("span",{className:"text-3xl font-bold bg-gradient-to-r from-[#FFC92E] to-[#DE9D0D] bg-clip-text text-transparent",children:(((P=d==null?void 0:d.display_name)==null?void 0:P[0])||((L=t==null?void 0:t.email)==null?void 0:L[0])||"U").toUpperCase()})})}),a.jsx("div",{className:"absolute bottom-0 right-0 bg-[#0B0B0B] rounded-full p-1 border border-[#FFC92E]",children:a.jsx("div",{className:"w-3 h-3 bg-[#00FF00] rounded-full animate-pulse"})})]}),a.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:(d==null?void 0:d.display_name)||((U=t==null?void 0:t.user_metadata)==null?void 0:U.full_name)||"Valued Customer"}),a.jsx("p",{className:"text-xs text-gray-500 mb-6 font-mono",children:t==null?void 0:t.email}),a.jsx("button",{onClick:mt,className:"w-full py-2 rounded-lg bg-[#FFC92E]/10 border border-[#FFC92E]/30 text-[#FFC92E] text-xs font-bold uppercase tracking-widest hover:bg-[#FFC92E] hover:text-black transition-all duration-300",children:"Edit Profile"})]})]}),a.jsxs("div",{className:"rounded-2xl overflow-hidden border border-white/5 bg-[#0F0F0F] shadow-lg",children:[Er.map(C=>a.jsxs("button",{onClick:()=>i(C.id),className:`w-full flex items-center gap-4 p-5 transition-all duration-300 text-left border-b border-white/5 last:border-b-0 group relative overflow-hidden
                                            ${s===C.id?"bg-white/5":"hover:bg-white/5"}`,children:[s===C.id&&a.jsx("div",{className:"absolute inset-y-0 left-0 w-1 bg-gradient-to-b from-[#FFC92E] to-[#DE9D0D]"}),a.jsx("div",{className:`relative z-10 p-2 rounded-lg transition-all duration-300 ${s===C.id?"bg-gradient-to-br from-[#FFC92E] to-[#DE9D0D] text-black shadow-[0_0_15px_rgba(255,201,46,0.3)]":"bg-white/5 text-gray-400 group-hover:text-[#FFC92E] group-hover:bg-[#FFC92E]/10"}`,children:a.jsx(C.icon,{size:18,strokeWidth:s===C.id?2.5:2})}),a.jsxs("div",{className:"flex-1 relative z-10",children:[a.jsx("div",{className:`text-sm font-bold tracking-wide transition-colors ${s===C.id?"text-white":"text-gray-400 group-hover:text-white"}`,children:C.label}),a.jsx("div",{className:`text-[10px] uppercase tracking-wider ${s===C.id?"text-[#FFC92E]":"text-gray-600"}`,children:C.description})]}),a.jsx(hc,{size:16,className:`relative z-10 transition-all duration-300 ${s===C.id?"text-[#FFC92E] translate-x-0":"text-gray-600 -translate-x-2 opacity-0 group-hover:opacity-100 group-hover:translate-x-0"}`})]},C.id)),a.jsxs("button",{onClick:pe,className:"w-full flex items-center gap-4 p-5 text-gray-500 hover:text-red-400 transition-all text-left group relative overflow-hidden hover:bg-red-500/5",children:[a.jsx("div",{className:"p-2 rounded-lg bg-white/5 group-hover:bg-red-500/10 transition-all",children:a.jsx(qf,{size:18,strokeWidth:2})}),a.jsx("span",{className:"font-medium text-sm tracking-wide",children:"Sign Out"})]})]})]}),a.jsxs("div",{className:"lg:col-span-3",children:[a.jsx("div",{className:"mb-6 flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("h2",{className:"text-2xl font-serif font-bold text-white",children:(G=Er.find(C=>C.id===s))==null?void 0:G.label}),a.jsx("div",{className:"h-px w-12 bg-[#FFC92E]/30"})]})}),s==="orders"&&a.jsx("div",{className:"space-y-6",children:o.length===0?a.jsx("div",{className:"relative overflow-hidden rounded-2xl bg-[#0F0F0F] p-16 text-center border border-dashed border-[#FFC92E]/20",children:a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"w-20 h-20 bg-[#FFC92E]/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-[#FFC92E]/20",children:a.jsx(li,{size:32,className:"text-[#FFC92E]",strokeWidth:1.5})}),a.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"No orders placed yet"}),a.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Start your collection of premium products today."}),a.jsxs("button",{onClick:()=>n("/shop"),className:"inline-flex items-center gap-2 px-8 py-3 bg-gradient-to-r from-[#FFC92E] to-[#DE9D0D] text-black font-bold rounded-lg hover:shadow-[0_0_20px_rgba(255,201,46,0.3)] transition-all transform hover:-translate-y-0.5",children:[a.jsx(On,{size:18}),"Explore Shop"]})]})}):o.map(C=>{var M;return a.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-[#0F0F0F] border border-white/5 shadow-lg hover:border-[#FFC92E]/30 transition-all duration-300 group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#FFC92E]/0 via-[#FFC92E]/5 to-[#FFC92E]/0 opacity-0 group-hover:opacity-100 transition-opacity"}),a.jsx("div",{className:"relative z-10 p-6 border-b border-white/5 bg-white/[0.02]",children:a.jsxs("div",{className:"flex flex-wrap gap-6 justify-between items-center",children:[a.jsxs("div",{className:"flex gap-8",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-1 font-bold",children:"Order ID"}),a.jsxs("p",{className:"font-mono text-white text-sm",children:["#",C.id.slice(0,8).toUpperCase()]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-1 font-bold",children:"Date"}),a.jsx("p",{className:"text-gray-300 text-sm",children:new Date(C.placed_at).toLocaleDateString()})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-widest mb-1 font-bold",children:"Total"}),a.jsxs("p",{className:"text-lg font-bold text-[#FFC92E]",children:["$",C.total_amount.toLocaleString()]})]})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsx("span",{className:"px-3 py-1 rounded border border-[#FFC92E]/30 text-[10px] font-bold uppercase tracking-widest text-[#FFC92E] bg-[#FFC92E]/10",children:C.status})})]})}),a.jsx("div",{className:"relative z-10 p-6 space-y-4",children:(M=C.order_items)==null?void 0:M.map(Q=>{var ke,Ne,Et,kc;return a.jsxs("div",{className:"flex gap-4 items-center p-3 rounded-lg hover:bg-white/5 transition-colors border border-transparent hover:border-white/5",children:[a.jsx("div",{className:"w-16 h-16 bg-white/5 rounded overflow-hidden flex-shrink-0 border border-white/10",children:((Et=(Ne=(ke=Q.products)==null?void 0:ke.product_images)==null?void 0:Ne[0])==null?void 0:Et.url)&&a.jsx("img",{src:Q.products.product_images[0].url,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity",alt:""})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-white font-medium mb-1",children:(kc=Q.products)==null?void 0:kc.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",Q.quantity,"  $",Q.unit_price]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"font-bold text-white",children:["$",(Q.quantity*Q.unit_price).toLocaleString()]})})]},Q.id)})})]},C.id)})}),s==="cart"&&a.jsx("div",{className:"space-y-6",children:c.length===0?a.jsx("div",{className:"relative overflow-hidden rounded-2xl bg-[#0F0F0F] p-16 text-center border border-dashed border-[#FFC92E]/20",children:a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"w-20 h-20 bg-[#FFC92E]/10 rounded-full flex items-center justify-center mx-auto mb-6 border border-[#FFC92E]/20",children:a.jsx(Qt,{size:32,className:"text-[#FFC92E]",strokeWidth:1.5})}),a.jsx("h3",{className:"text-xl font-bold text-white mb-3",children:"Your cart is empty"}),a.jsx("p",{className:"text-gray-500 mb-8 max-w-md mx-auto",children:"Add items to your cart to get started."}),a.jsxs("button",{onClick:()=>n("/shop"),className:"inline-flex items-center gap-2 px-8 py-3 bg-gradient-to-r from-[#FFC92E] to-[#DE9D0D] text-black font-bold rounded-lg hover:shadow-[0_0_20px_rgba(255,201,46,0.3)] transition-all transform hover:-translate-y-0.5",children:[a.jsx(On,{size:18}),"Start Shopping"]})]})}):a.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-[#0F0F0F] border border-white/5 shadow-lg group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#FFC92E]/0 via-[#FFC92E]/5 to-[#FFC92E]/0 opacity-0 group-hover:opacity-100 transition-opacity"}),a.jsx("div",{className:"relative z-10 p-6 border-b border-white/5 bg-white/[0.02]",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"text-lg font-bold text-white",children:"Cart Preview"}),a.jsxs("span",{className:"px-3 py-1 rounded bg-[#FFC92E]/10 border border-[#FFC92E]/30 text-[#FFC92E] text-sm font-bold",children:[c.length," item",c.length!==1?"s":""]})]})}),a.jsx("div",{className:"relative z-10 p-6 space-y-4",children:c.map(C=>{var M,Q,ke,Ne;return a.jsxs("div",{className:"flex gap-4 items-center p-3 rounded-lg hover:bg-white/5 transition-colors border border-transparent hover:border-white/5",children:[a.jsx("div",{className:"w-16 h-16 bg-white/5 rounded overflow-hidden flex-shrink-0 border border-white/10",children:((ke=(Q=(M=C.products)==null?void 0:M.product_images)==null?void 0:Q[0])==null?void 0:ke.url)&&a.jsx("img",{src:C.products.product_images[0].url,className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-opacity",alt:""})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-white font-medium mb-1",children:(Ne=C.products)==null?void 0:Ne.name}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Qty: ",C.quantity,"  $",parseFloat(C.price_at_time).toFixed(2)]})]}),a.jsx("div",{className:"text-right",children:a.jsxs("p",{className:"font-bold text-white",children:["$",(C.quantity*parseFloat(C.price_at_time)).toLocaleString(void 0,{maximumFractionDigits:2})]})})]},C.id)})}),a.jsxs("div",{className:"relative z-10 p-6 border-t border-white/5 bg-white/[0.01]",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("p",{className:"text-gray-400",children:"Subtotal"}),a.jsxs("p",{className:"text-white font-bold",children:["$",c.reduce((C,M)=>C+M.quantity*parseFloat(M.price_at_time),0).toLocaleString(void 0,{maximumFractionDigits:2})]})]}),a.jsxs("button",{onClick:()=>n("/cart"),className:"w-full py-3 bg-gradient-to-r from-[#FFC92E] to-[#DE9D0D] text-black font-bold rounded-lg hover:shadow-[0_0_20px_rgba(255,201,46,0.3)] transition-all flex items-center justify-center gap-2",children:[a.jsx(li,{size:18}),"View Full Cart"]})]})]})}),s!=="orders"&&s!=="profile"&&a.jsx("div",{className:"relative overflow-hidden rounded-2xl bg-[#0F0F0F] p-16 text-center border border-dashed border-[#FFC92E]/20",children:a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"w-16 h-16 bg-[#FFC92E]/10 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(ie,{size:24,className:"text-[#FFC92E] animate-spin-slow"})}),a.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Coming Soon"}),a.jsx("p",{className:"text-gray-500",children:"This feature is currently under development."})]})}),s==="profile"&&a.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-[#0F0F0F] p-8 border border-[#FFC92E]/20 shadow-lg",children:[a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#FFC92E] rounded-full blur-[100px] opacity-5"}),a.jsxs("form",{className:"relative z-10 space-y-6 max-w-2xl",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Full Name"}),a.jsx("input",{type:"text",defaultValue:(d==null?void 0:d.display_name)||((ne=t==null?void 0:t.user_metadata)==null?void 0:ne.full_name),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Phone"}),a.jsx("input",{type:"tel",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Email"}),a.jsx("input",{disabled:!0,value:t==null?void 0:t.email,className:"w-full bg-black/20 border border-white/5 rounded-lg p-3 text-gray-500 cursor-not-allowed"})]}),a.jsxs("button",{type:"button",className:"px-8 py-3 bg-gradient-to-r from-[#FFC92E] to-[#DE9D0D] text-black font-bold rounded-lg hover:shadow-[0_0_20px_rgba(255,201,46,0.2)] transition-all flex items-center gap-2",children:[a.jsx(On,{size:18}),"Save Changes"]})]})]})]})]})]})}),p&&a.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"relative overflow-hidden rounded-2xl bg-[#0F0F0F] border border-[#FFC92E]/30 shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"sticky top-0 p-6 border-b border-white/5 bg-gradient-to-r from-[#0B0B0B] via-[#111] to-[#0B0B0B] flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:"Edit Profile & Addresses"}),a.jsx("button",{onClick:()=>y(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:a.jsx(St,{size:24,className:"text-white"})})]}),a.jsxs("div",{className:"p-6 space-y-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx(Gn,{size:20,className:"text-[#FFC92E]"}),"Personal Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Full Name"}),a.jsx("input",{type:"text",value:b.display_name,onChange:C=>k({...b,display_name:C.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Email"}),a.jsx("input",{type:"email",disabled:!0,value:b.email,className:"w-full bg-black/20 border border-white/5 rounded-lg p-3 text-gray-500 cursor-not-allowed"})]})]})]}),a.jsxs("div",{className:"space-y-4 border-t border-white/5 pt-8",children:[a.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[a.jsx(Vu,{size:20,className:"text-[#FFC92E]"}),"Delivery Addresses"]}),m.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-gray-400",children:"Your saved addresses:"}),m.map(C=>a.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10",children:[a.jsx("p",{className:"font-semibold text-white text-sm mb-1",children:C.label}),a.jsx("p",{className:"text-xs text-gray-400",children:C.line1}),C.neighborhood&&a.jsx("p",{className:"text-xs text-gray-400",children:C.neighborhood}),C.line2&&a.jsx("p",{className:"text-xs text-gray-400",children:C.line2}),a.jsxs("p",{className:"text-xs text-gray-400",children:[C.city,", ",C.state," ",C.postal_code]})]},C.id))]}),a.jsxs("div",{className:"space-y-4 mt-6 p-4 rounded-lg bg-white/[0.02] border border-white/5",children:[a.jsx("h4",{className:"text-sm font-bold text-white",children:"Add New Address"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Address Label"}),a.jsx("input",{type:"text",value:j.label,onChange:C=>N({...j,label:C.target.value}),placeholder:"e.g., Home, Work, Apartment",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Address Line 1"}),a.jsx("input",{type:"text",value:j.line1,onChange:C=>N({...j,line1:C.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Neighborhood/Region"}),a.jsx("input",{type:"text",value:j.neighborhood,onChange:C=>N({...j,neighborhood:C.target.value}),placeholder:"e.g., Shonibare Estate, Maryland",className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Address Line 2 (Optional)"}),a.jsx("input",{type:"text",value:j.line2,onChange:C=>N({...j,line2:C.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"City"}),a.jsx("input",{type:"text",value:j.city,onChange:C=>N({...j,city:C.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"State/Province"}),a.jsx("input",{type:"text",value:j.state,onChange:C=>N({...j,state:C.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Country"}),a.jsx("input",{type:"text",value:j.country,onChange:C=>N({...j,country:C.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-500 mb-2 text-[10px] uppercase tracking-widest font-bold",children:"Postal Code"}),a.jsx("input",{type:"text",value:j.postal_code,onChange:C=>N({...j,postal_code:C.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-lg p-3 text-white outline-none focus:border-[#FFC92E]/50 transition-colors"})]})]}),a.jsx("button",{onClick:ks,disabled:S,className:"w-full py-3 bg-white/5 border border-white/10 hover:border-[#FFC92E]/50 text-white font-bold rounded-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",title:"Uses device GPS for accuracy, falls back to IP geolocation",children:S?a.jsxs(a.Fragment,{children:[a.jsx(ie,{size:18,className:"animate-spin"}),"Getting Location..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Vu,{size:18}),"Use Current Location"]})})]})]})]}),a.jsxs("div",{className:"sticky bottom-0 p-6 border-t border-white/5 bg-gradient-to-r from-[#0B0B0B] via-[#111] to-[#0B0B0B] flex gap-4",children:[a.jsx("button",{onClick:()=>y(!1),className:"flex-1 py-3 bg-white/5 border border-white/10 text-white font-bold rounded-lg hover:bg-white/10 transition-all",children:"Cancel"}),a.jsx("button",{onClick:()=>{rr(),ga()},disabled:w,className:"flex-1 py-3 bg-gradient-to-r from-[#FFC92E] to-[#DE9D0D] text-black font-bold rounded-lg hover:shadow-[0_0_20px_rgba(255,201,46,0.3)] transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:w?a.jsxs(a.Fragment,{children:[a.jsx(ie,{size:18,className:"animate-spin"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(On,{size:18}),"Save Changes"]})})]})]})})]})}function _b(){const t=_.useRef(null);return _.useEffect(()=>{const e=t.current;if(!e)return;const r=()=>{const n=e.getBoundingClientRect(),s=window.innerHeight,i=Math.min(Math.max(1-n.top/s,0),1);e.style.setProperty("--shine-pos",`${i*100}%`)};return r(),window.addEventListener("scroll",r,{passive:!0}),window.addEventListener("resize",r),()=>{window.removeEventListener("scroll",r),window.removeEventListener("resize",r)}},[]),a.jsxs("div",{className:"relative min-h-screen",children:[a.jsx("div",{className:"fixed inset-0 z-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:'url("/images/deliver_man_photo.jpg")',opacity:.15,pointerEvents:"none"}}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("section",{className:"hero-section",children:[a.jsxs("h1",{className:"hero-title",children:["Connecting Worlds.",a.jsx("br",{}),"Delivering Excellence."]}),a.jsx("p",{className:"hero-text",children:"Bridging the gap between global quality and local access."})]}),a.jsx("section",{className:"section",children:a.jsx("div",{className:"container",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-serif text-[#D4AF37] mb-6",children:"What We Do"}),a.jsxs("div",{className:"space-y-6 text-black ml-20",children:[a.jsx("p",{children:"My Super Store is a premier e-commerce platform dedicated to bridging the gap between global markets and Nigeria."}),a.jsx("p",{children:"We specialize in sourcing and distributing a diverse range of high-quality items from multiple regions worldwide."}),a.jsx("p",{children:"We handle international procurement and logistics, offering a premium shopping experience tailored for Nigeria."})]})]}),a.jsxs("div",{className:"card-black p-8 glass-border relative overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#FFC92E] rounded-full blur-[80px] opacity-10"}),a.jsx("div",{className:"relative z-10 grid grid-cols-2 gap-6",children:[["Global","Sourcing Network"],["NG","Nationwide Delivery"],["100%","Authentic Items"],["24/7","Customer Support"]].map(([e,r])=>a.jsxs("div",{className:"text-center p-4",children:[a.jsx("h3",{className:"text-4xl font-bold text-black mb-2",children:e}),a.jsx("p",{className:"text-xs uppercase tracking-widest text-[#D4AF37]",children:r})]},e))})]})]})})}),a.jsx("section",{ref:t,className:"features-section metallic-scroll-border bg-black py-20",children:a.jsxs("div",{className:"container",children:[a.jsx("h2",{className:"text-3xl font-serif text-center text-[#D4AF37] mb-4",children:"Contact & Support"}),a.jsx("p",{className:"text-center text-white mb-8",children:"Contact any of our team members through the following channels"}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-8 justify-center",children:[a.jsxs("div",{className:"feature-item",children:[a.jsx("div",{className:"feature-icon-box",children:a.jsx(wy,{size:32,strokeWidth:2.5})}),a.jsx("h4",{className:"feature-title",children:"Email Us"}),a.jsx("p",{className:"feature-desc mb-4",children:"For general inquiries and support."}),a.jsx("a",{href:"mailto:monarchgrouptechgroup@gmail.com",className:`text-[#D4AF37] hover:text-white transition-colors font-medium \r
                  text-center break-all sm:break-words max-w-full block`,children:"monarchgrouptechgroup@gmail.com"})]}),a.jsxs("div",{className:"feature-item",children:[a.jsx("div",{className:"feature-icon-box",children:a.jsx(_y,{size:32,strokeWidth:2.5})}),a.jsx("h4",{className:"feature-title",children:"Live Chat"}),a.jsx("p",{className:"feature-desc",children:"Available MonFri, 9am6pm WAT."}),a.jsx("span",{className:"text-[#D4AF37]",children:"Coming Soon"})]}),a.jsxs("div",{className:"feature-item",children:[a.jsx("div",{className:"feature-icon-box",children:a.jsx(jy,{size:32,strokeWidth:2.5})}),a.jsx("h4",{className:"feature-title",children:"Call Us"}),a.jsx("p",{className:"feature-desc",children:"+234 --- --- ----"})]})]})]})}),a.jsx("section",{className:"section bg-[#0F0F0F]",children:a.jsxs("div",{className:"container",children:[a.jsx("h2",{className:"text-3xl font-serif text-center text-[#D4AF37] mb-8",children:"Shipping Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 mb-6 leading-relaxed",children:"We offer a reliable shipping network spanning multiple regions worldwide, delivering directly to Nigeria."}),a.jsx("ul",{className:"space-y-4",children:["Standard Delivery: 514 Business Days","Express Delivery: 35 Business Days","Nationwide Coverage"].map(e=>a.jsxs("li",{className:"flex items-center text-gray-400",children:[a.jsx("span",{className:"w-2 h-2 bg-[#D4AF37] rounded-full mr-3"}),e]},e))})]}),a.jsx("div",{className:"w-full h-[400px] rounded-2xl overflow-hidden glass-border shadow-2xl",children:a.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d253682.4593258525!2d3.1191410931584985!3d6.548376811802148!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x103b8b2ae68280c1%3A0xdc9e87a367c3d9cb!2sLagos%2C%20Nigeria!",width:"100%",height:"100%",style:{border:0},loading:"lazy"})})]})]})})]})]})}const ym=_.createContext({currentSeason:"none",showGreeting:!1,dismissGreeting:()=>{}});function jb({children:t}){const[e,r]=_.useState("none"),[n,s]=_.useState(!1);_.useEffect(()=>{const l=new Date().getMonth();let c="none";if(l===11||l===0?c="winter":l===1&&(c="valentine"),r(c),c!=="none"){const u=localStorage.getItem("lastGreetingDate"),d=new Date().toDateString();u!==d&&s(!0)}},[]);const i=()=>{s(!1);const o=new Date().toDateString();localStorage.setItem("lastGreetingDate",o)};return a.jsx(ym.Provider,{value:{currentSeason:e,showGreeting:n,dismissGreeting:i},children:t})}const xm=()=>_.useContext(ym);function kb(){const[t,e]=_.useState([]);_.useEffect(()=>{let n=new Date().toISOString();const s=A.channel("public:global_notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"global_notifications"},o=>{console.log("Realtime notification received:",o);const l=o.new;l.created_at>n&&(n=l.created_at),e(c=>c.some(u=>u.id===l.id)?c:[l,...c].slice(0,3)),setTimeout(()=>{e(c=>c.filter(u=>u.id!==l.id))},8e3)}).subscribe(),i=setInterval(async()=>{const{data:o}=await A.from("global_notifications").select("*").gt("created_at",n).order("created_at",{ascending:!0});o&&o.length>0&&(console.log("Polled new notifications:",o),n=o[o.length-1].created_at,o.forEach(l=>{e(c=>c.some(u=>u.id===l.id)?c:[l,...c].slice(0,3)),setTimeout(()=>{e(c=>c.filter(u=>u.id!==l.id))},8e3)}))},3e3);return()=>{clearInterval(i),A.removeChannel(s)}},[]);const r=n=>{e(s=>s.filter(i=>i.id!==n))};return console.log("GlobalNotifications rendering with:",t.length,"notifications"),t.length===0?null:a.jsx("div",{className:"fixed bottom-5 left-5 z-50 flex flex-col gap-3 max-w-sm w-full pointer-events-none",style:{zIndex:9999},children:t.map((n,s)=>a.jsx("div",{className:"pointer-events-auto bg-[#0A0A0A]/90 backdrop-blur-md border border-(--gold-primary)/30 p-4 rounded-lg shadow-2xl transform transition-all duration-500 ease-out animate-in slide-in-from-left-full",style:{animationDelay:`${s*100}ms`},children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-(--gold-primary)/10 rounded-full shrink-0",children:a.jsx(li,{size:18,className:"text-(--gold-primary)"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-white/90 text-sm leading-relaxed font-light",children:n.message}),a.jsx("span",{className:"text-[10px] text-white/40 mt-1 block",children:"Just now"})]}),a.jsx("button",{onClick:()=>r(n.id),className:"text-white/40 hover:text-white transition-colors shrink-0",children:a.jsx(St,{size:14})})]})},n.id))})}function Nb(){const{currentSeason:t}=xm();if(t==="none")return null;const r=(n=>Array.from({length:n},(s,i)=>({id:i,left:Math.random()*100,animationDelay:Math.random()*5})))(20);return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"seasonal-overlay",children:[t==="winter"&&a.jsx(a.Fragment,{children:r.map(n=>a.jsx("div",{className:"snowflake",style:{left:`${n.left}%`,animationDelay:`${n.animationDelay}s`},children:""},n.id))}),t==="valentine"&&a.jsx(a.Fragment,{children:r.map(n=>a.jsx("div",{className:"heart",style:{left:`${n.left}%`,animationDelay:`${n.animationDelay}s`},children:""},n.id))})]}),a.jsx("div",{className:"seasonal-banner",children:a.jsx("div",{className:`corner-ribbon ${t==="valentine"?"valentine":""}`,children:t==="winter"?"Season's Greetings":"Happy Valentine's"})})]})}function Sb(){const{currentSeason:t,showGreeting:e,dismissGreeting:r}=xm();if(!e||t==="none")return null;const s={winter:{icon:"",title:"Happy Holidays!",message:"Wishing you a wonderful holiday season filled with joy and warmth."},valentine:{icon:"",title:"Happy Valentine's!",message:"Spread love and kindness this Valentine's Day."}}[t],i=o=>{o.target===o.currentTarget&&r()};return a.jsx("div",{className:"greeting-modal-backdrop",onClick:i,children:a.jsx("div",{className:"greeting-modal",children:a.jsxs("div",{className:"greeting-modal-content",children:[a.jsx("div",{className:"greeting-modal-icon",children:s.icon}),a.jsx("h2",{className:"greeting-modal-title",children:s.title}),a.jsx("p",{className:"greeting-modal-message",children:s.message}),a.jsx("button",{className:"greeting-modal-close",onClick:r,children:"Continue Shopping"})]})})})}function js(){const[t,e]=_.useState(null),[r,n]=_.useState(!0),[s,i]=_.useState(null),[o,l]=_.useState(!1),c=async()=>{try{n(!0),i(null);const{data:{user:u},error:d}=await A.auth.getUser();if(d)throw d;if(!u){e(null),l(!1);return}const{data:h,error:m}=await A.from("vendors").select("*").eq("user_id",u.id).single();if(m)if(m.code==="PGRST116")e(null),l(!1);else throw m;else e(h),l(!0)}catch(u){console.error("Error fetching vendor:",u),i(u instanceof Error?u.message:"Failed to fetch vendor data"),l(!1)}finally{n(!1)}};return _.useEffect(()=>{c()},[]),{vendor:t,loading:r,error:s,isVendor:o,refetch:c}}function Eb({children:t}){const e=Ye(),{vendor:r}=js(),n=async()=>{await A.auth.signOut(),e("/")},s=[{to:"/vendor/dashboard",icon:vy,label:"Dashboard"},{to:"/vendor/products",icon:Qt,label:"Products"},{to:"/vendor/orders",icon:$i,label:"Orders"},{to:"/vendor/profile",icon:Xf,label:"Profile"}];return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("button",{onClick:()=>e("/"),className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 transition",children:[a.jsx(uc,{size:20}),a.jsx("span",{className:"hidden sm:inline",children:"Back to Store"})]}),a.jsx("div",{className:"h-6 w-px bg-gray-300"}),a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:(r==null?void 0:r.business_name)||"Vendor Portal"})]}),a.jsxs("button",{onClick:n,className:"inline-flex items-center gap-2 px-4 py-2 text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition",children:[a.jsx(qf,{size:18}),a.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]})]})})}),a.jsx("div",{className:"bg-white border-b border-gray-200",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4",children:a.jsx("nav",{className:"flex gap-1 overflow-x-auto",children:s.map(i=>a.jsxs(Xv,{to:i.to,className:({isActive:o})=>`inline-flex items-center gap-2 px-4 py-3 border-b-2 font-medium transition whitespace-nowrap ${o?"border-[#D4AF37] text-[#D4AF37]":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-300"}`,children:[a.jsx(i.icon,{size:18}),i.label]},i.to))})})}),a.jsx("main",{className:"max-w-7xl mx-auto",children:t}),a.jsx("footer",{className:"bg-white border-t border-gray-200 mt-12",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 py-6",children:a.jsxs("p",{className:"text-center text-sm text-gray-600",children:[" ",new Date().getFullYear()," ",(r==null?void 0:r.business_name)||"My Superstore",". All rights reserved."]})})})]})}function Cb(){const t=Ye(),{vendor:e,loading:r,isVendor:n}=js(),[s,i]=_.useState({totalProducts:0,publishedProducts:0,pendingOrders:0,totalRevenue:0,totalViews:0}),[o,l]=_.useState(!0);_.useEffect(()=>{e&&c()},[e]);const c=async()=>{if(e)try{l(!0);const{data:u,error:d}=await A.from("products").select("id, published, view_count").eq("seller_id",e.id);if(d)throw d;const h=(u==null?void 0:u.length)||0,m=(u==null?void 0:u.filter(y=>y.published).length)||0,v=(u==null?void 0:u.reduce((y,b)=>y+(b.view_count||0),0))||0,{count:g,error:x}=await A.from("order_items").select("order_id",{count:"exact",head:!0}).in("product_id",(u==null?void 0:u.map(y=>y.id))||[]).eq("orders.status","pending");x&&console.error("Error fetching orders:",x);const{data:w,error:f}=await A.from("order_items").select("quantity, unit_price").in("product_id",(u==null?void 0:u.map(y=>y.id))||[]);f&&console.error("Error fetching revenue:",f);const p=(w==null?void 0:w.reduce((y,b)=>y+b.quantity*b.unit_price,0))||0;i({totalProducts:h,publishedProducts:m,pendingOrders:g||0,totalRevenue:p,totalViews:v})}catch(u){console.error("Error fetching stats:",u)}finally{l(!1)}};return r?a.jsx("div",{className:"flex justify-center items-center min-h-screen",children:a.jsx(ie,{className:"animate-spin text-[#D4AF37]",size:48})}):!n||!e?a.jsx("div",{className:"max-w-2xl mx-auto px-4 py-12 text-center",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 border-2 border-[#D4AF37]",children:[a.jsx("div",{className:"w-16 h-16 bg-[#D4AF37]/10 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-[#D4AF37]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"No Vendor Profile Found"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Set up your vendor profile to start selling products and managing your inventory."}),a.jsxs("button",{onClick:()=>t("/vendor/profile"),className:"btn-primary inline-flex items-center gap-2",children:[a.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Set Up Vendor Profile"]})]})}):o?a.jsx("div",{className:"flex justify-center items-center min-h-screen",children:a.jsx(ie,{className:"animate-spin text-[#D4AF37]",size:48})}):a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",e.business_name,"!"]}),a.jsx("p",{className:"text-gray-600",children:"Here's what's happening with your store today."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(Qt,{className:"text-blue-600",size:24})}),a.jsx(Yf,{className:"text-green-500",size:20})]}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalProducts}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Products"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[s.publishedProducts," published"]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(dy,{className:"text-green-600",size:24})})}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",s.totalRevenue.toFixed(2)]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"All-time sales"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("div",{className:"p-3 bg-yellow-100 rounded-lg",children:a.jsx($i,{className:"text-yellow-600",size:24})})}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.pendingOrders}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pending Orders"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Awaiting processing"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[a.jsx("div",{className:"flex items-center justify-between mb-4",children:a.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:a.jsx(fc,{className:"text-purple-600",size:24})})}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalViews}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Views"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Product page views"})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("button",{onClick:()=>t("/vendor/products/new"),className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:border-[#D4AF37] hover:bg-[#D4AF37]/5 transition",children:[a.jsx("div",{className:"p-2 bg-[#D4AF37]/10 rounded-lg",children:a.jsx(hn,{className:"text-[#D4AF37]",size:20})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"Add Product"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Create a new listing"})]})]}),a.jsxs("button",{onClick:()=>t("/vendor/products"),className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:border-[#D4AF37] hover:bg-[#D4AF37]/5 transition",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Qt,{className:"text-blue-600",size:20})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"View Products"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Manage your inventory"})]})]}),a.jsxs("button",{onClick:()=>t("/vendor/orders"),className:"flex items-center gap-3 p-4 border border-gray-200 rounded-lg hover:border-[#D4AF37] hover:bg-[#D4AF37]/5 transition",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx($i,{className:"text-yellow-600",size:20})}),a.jsxs("div",{className:"text-left",children:[a.jsx("p",{className:"font-medium text-gray-900",children:"View Orders"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Check pending orders"})]})]})]})]}),!e.is_verified&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-yellow-900 mb-1",children:"Account Verification Pending"}),a.jsx("p",{className:"text-sm text-yellow-800 mb-3",children:"Your vendor account is pending verification. Complete your profile to speed up the process."}),a.jsx("button",{onClick:()=>t("/vendor/profile"),className:"text-sm font-medium text-yellow-900 hover:underline",children:"Complete Profile "})]})]})})]})}function Pb(t={}){const{search:e="",publishedOnly:r=!1,limit:n=20,offset:s=0}=t,[i,o]=_.useState([]),[l,c]=_.useState(!0),[u,d]=_.useState(null),[h,m]=_.useState(0),v=async()=>{try{c(!0),d(null);const{data:{user:g},error:x}=await A.auth.getUser();if(x)throw x;if(!g)throw new Error("User not authenticated");const{data:w,error:f}=await A.from("vendors").select("id").eq("user_id",g.id).single();if(f)throw f;if(!w)throw new Error("Vendor profile not found");let p=A.from("products").select(`
          *,
          product_images(id, url, alt_text, position),
          product_specs(id, spec_key, spec_value),
          product_categories(categories(id, name, slug))
        `,{count:"exact"}).eq("seller_id",w.id).order("created_at",{ascending:!1});e&&(p=p.or(`name.ilike.%${e}%,sku.ilike.%${e}%,description.ilike.%${e}%`)),r&&(p=p.eq("published",!0)),p=p.range(s,s+n-1);const{data:y,error:b,count:k}=await p;if(b)throw b;o(y||[]),m(k||0)}catch(g){console.error("Error fetching vendor products:",g),d(g instanceof Error?g.message:"Failed to fetch products")}finally{c(!1)}};return _.useEffect(()=>{v()},[e,r,n,s]),{products:i,loading:l,error:u,total:h,refetch:v}}function Tb({product:t,onEdit:e,onDelete:r,onView:n}){var o;const s=(o=t.product_images)==null?void 0:o[0],i=s==null?void 0:s.url;return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"aspect-square bg-gray-100 relative",children:[i?a.jsx("img",{src:s.url,alt:s.alt_text||t.name,className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),a.jsx("div",{className:"absolute top-2 right-2",children:t.published?a.jsx("span",{className:"px-2 py-1 bg-green-500 text-white text-xs font-medium rounded",children:"Published"}):a.jsx("span",{className:"px-2 py-1 bg-gray-500 text-white text-xs font-medium rounded",children:"Draft"})}),t.stock===0&&a.jsx("div",{className:"absolute top-2 left-2",children:a.jsx("span",{className:"px-2 py-1 bg-red-500 text-white text-xs font-medium rounded",children:"Out of Stock"})})]}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-1 line-clamp-2",children:t.name}),t.sku&&a.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["SKU: ",t.sku]}),a.jsxs("div",{className:"flex items-baseline gap-2 mb-3",children:[a.jsxs("span",{className:"text-2xl font-bold text-[#D4AF37]",children:["$",t.price.toFixed(2)]}),a.jsxs("span",{className:"text-sm text-gray-500",children:["Stock: ",t.stock]})]}),t.short_description&&a.jsx("p",{className:"text-sm text-gray-600 mb-4 line-clamp-2",children:t.short_description}),a.jsxs("div",{className:"flex gap-4 text-xs text-gray-500 mb-4 pb-4 border-b",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-gray-700",children:t.view_count})," views"]}),t.brand&&a.jsxs("div",{className:"truncate",children:["Brand: ",a.jsx("span",{className:"font-medium text-gray-700",children:t.brand})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>n(t.id),className:"flex-1 inline-flex items-center justify-center gap-1 px-3 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition",children:[a.jsx(fc,{size:16}),"View"]}),a.jsxs("button",{onClick:()=>e(t.id),className:"flex-1 inline-flex items-center justify-center gap-1 px-3 py-2 text-sm font-medium text-white bg-[#D4AF37] hover:bg-[#B8941F] rounded-lg transition",children:[a.jsx(Jf,{size:16}),"Edit"]}),a.jsx("button",{onClick:()=>r(t.id),className:"px-3 py-2 text-red-600 hover:bg-red-50 rounded-lg transition","aria-label":"Delete product",children:a.jsx(Qf,{size:16})})]})]})]})}function wm({isOpen:t,title:e,message:r,confirmText:n="Confirm",cancelText:s="Cancel",onConfirm:i,onCancel:o,variant:l="danger"}){return t?a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:o}),a.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6 animate-in fade-in zoom-in duration-200",children:[a.jsx("button",{onClick:o,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition",children:a.jsx(St,{size:20})}),a.jsxs("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`flex-shrink-0 w-12 h-12 rounded-full flex items-center justify-center ${l==="danger"?"bg-red-100":"bg-yellow-100"}`,children:a.jsx(ay,{className:l==="danger"?"text-red-600":"text-yellow-600",size:24})}),a.jsxs("div",{className:"flex-1 pt-1",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e}),a.jsx("p",{className:"text-sm text-gray-600",children:r})]})]}),a.jsxs("div",{className:"flex gap-3 mt-6",children:[a.jsx("button",{onClick:o,className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition",children:s}),a.jsx("button",{onClick:i,className:`flex-1 px-4 py-2 text-sm font-medium text-white rounded-lg transition ${l==="danger"?"bg-red-600 hover:bg-red-700":"bg-yellow-600 hover:bg-yellow-700"}`,children:n})]})]})]}):null}function Ob(){const t=Ye(),[e,r]=_.useState(""),[n,s]=_.useState(!1),[i,o]=_.useState(0),[l,c]=_.useState(!1),[u,d]=_.useState(null),[h,m]=_.useState(!1),v=12,g=i*v,{products:x,loading:w,error:f,total:p,refetch:y}=Pb({search:e,publishedOnly:n,limit:v,offset:g}),b=Math.ceil(p/v),k=async()=>{if(u){m(!0);try{const{error:N}=await A.from("products").delete().eq("id",u);if(N)throw N;c(!1),d(null),y()}catch(N){console.error("Error deleting product:",N),alert("Failed to delete product")}finally{m(!1)}}},j=N=>{d(N),c(!0)};return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Products"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:[p," products total"]})]}),a.jsxs("button",{onClick:()=>t("/vendor/products/new"),className:"btn-primary inline-flex items-center gap-2",children:[a.jsx(hn,{size:20}),"Add Product"]})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Ny,{className:"absolute left-3 top-2.5 text-gray-400",size:20}),a.jsx("input",{type:"text",value:e,onChange:N=>{r(N.target.value),o(0)},placeholder:"Search products by name, SKU, or description...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent"})]}),a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:n,onChange:N=>{s(N.target.checked),o(0)},className:"w-4 h-4 text-[#D4AF37] border-gray-300 rounded focus:ring-[#D4AF37]"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Published only"})]})]})}),f&&a.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg mb-6",children:f}),w&&a.jsx("div",{className:"flex justify-center items-center py-20",children:a.jsx(ie,{className:"animate-spin text-[#D4AF37]",size:48})}),!w&&x.length===0&&a.jsxs("div",{className:"text-center py-20",children:[a.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 mb-4",children:a.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e?"No products found":"No products yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:e?"Try adjusting your search or filters":"Get started by adding your first product"}),!e&&a.jsxs("button",{onClick:()=>t("/vendor/products/new"),className:"btn-primary inline-flex items-center gap-2",children:[a.jsx(hn,{size:20}),"Add Your First Product"]})]}),!w&&x.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:x.map(N=>a.jsx(Tb,{product:N,onEdit:S=>t(`/vendor/products/${S}/edit`),onDelete:j,onView:S=>t(`/vendor/products/${S}`)},N.id))}),b>1&&a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("button",{onClick:()=>o(Math.max(0,i-1)),disabled:i===0,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Previous"}),a.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",i+1," of ",b]}),a.jsx("button",{onClick:()=>o(Math.min(b-1,i+1)),disabled:i>=b-1,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition",children:"Next"})]})]}),a.jsx(wm,{isOpen:l,title:"Delete Product",message:"Are you sure you want to delete this product? This action cannot be undone.",confirmText:h?"Deleting...":"Delete",onConfirm:k,onCancel:()=>{c(!1),d(null)},variant:"danger"})]})}const Ab="69bcf51fbec18d562474ec6674ff8539",Rb="https://api.imgbb.com/1/upload";async function bm(t){if(!["image/jpeg","image/jpg","image/png","image/webp","image/gif"].includes(t.type))throw new Error("Invalid file type. Only JPEG, PNG, WEBP, and GIF are allowed.");const r=5*1024*1024;if(t.size>r)throw new Error("File size exceeds 5MB limit");const n=new FormData;n.append("image",t),n.append("key",Ab);try{const s=await fetch(Rb,{method:"POST",body:n});if(!s.ok)throw new Error(`Upload failed: ${s.statusText}`);const i=await s.json();if(!i.success)throw new Error("ImgBB upload failed");return{url:i.data.url,displayUrl:i.data.display_url,deleteUrl:i.data.delete_url}}catch(s){throw console.error("ImgBB upload error:",s),new Error(s instanceof Error?s.message:"Failed to upload image to ImgBB")}}async function Fb(t){try{const r=(await fetch(t,{method:"HEAD"})).headers.get("content-type");return(r==null?void 0:r.startsWith("image/"))??!1}catch{return!1}}function Ib({images:t,onChange:e,maxImages:r=10}){const[n,s]=_.useState("file"),[i,o]=_.useState(""),[l,c]=_.useState(!1),[u,d]=_.useState(null),[h,m]=_.useState(null),v=_.useRef(null),g=async j=>{if(!j||j.length===0)return;const N=j[0];c(!0),d(null);try{const D={url:(await bm(N)).displayUrl,alt_text:N.name.replace(/\.[^/.]+$/,""),position:t.length};e([...t,D])}catch(S){d(S instanceof Error?S.message:"Upload failed")}finally{c(!1)}},x=async()=>{if(i.trim()){c(!0),d(null);try{if(!await Fb(i))throw new Error("Invalid image URL");const N={url:i,alt_text:"",position:t.length};e([...t,N]),o("")}catch(j){d(j instanceof Error?j.message:"Invalid URL")}finally{c(!1)}}},w=j=>{const S=t.filter((D,F)=>F!==j).map((D,F)=>({...D,position:F}));e(S)},f=(j,N)=>{const S=[...t];S[j]={...S[j],alt_text:N},e(S)},p=j=>{m(j)},y=(j,N)=>{if(j.preventDefault(),h===null||h===N)return;const S=[...t],D=S[h];S.splice(h,1),S.splice(N,0,D);const F=S.map((pe,mt)=>({...pe,position:mt}));e(F),m(N)},b=()=>{m(null)},k=t.length<r;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx("button",{type:"button",onClick:()=>s("file"),className:`px-4 py-2 rounded-lg font-medium transition ${n==="file"?"bg-[#D4AF37] text-black":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Upload File"}),a.jsx("button",{type:"button",onClick:()=>s("url"),className:`px-4 py-2 rounded-lg font-medium transition ${n==="url"?"bg-[#D4AF37] text-black":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:"Paste URL"})]}),k&&a.jsxs(a.Fragment,{children:[n==="file"&&a.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[a.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:j=>g(j.target.files),className:"hidden"}),a.jsx(Yo,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("p",{className:"text-gray-600 mb-2",children:"Drag & drop or click to upload"}),a.jsx("button",{type:"button",onClick:()=>{var j;return(j=v.current)==null?void 0:j.click()},disabled:l,className:"btn-primary inline-flex items-center gap-2",children:l?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"animate-spin",size:16}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Yo,{size:16}),"Choose File"]})}),a.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"PNG, JPG, WEBP up to 5MB"})]}),n==="url"&&a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"flex-1",children:a.jsx("input",{type:"url",value:i,onChange:j=>o(j.target.value),placeholder:"https://example.com/image.jpg",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",onKeyDown:j=>j.key==="Enter"&&x()})}),a.jsx("button",{type:"button",onClick:x,disabled:l||!i.trim(),className:"btn-primary inline-flex items-center gap-2",children:l?a.jsx(ie,{className:"animate-spin",size:16}):a.jsxs(a.Fragment,{children:[a.jsx(yy,{size:16}),"Add URL"]})})]})]}),u&&a.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg",children:u}),t.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-700",children:["Images (",t.length,"/",r,")"]}),t.map((j,N)=>a.jsxs("div",{draggable:!0,onDragStart:()=>p(N),onDragOver:S=>y(S,N),onDragEnd:b,className:"flex items-start gap-3 p-3 border border-gray-200 rounded-lg bg-white hover:border-gray-300 transition cursor-move",children:[a.jsx(my,{className:"text-gray-400 mt-1 flex-shrink-0",size:20}),a.jsx("img",{src:j.url,alt:j.alt_text||"Product image",className:"w-20 h-20 object-cover rounded border border-gray-200 flex-shrink-0"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("input",{type:"text",value:j.alt_text||"",onChange:S=>f(N,S.target.value),placeholder:"Alt text (optional)",className:"w-full px-3 py-1.5 text-sm border border-gray-300 rounded focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1 truncate",children:["Position: ",N+1]})]}),a.jsx("button",{type:"button",onClick:()=>w(N),className:"p-2 text-red-600 hover:bg-red-50 rounded transition flex-shrink-0",children:a.jsx(St,{size:18})})]},N))]}),!k&&a.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["Maximum ",r," images reached"]})]})}function Db({specs:t,onChange:e}){const r=()=>{const o={spec_key:"",spec_value:""};e([...t,o])},n=o=>{e(t.filter((l,c)=>c!==o))},s=(o,l)=>{const c=[...t];c[o]={...c[o],spec_key:l},e(c)},i=(o,l)=>{const c=[...t];c[o]={...c[o],spec_value:l},e(c)};return a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Product Specifications"}),a.jsxs("button",{type:"button",onClick:r,className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm font-medium text-[#D4AF37] hover:bg-[#D4AF37]/10 rounded-lg transition",children:[a.jsx(hn,{size:16}),"Add Spec"]})]}),t.length===0&&a.jsxs("div",{className:"text-center py-8 border-2 border-dashed border-gray-300 rounded-lg",children:[a.jsx("p",{className:"text-gray-500 text-sm",children:"No specifications added yet"}),a.jsx("button",{type:"button",onClick:r,className:"mt-2 text-[#D4AF37] hover:underline text-sm font-medium",children:"Add your first specification"})]}),t.length>0&&a.jsx("div",{className:"space-y-2",children:t.map((o,l)=>a.jsxs("div",{className:"flex gap-2 items-start",children:[a.jsx("input",{type:"text",value:o.spec_key,onChange:c=>s(l,c.target.value),placeholder:"Key (e.g., Weight)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent"}),a.jsx("input",{type:"text",value:o.spec_value||"",onChange:c=>i(l,c.target.value),placeholder:"Value (e.g., 2.5kg)",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent"}),a.jsx("button",{type:"button",onClick:()=>n(l),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition","aria-label":"Remove specification",children:a.jsx(St,{size:20})})]},l))}),t.length>0&&a.jsxs("p",{className:"text-xs text-gray-500",children:[t.length," specification",t.length!==1?"s":""," added"]})]})}function $b({selectedIds:t,onChange:e}){const[r,n]=_.useState([]),[s,i]=_.useState(!0),[o,l]=_.useState(!1);_.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:m,error:v}=await A.from("categories").select("*").order("name");if(v)throw v;n(m||[])}catch(m){console.error("Error fetching categories:",m)}finally{i(!1)}},u=m=>{t.includes(m)?e(t.filter(v=>v!==m)):e([...t,m])},d=m=>{e(t.filter(v=>v!==m))},h=r.filter(m=>t.includes(m.id));return a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Categories"}),h.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:h.map(m=>a.jsxs("div",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-[#D4AF37]/10 text-[#D4AF37] rounded-full text-sm font-medium",children:[m.name,a.jsx("button",{type:"button",onClick:()=>d(m.id),className:"hover:bg-[#D4AF37]/20 rounded-full p-0.5",children:a.jsx(St,{size:14})})]},m.id))}),a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>l(!o),className:"w-full px-4 py-2 text-left border border-gray-300 rounded-lg bg-white hover:border-gray-400 focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent transition flex items-center justify-between",children:[a.jsx("span",{className:"text-gray-700",children:t.length>0?`${t.length} selected`:"Select categories"}),a.jsx(dc,{className:`text-gray-400 transition-transform ${o?"rotate-180":""}`,size:20})]}),o&&a.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:[s&&a.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"Loading categories..."}),!s&&r.length===0&&a.jsx("div",{className:"px-4 py-3 text-sm text-gray-500",children:"No categories available"}),!s&&r.map(m=>{const v=t.includes(m.id);return a.jsxs("label",{className:"flex items-center px-4 py-2 hover:bg-gray-50 cursor-pointer transition",children:[a.jsx("input",{type:"checkbox",checked:v,onChange:()=>u(m.id),className:"w-4 h-4 text-[#D4AF37] border-gray-300 rounded focus:ring-[#D4AF37]"}),a.jsx("span",{className:"ml-3 text-sm text-gray-700",children:m.name})]},m.id)})]})]}),t.length===0&&a.jsx("p",{className:"text-xs text-gray-500",children:"Select at least one category for your product"})]})}function md(){const{id:t}=cc(),e=Ye(),{vendor:r,loading:n}=js(),s=!!t,[i,o]=_.useState({name:"",sku:"",price:0,stock:0,short_description:"",description:"",brand:"",published:!1,images:[],specs:[],category_ids:[]}),[l,c]=_.useState(s),[u,d]=_.useState(!1),[h,m]=_.useState(null);_.useEffect(()=>{s&&t&&v(t)},[t,s]);const v=async f=>{try{c(!0);const{data:p,error:y}=await A.from("products").select(`
          *,
          product_images(*),
          product_specs(*),
          product_categories(category_id)
        `).eq("id",f).single();if(y)throw y;p&&o({name:p.name,sku:p.sku||"",price:p.price,stock:p.stock,short_description:p.short_description||"",description:p.description||"",brand:p.brand||"",published:p.published,images:(p.product_images||[]).sort((b,k)=>b.position-k.position),specs:p.product_specs||[],category_ids:(p.product_categories||[]).map(b=>b.category_id)})}catch(p){console.error("Error fetching product:",p),m("Failed to load product")}finally{c(!1)}},g=async f=>{if(f.preventDefault(),!r){m("Vendor profile not found");return}d(!0),m(null);try{if(!i.name.trim())throw new Error("Product name is required");if(i.price<=0)throw new Error("Price must be greater than 0");if(i.category_ids.length===0)throw new Error("Select at least one category");s&&t?await w(t):await x(),e("/vendor/products")}catch(p){console.error("Error saving product:",p),m(p instanceof Error?p.message:"Failed to save product")}finally{d(!1)}},x=async()=>{if(!r)return;const f=i.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),{data:p,error:y}=await A.from("products").insert({name:i.name,slug:f,sku:i.sku||null,short_description:i.short_description||null,description:i.description||null,price:i.price,stock:i.stock,brand:i.brand||null,published:i.published,seller_id:r.id}).select().single();if(y)throw y;if(i.images.length>0){const b=i.images.map(j=>({product_id:p.id,url:j.url,alt_text:j.alt_text,position:j.position})),{error:k}=await A.from("product_images").insert(b);if(k)throw k}if(i.specs.length>0){const b=i.specs.filter(k=>k.spec_key.trim()).map(k=>({product_id:p.id,spec_key:k.spec_key,spec_value:k.spec_value}));if(b.length>0){const{error:k}=await A.from("product_specs").insert(b);if(k)throw k}}if(i.category_ids.length>0){const b=i.category_ids.map(j=>({product_id:p.id,category_id:j})),{error:k}=await A.from("product_categories").insert(b);if(k)throw k}},w=async f=>{const{error:p}=await A.from("products").update({name:i.name,sku:i.sku||null,short_description:i.short_description||null,description:i.description||null,price:i.price,stock:i.stock,brand:i.brand||null,published:i.published,updated_at:new Date().toISOString()}).eq("id",f);if(p)throw p;if(await A.from("product_images").delete().eq("product_id",f),i.images.length>0){const b=i.images.map(j=>({product_id:f,url:j.url,alt_text:j.alt_text,position:j.position})),{error:k}=await A.from("product_images").insert(b);if(k)throw k}await A.from("product_specs").delete().eq("product_id",f);const y=i.specs.filter(b=>b.spec_key.trim());if(y.length>0){const b=y.map(j=>({product_id:f,spec_key:j.spec_key,spec_value:j.spec_value})),{error:k}=await A.from("product_specs").insert(b);if(k)throw k}if(await A.from("product_categories").delete().eq("product_id",f),i.category_ids.length>0){const b=i.category_ids.map(j=>({product_id:f,category_id:j})),{error:k}=await A.from("product_categories").insert(b);if(k)throw k}};return n||l?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:a.jsx(ie,{className:"animate-spin text-[#D4AF37]",size:48})}):r?a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("button",{onClick:()=>e("/vendor/products"),className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[a.jsx(uc,{size:20}),"Back to Products"]}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:s?"Edit Product":"New Product"})]}),h&&a.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg mb-6",children:h}),a.jsxs("form",{onSubmit:g,className:"space-y-8",children:[a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Basic Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),a.jsx("input",{type:"text",value:i.name,onChange:f=>o({...i,name:f.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"Enter product name"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SKU"}),a.jsx("input",{type:"text",value:i.sku,onChange:f=>o({...i,sku:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"e.g., PROD-001"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Brand"}),a.jsx("input",{type:"text",value:i.brand,onChange:f=>o({...i,brand:f.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"Enter brand name"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price *"}),a.jsxs("div",{className:"relative",children:[a.jsx("span",{className:"absolute left-3 top-2.5 text-gray-500",children:"$"}),a.jsx("input",{type:"number",value:i.price,onChange:f=>o({...i,price:parseFloat(f.target.value)||0}),min:"0",step:"0.01",required:!0,className:"w-full pl-8 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"0.00"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock *"}),a.jsx("input",{type:"number",value:i.stock,onChange:f=>o({...i,stock:parseInt(f.target.value)||0}),min:"0",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"0"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Short Description"}),a.jsx("input",{type:"text",value:i.short_description,onChange:f=>o({...i,short_description:f.target.value}),maxLength:200,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"Brief product description (max 200 characters)"}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i.short_description.length,"/200 characters"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:i.description,onChange:f=>o({...i,description:f.target.value}),rows:6,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"Detailed product description"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Images"}),a.jsx(Ib,{images:i.images,onChange:f=>o({...i,images:f}),maxImages:10})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Categories *"}),a.jsx($b,{selectedIds:i.category_ids,onChange:f=>o({...i,category_ids:f})})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Specifications"}),a.jsx(Db,{specs:i.specs,onChange:f=>o({...i,specs:f})})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Publishing"}),a.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:i.published,onChange:f=>o({...i,published:f.target.checked}),className:"w-5 h-5 text-[#D4AF37] border-gray-300 rounded focus:ring-[#D4AF37]"}),a.jsxs("div",{children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Publish this product"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Published products are visible to customers"})]})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{type:"button",onClick:()=>e("/vendor/products"),className:"flex-1 px-6 py-3 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition",children:"Cancel"}),a.jsx("button",{type:"submit",disabled:u,className:"flex-1 btn-primary inline-flex items-center justify-center gap-2",children:u?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"animate-spin",size:20}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Kf,{size:20}),s?"Update Product":"Create Product"]})})]})]})]}):a.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-12 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Vendor Access Required"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"You need a vendor account to manage products."}),a.jsx("button",{onClick:()=>e("/vendor/profile"),className:"btn-primary",children:"Set Up Vendor Profile"})]})}function Lb(){var x,w;const{id:t}=cc(),e=Ye(),[r,n]=_.useState(null),[s,i]=_.useState(!0),[o,l]=_.useState(!1),[c,u]=_.useState(!1);_.useEffect(()=>{t&&d(t)},[t]);const d=async f=>{try{const{data:p,error:y}=await A.from("products").select(`
          *,
          product_images(*),
          product_specs(*),
          product_categories(categories(*))
        `).eq("id",f).single();if(y)throw y;n(p)}catch(p){console.error("Error fetching product:",p)}finally{i(!1)}},h=async()=>{if(t){u(!0);try{const{error:f}=await A.from("products").delete().eq("id",t);if(f)throw f;e("/vendor/products")}catch(f){console.error("Error deleting product:",f),alert("Failed to delete product")}finally{u(!1)}}};if(s)return a.jsx("div",{className:"flex justify-center items-center min-h-screen",children:a.jsx(ie,{className:"animate-spin text-[#D4AF37]",size:48})});if(!r)return a.jsxs("div",{className:"max-w-2xl mx-auto px-4 py-12 text-center",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Product Not Found"}),a.jsx("button",{onClick:()=>e("/vendor/products"),className:"btn-primary",children:"Back to Products"})]});const m=((x=r.product_images)==null?void 0:x.sort((f,p)=>f.position-p.position))||[],v=r.product_specs||[],g=((w=r.product_categories)==null?void 0:w.map(f=>f.categories).filter(Boolean))||[];return a.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("button",{onClick:()=>e("/vendor/products"),className:"inline-flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[a.jsx(uc,{size:20}),"Back to Products"]}),a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r.name}),r.published?a.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 text-sm font-medium rounded-full",children:"Published"}):a.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm font-medium rounded-full",children:"Draft"})]}),r.sku&&a.jsxs("p",{className:"text-gray-500",children:["SKU: ",r.sku]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:()=>e(`/vendor/products/${r.id}/edit`),className:"btn-primary inline-flex items-center gap-2",children:[a.jsx(Jf,{size:18}),"Edit"]}),a.jsx("button",{onClick:()=>l(!0),className:"px-4 py-2 text-red-600 border border-red-600 hover:bg-red-50 rounded-lg transition",children:a.jsx(Qf,{size:18})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-[#D4AF37]/10 rounded-lg",children:a.jsx(Qt,{className:"text-[#D4AF37]",size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.stock}),a.jsx("p",{className:"text-sm text-gray-600",children:"In Stock"})]})]})}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(fc,{className:"text-blue-600",size:24})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r.view_count}),a.jsx("p",{className:"text-sm text-gray-600",children:"Views"})]})]})}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:a.jsx(Yf,{className:"text-green-600",size:24})}),a.jsxs("div",{children:[a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",r.price.toFixed(2)]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Price"})]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Images"}),m.length>0?a.jsx("div",{className:"space-y-4",children:m.map((f,p)=>a.jsxs("div",{children:[a.jsx("img",{src:f.url,alt:f.alt_text||`Product image ${p+1}`,className:"w-full rounded-lg border border-gray-200"}),f.alt_text&&a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:f.alt_text})]},f.id||p))}):a.jsx("p",{className:"text-gray-500 text-sm",children:"No images uploaded"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Details"}),a.jsxs("dl",{className:"space-y-3",children:[r.brand&&a.jsxs("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Brand"}),a.jsx("dd",{className:"text-sm text-gray-900",children:r.brand})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Price"}),a.jsxs("dd",{className:"text-2xl font-bold text-[#D4AF37]",children:["$",r.price.toFixed(2)]})]}),a.jsxs("div",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Stock"}),a.jsx("dd",{className:`text-sm font-medium ${r.stock>0?"text-green-600":"text-red-600"}`,children:r.stock>0?`${r.stock} units available`:"Out of stock"})]})]})]}),g.length>0&&a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Categories"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(f=>a.jsx("span",{className:"px-3 py-1 bg-[#D4AF37]/10 text-[#D4AF37] rounded-full text-sm font-medium",children:f.name},f.id))})]}),v.length>0&&a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Specifications"}),a.jsx("dl",{className:"space-y-2",children:v.map(f=>a.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-100 last:border-0",children:[a.jsx("dt",{className:"text-sm font-medium text-gray-700",children:f.spec_key}),a.jsx("dd",{className:"text-sm text-gray-900",children:f.spec_value})]},f.id))})]})]})]}),(r.short_description||r.description)&&a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 mt-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Description"}),r.short_description&&a.jsx("p",{className:"text-gray-700 mb-4 font-medium",children:r.short_description}),r.description&&a.jsx("p",{className:"text-gray-600 whitespace-pre-line",children:r.description})]}),a.jsx(wm,{isOpen:o,title:"Delete Product",message:"Are you sure you want to delete this product? This action cannot be undone.",confirmText:c?"Deleting...":"Delete",onConfirm:h,onCancel:()=>l(!1),variant:"danger"})]})}function Ub(){const{vendor:t,loading:e}=js(),[r,n]=_.useState([]),[s,i]=_.useState(!0),[o,l]=_.useState("all");_.useEffect(()=>{t&&c()},[t,o]);const c=async()=>{if(t)try{i(!0);const{data:h,error:m}=await A.from("products").select("id").eq("seller_id",t.id);if(m)throw m;const v=(h==null?void 0:h.map(y=>y.id))||[];if(v.length===0){n([]);return}let g=A.from("order_items").select(`
          *,
          products(id, name, price),
          orders!inner(
            id,
            status,
            total_amount,
            currency,
            placed_at,
            updated_at,
            shipping_address:addresses(*)
          )
        `).in("product_id",v).order("created_at",{ascending:!1});const{data:x,error:w}=await g;if(w)throw w;const f=new Map;x==null||x.forEach(y=>{const b=y.orders.id;f.has(b)||f.set(b,{...y.orders,order_items:[]});const k=f.get(b);k.order_items=k.order_items||[],k.order_items.push({...y,products:y.products})});let p=Array.from(f.values());o!=="all"&&(p=p.filter(y=>y.status===o)),n(p)}catch(h){console.error("Error fetching orders:",h)}finally{i(!1)}};if(e||s)return a.jsx("div",{className:"flex justify-center items-center min-h-screen",children:a.jsx(ie,{className:"animate-spin text-[#D4AF37]",size:48})});const u=h=>{switch(h){case"pending":return a.jsx(cy,{className:"text-yellow-600",size:20});case"completed":return a.jsx(Wf,{className:"text-green-600",size:20});case"shipped":return a.jsx(Qt,{className:"text-blue-600",size:20});case"cancelled":return a.jsx(Py,{className:"text-red-600",size:20});default:return null}},d=h=>{switch(h){case"pending":return"bg-yellow-100 text-yellow-800";case"completed":return"bg-green-100 text-green-800";case"shipped":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return a.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Orders"}),a.jsx("p",{className:"text-gray-600",children:"Manage orders containing your products"})]}),a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 mb-6",children:a.jsx("div",{className:"flex gap-2 overflow-x-auto",children:["all","pending","shipped","completed","cancelled"].map(h=>a.jsx("button",{onClick:()=>l(h),className:`px-4 py-2 rounded-lg font-medium transition whitespace-nowrap ${o===h?"bg-[#D4AF37] text-black":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:h.charAt(0).toUpperCase()+h.slice(1)},h))})}),r.length===0?a.jsxs("div",{className:"text-center py-20 bg-white rounded-lg border border-gray-200",children:[a.jsx(Qt,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Orders Found"}),a.jsx("p",{className:"text-gray-600",children:o==="all"?"No orders containing your products yet":`No ${o} orders`})]}):a.jsx("div",{className:"space-y-4",children:r.map(h=>{var m;return a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6 hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4 pb-4 border-b border-gray-200",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Order #",h.id.slice(0,8)]}),a.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${d(h.status)}`,children:[u(h.status),h.status.charAt(0).toUpperCase()+h.status.slice(1)]})]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Placed on ",new Date(h.placed_at).toLocaleDateString()," at"," ",new Date(h.placed_at).toLocaleTimeString()]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-2xl font-bold text-[#D4AF37]",children:["$",h.total_amount.toFixed(2)]}),a.jsx("p",{className:"text-sm text-gray-600",children:h.currency})]})]}),a.jsxs("div",{className:"space-y-3 mb-4",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Your Products in this Order:"}),(m=h.order_items)==null?void 0:m.map(v=>{var g;return a.jsxs("div",{className:"flex items-center justify-between py-2 px-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-900",children:((g=v.products)==null?void 0:g.name)||"Unknown Product"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Quantity: ",v.quantity,"  $",v.unit_price.toFixed(2)]})]}),a.jsxs("p",{className:"font-semibold text-gray-900",children:["$",(v.quantity*v.unit_price).toFixed(2)]})]},v.id)})]}),h.shipping_address&&a.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Shipping Address"}),a.jsxs("p",{className:"text-sm text-gray-600",children:[h.shipping_address.line1,h.shipping_address.line2&&`, ${h.shipping_address.line2}`,a.jsx("br",{}),h.shipping_address.city,", ",h.shipping_address.state," ",h.shipping_address.postal_code,a.jsx("br",{}),h.shipping_address.country]})]})]},h.id)})})]})}function zb(){const{vendor:t,loading:e,refetch:r}=js(),[n,s]=_.useState({business_name:"",email:"",phone:"",country:"",city:"",address:"",bank_name:"",bank_account_number:"",bank_account_name:"",payout_currency:"USD",logo_url:""}),[i,o]=_.useState(!1),[l,c]=_.useState(!1),[u,d]=_.useState(null),[h,m]=_.useState(!1);_.useEffect(()=>{t&&s({business_name:t.business_name,email:t.email,phone:t.phone||"",country:t.country||"",city:t.city||"",address:t.address||"",bank_name:t.bank_name||"",bank_account_number:t.bank_account_number||"",bank_account_name:t.bank_account_name||"",payout_currency:t.payout_currency||"USD",logo_url:t.logo_url||""})},[t]);const v=async x=>{o(!0),d(null);try{const w=await bm(x);s({...n,logo_url:w.displayUrl})}catch(w){d(w instanceof Error?w.message:"Logo upload failed")}finally{o(!1)}},g=async x=>{var w,f;x.preventDefault(),c(!0),d(null),m(!1);try{if(!((w=n.business_name)!=null&&w.trim()))throw new Error("Business name is required");if(!((f=n.email)!=null&&f.trim()))throw new Error("Email is required");if(t){const{error:p}=await A.from("vendors").update({business_name:n.business_name,email:n.email,phone:n.phone,country:n.country,city:n.city,address:n.address,bank_name:n.bank_name,bank_account_number:n.bank_account_number,bank_account_name:n.bank_account_name,payout_currency:n.payout_currency,logo_url:n.logo_url,updated_at:new Date().toISOString()}).eq("id",t.id);if(p)throw p}else{const{data:{user:p},error:y}=await A.auth.getUser();if(y)throw y;if(!p)throw new Error("User not authenticated");const{data:b}=await A.from("user_profiles").select("id").eq("user_id",p.id).maybeSingle();if(!b){const{error:j}=await A.from("user_profiles").insert({user_id:p.id,email:p.email,display_name:n.business_name||"Vendor"});if(j&&(console.error("Error creating user profile:",j),j.code!=="23505"))throw new Error(`Failed to create base user profile: ${j.message}`)}const{error:k}=await A.from("vendors").insert({user_id:p.id,business_name:n.business_name,email:n.email,phone:n.phone,country:n.country,city:n.city,address:n.address,bank_name:n.bank_name,bank_account_number:n.bank_account_number,bank_account_name:n.bank_account_name,payout_currency:n.payout_currency,logo_url:n.logo_url});if(k)throw k}m(!0),await r(),setTimeout(()=>m(!1),3e3)}catch(p){console.error("Error saving vendor profile:",p),d(p instanceof Error?p.message:"Failed to save profile")}finally{c(!1)}};return e?a.jsx("div",{className:"flex justify-center items-center min-h-screen",children:a.jsx(ie,{className:"animate-spin text-[#D4AF37]",size:48})}):a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Vendor Profile"}),a.jsx("p",{className:"text-gray-600",children:t?"Update your vendor information":"Create your vendor profile"})]}),u&&a.jsx("div",{className:"bg-red-50 text-red-600 px-4 py-3 rounded-lg mb-6",children:u}),h&&a.jsx("div",{className:"bg-green-50 text-green-600 px-4 py-3 rounded-lg mb-6",children:"Profile saved successfully!"}),t&&!t.is_verified&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:a.jsxs("p",{className:"text-sm text-yellow-800",children:[a.jsx("strong",{children:"Verification Pending:"})," Your vendor account is under review. You can still manage products, but they may not be visible to customers until verified."]})}),a.jsxs("form",{onSubmit:g,className:"space-y-8",children:[a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Business Information"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Logo"}),a.jsxs("div",{className:"flex items-center gap-4",children:[n.logo_url&&a.jsx("img",{src:n.logo_url,alt:"Business logo",className:"w-24 h-24 object-cover rounded-lg border border-gray-200"}),a.jsxs("label",{className:"cursor-pointer",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:x=>{var w;(w=x.target.files)!=null&&w[0]&&v(x.target.files[0])},className:"hidden"}),a.jsx("div",{className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:i?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"animate-spin",size:16}),"Uploading..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Yo,{size:16}),"Upload Logo"]})})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Business Name *"}),a.jsx("input",{type:"text",value:n.business_name,onChange:x=>s({...n,business_name:x.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"Your business name"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),a.jsx("input",{type:"email",value:n.email,onChange:x=>s({...n,email:x.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"business@example.com"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("input",{type:"tel",value:n.phone||"",onChange:x=>s({...n,phone:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"+1 234 567 8900"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),a.jsx("input",{type:"text",value:n.country||"",onChange:x=>s({...n,country:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"United States"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),a.jsx("input",{type:"text",value:n.city||"",onChange:x=>s({...n,city:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"New York"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("textarea",{value:n.address||"",onChange:x=>s({...n,address:x.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"Full business address"})]})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Bank Details"}),a.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Required for receiving payments from sales"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bank Name"}),a.jsx("input",{type:"text",value:n.bank_name||"",onChange:x=>s({...n,bank_name:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"e.g., Chase Bank"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Number"}),a.jsx("input",{type:"text",value:n.bank_account_number||"",onChange:x=>s({...n,bank_account_number:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"Account number"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account Holder Name"}),a.jsx("input",{type:"text",value:n.bank_account_name||"",onChange:x=>s({...n,bank_account_name:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",placeholder:"Name on bank account"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payout Currency"}),a.jsxs("select",{value:n.payout_currency,onChange:x=>s({...n,payout_currency:x.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#D4AF37] focus:border-transparent",children:[a.jsx("option",{value:"USD",children:"USD - US Dollar"}),a.jsx("option",{value:"EUR",children:"EUR - Euro"}),a.jsx("option",{value:"GBP",children:"GBP - British Pound"}),a.jsx("option",{value:"NGN",children:"NGN - Nigerian Naira"})]})]})]})]}),a.jsx("div",{className:"flex gap-4",children:a.jsx("button",{type:"submit",disabled:l,className:"flex-1 btn-primary inline-flex items-center justify-center gap-2",children:l?a.jsxs(a.Fragment,{children:[a.jsx(ie,{className:"animate-spin",size:20}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Kf,{size:20}),"Save Profile"]})})})]})]})}const Bb=()=>{const{itemCount:t}=jc();return a.jsx(tb,{cartItemCount:t})};function Mb(){const t=Ye(),e=(r,n)=>{t(r==="product"&&n?`/product/${n}`:r==="home"?"/":`/${r}`)};return a.jsx(lb,{children:a.jsx(cb,{children:a.jsxs(jb,{children:[a.jsx(Nb,{}),a.jsx(Sb,{}),a.jsx(kb,{}),a.jsxs("div",{className:"min-h-screen flex flex-col",children:[a.jsx(Bb,{}),a.jsx("main",{className:"grow px-4 sm:px-6 lg:px-8",children:a.jsxs(zu,{children:[a.jsx(ce,{path:"/",element:a.jsx(fd,{onNavigate:e})}),a.jsx(ce,{path:"/shop",element:a.jsx(ab,{onNavigate:e})}),a.jsx(ce,{path:"/product/:id",element:a.jsx(ub,{})}),a.jsx(ce,{path:"/cart",element:a.jsx(db,{onNavigate:e})}),a.jsx(ce,{path:"/checkout",element:a.jsx(hb,{})}),a.jsx(ce,{path:"/order-confirmation",element:a.jsx(fb,{})}),a.jsx(ce,{path:"/login",element:a.jsx(pb,{})}),a.jsx(ce,{path:"/account",element:a.jsx(bb,{})}),a.jsx(ce,{path:"/about",element:a.jsx(_b,{})}),a.jsx(ce,{path:"/vendor/*",element:a.jsx(Eb,{children:a.jsxs(zu,{children:[a.jsx(ce,{path:"dashboard",element:a.jsx(Cb,{})}),a.jsx(ce,{path:"products",element:a.jsx(Ob,{})}),a.jsx(ce,{path:"products/new",element:a.jsx(md,{})}),a.jsx(ce,{path:"products/:id",element:a.jsx(Lb,{})}),a.jsx(ce,{path:"products/:id/edit",element:a.jsx(md,{})}),a.jsx(ce,{path:"orders",element:a.jsx(Ub,{})}),a.jsx(ce,{path:"profile",element:a.jsx(zb,{})})]})})}),a.jsx(ce,{path:"*",element:a.jsx(fd,{onNavigate:e})})]})}),a.jsx(rb,{})]})]})})})}Tf(document.getElementById("root")).render(a.jsx(_.StrictMode,{children:a.jsx(Jv,{children:a.jsx(Mb,{})})}));
